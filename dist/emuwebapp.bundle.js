!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=430)}([function(e,t,r){var n=r(5),i=r(210);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){r(192),e.exports=angular},function(e,t,r){var n=r(9),i=r(10),a=r(25),o=r(15),s=r(40),l=function(e,t,r){var c,u,h,p,f=e&l.F,d=e&l.G,v=e&l.S,m=e&l.P,g=e&l.B,S=d?n:v?n[t]||(n[t]={}):(n[t]||{}).prototype,w=d?i:i[t]||(i[t]={}),y=w.prototype||(w.prototype={});for(c in d&&(r=t),r)h=((u=!f&&S&&void 0!==S[c])?S:r)[c],p=g&&u?s(h,n):m&&"function"==typeof h?s(Function.call,h):h,S&&o(S,c,h,e&l.U),w[c]!=h&&a(w,c,p),m&&y[c]!=h&&(y[c]=h)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){var n=r(7);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),o=[];function s(e){for(var t=-1,r=0;r<o.length;r++)if(o[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],c=r[l]||0,u="".concat(l," ").concat(c);r[l]=c+1;var h=s(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(o[h].references++,o[h].updater(p)):o.push({identifier:u,updater:m(p,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,r){var n=r.css,i=r.media,a=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d=null,v=0;function m(e,t){var r,n,i;if(t.singleton){var a=v++;r=d||(d=c(t)),n=p.bind(null,r,a,!1),i=p.bind(null,r,a,!0)}else r=c(t),n=f.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=s(r[n]);o[i].references--}for(var a=l(e,t),c=0;c<r.length;c++){var u=s(r[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}r=a}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(o=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[r].concat(a).concat([i]).join("\n")}var o,s,l;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(47)("wks"),i=r(46),a=r(9).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(3),i=r(108),a=r(34),o=Object.defineProperty;t.f=r(12)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(36),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},function(e,t,r){var n=r(9),i=r(25),a=r(20),o=r(46)("src"),s=r(217),l=(""+s).split("toString");r(10).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var c="function"==typeof r;c&&(a(r,"name")||i(r,"name",t)),e[t]!==r&&(c&&(a(r,o)||i(r,o,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t,r){var n=r(31);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(2),i=r(4),a=r(31),o=/"/g,s=function(e,t,r,n){var i=String(a(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}},function(e,t,r){var n;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},c=a.push,u=a.indexOf,h={},p=h.toString,f=h.hasOwnProperty,d=f.toString,v=d.call(Object),m={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},S=function(e){return null!=e&&e===e.window},w=r.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,r){var n,i,a=(r=r||w).createElement("script");if(a.text=e,t)for(n in y)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,i);r.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[p.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,r=x(e);return!g(e)&&!S(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:"3.6.0",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},k.extend=k.fn.extend=function(){var e,t,r,n,i,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||g(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(c&&n&&(k.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],a=i&&!Array.isArray(r)?[]:i||k.isPlainObject(r)?r:{},i=!1,o[t]=k.extend(c,a,n)):void 0!==n&&(o[t]=n));return o},k.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==p.call(e))&&(!(t=o(e))||"function"==typeof(r=f.call(t,"constructor")&&t.constructor)&&d.call(r)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){b(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(C(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(C(Object(e))?k.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:u.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,a=e.length,o=!r;i<a;i++)!t(e[i],i)!==o&&n.push(e[i]);return n},map:function(e,t,r){var n,i,a=0,o=[];if(C(e))for(n=e.length;a<n;a++)null!=(i=t(e[a],a,r))&&o.push(i);else for(a in e)null!=(i=t(e[a],a,r))&&o.push(i);return l(o)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=a[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var $=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,r,n,i,a,o,s,l,c,u,h,p,f,d,v,m,g,S,w,y="sizzle"+1*new Date,b=e.document,x=0,k=0,C=le(),$=le(),P=le(),T=le(),E=function(e,t){return e===t&&(h=!0),0},_={}.hasOwnProperty,M=[],A=M.pop,D=M.push,L=M.push,V=M.slice,I=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+N+"*("+B+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+N+"*\\]",R=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(N+"+","g"),j=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),z=new RegExp("^"+N+"*,"+N+"*"),U=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),W=new RegExp(N+"|>"),G=new RegExp(R),q=new RegExp("^"+B+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){p()},oe=ye((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{L.apply(M=V.call(b.childNodes),b.childNodes),M[b.childNodes.length].nodeType}catch(e){L={apply:M.length?function(e,t){D.apply(e,V.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,i){var a,s,c,u,h,d,g,S=t&&t.ownerDocument,b=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return n;if(!i&&(p(t),t=t||f,v)){if(11!==b&&(h=Q.exec(e)))if(a=h[1]){if(9===b){if(!(c=t.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(S&&(c=S.getElementById(a))&&w(t,c)&&c.id===a)return n.push(c),n}else{if(h[2])return L.apply(n,t.getElementsByTagName(e)),n;if((a=h[3])&&r.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(a)),n}if(r.qsa&&!T[e+" "]&&(!m||!m.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(g=e,S=t,1===b&&(W.test(e)||U.test(e))){for((S=ee.test(e)&&ge(t.parentNode)||t)===t&&r.scope||((u=t.getAttribute("id"))?u=u.replace(ne,ie):t.setAttribute("id",u=y)),s=(d=o(e)).length;s--;)d[s]=(u?"#"+u:":scope")+" "+we(d[s]);g=d.join(",")}try{return L.apply(n,S.querySelectorAll(g)),n}catch(t){T(e,!0)}finally{u===y&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,n,i)}function le(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function ce(e){return e[y]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function pe(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function ve(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(r,n){for(var i,a=e([],r.length,t),o=a.length;o--;)r[i=a[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},a=se.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!X.test(t||r&&r.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:b;return o!=f&&9===o.nodeType&&o.documentElement?(d=(f=o).documentElement,v=!a(f),b!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ae,!1):i.attachEvent&&i.attachEvent("onunload",ae)),r.scope=ue((function(e){return d.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),r.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ue((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=J.test(f.getElementsByClassName),r.getById=ue((function(e){return d.appendChild(e).id=y,!f.getElementsByName||!f.getElementsByName(y).length})),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var r,n,i,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(i=t.getElementsByName(e),n=0;a=i[n++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[i++];)1===r.nodeType&&n.push(r);return n}return a},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],m=[],(r.qsa=J.test(f.querySelectorAll))&&(ue((function(e){var t;d.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+y+"-]").length||m.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=J.test(S=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue((function(e){r.disconnectedMatch=S.call(e,"*"),S.call(e,"[s!='']:x"),g.push("!=",R)})),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=J.test(d.compareDocumentPosition),w=t||J.test(d.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return h=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==f||e.ownerDocument==b&&w(b,e)?-1:t==f||t.ownerDocument==b&&w(b,t)?1:u?I(u,e)-I(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return h=!0,0;var r,n=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e==f?-1:t==f?1:i?-1:a?1:u?I(u,e)-I(u,t):0;if(i===a)return pe(e,t);for(r=e;r=r.parentNode;)o.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;o[n]===s[n];)n++;return n?pe(o[n],s[n]):o[n]==b?-1:s[n]==b?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),r.matchesSelector&&v&&!T[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var n=S.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){T(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=f&&p(e),w(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=f&&p(e);var i=n.attrHandle[t.toLowerCase()],a=i&&_.call(n.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==a?a:r.attributes||!v?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,a=0;if(h=!r.detectDuplicates,u=!r.sortStable&&e.slice(0),e.sort(E),h){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return u=null,e},i=se.getText=function(e){var t,r="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=se.selectors={cacheLength:50,createPseudo:ce,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&G.test(r)&&(t=o(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(H," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var c,u,h,p,f,d,v=a!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),S=!l&&!s,w=!1;if(m){if(a){for(;v;){for(p=t;p=p[v];)if(s?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&S){for(w=(f=(c=(u=(h=(p=m)[y]||(p[y]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],p=f&&m.childNodes[f];p=++f&&p&&p[v]||(w=f=0)||d.pop();)if(1===p.nodeType&&++w&&p===t){u[e]=[x,f,w];break}}else if(S&&(w=f=(c=(u=(h=(p=t)[y]||(p[y]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===w)for(;(p=++f&&p&&p[v]||(w=f=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++w||(S&&((u=(h=p[y]||(p[y]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]=[x,w]),p!==t)););return(w-=i)===n||w%n==0&&w/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,r){for(var n,a=i(e,t),o=a.length;o--;)e[n=I(e,a[o])]=!(r[n]=a[o])})):function(e){return i(e,0,r)}):i}},pseudos:{not:ce((function(e){var t=[],r=[],n=s(e.replace(j,"$1"));return n[y]?ce((function(e,t,r,i){for(var a,o=n(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,n(t,null,a,r),t[0]=null,!r.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,re),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,r){return[r<0?r+t:r]})),even:me((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:me((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:me((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:me((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function Se(){}function we(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function ye(e,t,r){var n=t.dir,i=t.next,a=i||n,o=r&&"parentNode"===a,s=k++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||o)return e(t,r,i);return!1}:function(t,r,l){var c,u,h,p=[x,s];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(u=(h=t[y]||(t[y]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=u[a])&&c[0]===x&&c[1]===s)return p[2]=c[2];if(u[a]=p,p[2]=e(t,r,l))return!0}return!1}}function be(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function xe(e,t,r,n,i){for(var a,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(r&&!r(a,n,i)||(o.push(a),c&&t.push(s)));return o}function ke(e,t,r,n,i,a){return n&&!n[y]&&(n=ke(n)),i&&!i[y]&&(i=ke(i,a)),ce((function(a,o,s,l){var c,u,h,p=[],f=[],d=o.length,v=a||function(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),m=!e||!a&&t?v:xe(v,p,e,s,l),g=r?i||(a?e:d||n)?[]:o:m;if(r&&r(m,g,s,l),n)for(c=xe(g,f),n(c,[],s,l),u=c.length;u--;)(h=c[u])&&(g[f[u]]=!(m[f[u]]=h));if(a){if(i||e){if(i){for(c=[],u=g.length;u--;)(h=g[u])&&c.push(m[u]=h);i(null,g=[],c,l)}for(u=g.length;u--;)(h=g[u])&&(c=i?I(a,h):p[u])>-1&&(a[c]=!(o[c]=h))}}else g=xe(g===o?g.splice(d,g.length):g),i?i(null,o,g,l):L.apply(o,g)}))}function Ce(e){for(var t,r,i,a=e.length,o=n.relative[e[0].type],s=o||n.relative[" "],l=o?1:0,u=ye((function(e){return e===t}),s,!0),h=ye((function(e){return I(t,e)>-1}),s,!0),p=[function(e,r,n){var i=!o&&(n||r!==c)||((t=r).nodeType?u(e,r,n):h(e,r,n));return t=null,i}];l<a;l++)if(r=n.relative[e[l].type])p=[ye(be(p),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[y]){for(i=++l;i<a&&!n.relative[e[i].type];i++);return ke(l>1&&be(p),l>1&&we(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),r,l<i&&Ce(e.slice(l,i)),i<a&&Ce(e=e.slice(i)),i<a&&we(e))}p.push(r)}return be(p)}return Se.prototype=n.filters=n.pseudos,n.setFilters=new Se,o=se.tokenize=function(e,t){var r,i,a,o,s,l,c,u=$[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(o in r&&!(i=z.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=U.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(j," ")}),s=s.slice(r.length)),n.filter)!(i=Y[o].exec(s))||c[o]&&!(i=c[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):$(e,l).slice(0)},s=se.compile=function(e,t){var r,i=[],a=[],s=P[e+" "];if(!s){for(t||(t=o(e)),r=t.length;r--;)(s=Ce(t[r]))[y]?i.push(s):a.push(s);(s=P(e,function(e,t){var r=t.length>0,i=e.length>0,a=function(a,o,s,l,u){var h,d,m,g=0,S="0",w=a&&[],y=[],b=c,k=a||i&&n.find.TAG("*",u),C=x+=null==b?1:Math.random()||.1,$=k.length;for(u&&(c=o==f||o||u);S!==$&&null!=(h=k[S]);S++){if(i&&h){for(d=0,o||h.ownerDocument==f||(p(h),s=!v);m=e[d++];)if(m(h,o||f,s)){l.push(h);break}u&&(x=C)}r&&((h=!m&&h)&&g--,a&&w.push(h))}if(g+=S,r&&S!==g){for(d=0;m=t[d++];)m(w,y,o,s);if(a){if(g>0)for(;S--;)w[S]||y[S]||(y[S]=A.call(l));y=xe(y)}L.apply(l,y),u&&!a&&y.length>0&&g+t.length>1&&se.uniqueSort(l)}return u&&(x=C,c=b),w};return r?ce(a):a}(a,i))).selector=e}return s},l=se.select=function(e,t,r,i){var a,l,c,u,h,p="function"==typeof e&&e,f=!i&&o(e=p.selector||e);if(r=r||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&v&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,re),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=Y.needsContext.test(e)?0:l.length;a--&&(c=l[a],!n.relative[u=c.type]);)if((h=n.find[u])&&(i=h(c.matches[0].replace(te,re),ee.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(a,1),!(e=i.length&&we(l)))return L.apply(r,i),r;break}}return(p||s(e,f))(i,t,!v,r,!t||ee.test(e)&&ge(t.parentNode)||t),r},r.sortStable=y.split("").sort(E).join("")===y,r.detectDuplicates=!!h,p(),r.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||he(O,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(r);k.find=$,k.expr=$.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=$.uniqueSort,k.text=$.getText,k.isXMLDoc=$.isXML,k.contains=$.contains,k.escapeSelector=$.escape;var P=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(r))break;n.push(e)}return n},T=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},E=k.expr.match.needsContext;function _(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,r){return g(t)?k.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?k.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==r})):k.filter(t,e,r)}k.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?k.find.matchesSelector(n,e)?[n]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<n;t++)if(k.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)k.find(e,i[t],r);return n>1?k.uniqueSort(r):r},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&E.test(e)?k(e):e||[],!1).length}});var D,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||D,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),M.test(n[1])&&k.isPlainObject(t))for(n in t)g(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=w.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==r.ready?r.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,D=k(w);var V=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,a=[],o="string"!=typeof e&&k(e);if(!E.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&k.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(a.length>1?k.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P(e,"parentNode")},parentsUntil:function(e,t,r){return P(e,"parentNode",r)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return P(e,"nextSibling")},prevAll:function(e){return P(e,"previousSibling")},nextUntil:function(e,t,r){return P(e,"nextSibling",r)},prevUntil:function(e,t,r){return P(e,"previousSibling",r)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(_(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(r,n){var i=k.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=k.filter(n,i)),this.length>1&&(I[e]||k.uniqueSort(i),V.test(e)&&i.reverse()),this.pushStack(i)}}));var N=/[^\x20\t\r\n\f]+/g;function B(e){return e}function F(e){throw e}function R(e,t,r,n){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(r):e&&g(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(N)||[],(function(e,r){t[r]=!0})),t}(e):k.extend({},e);var t,r,n,i,a=[],o=[],s=-1,l=function(){for(i=i||e.once,n=t=!0;o.length;s=-1)for(r=o.shift();++s<a.length;)!1===a[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=a.length,r=!1);e.memory||(r=!1),t=!1,i&&(a=r?[]:"")},c={add:function(){return a&&(r&&!t&&(s=a.length-1,o.push(r)),function t(r){k.each(r,(function(r,n){g(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==x(n)&&t(n)}))}(arguments),r&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var r;(r=k.inArray(t,a,r))>-1;)a.splice(r,1),r<=s&&s--})),this},has:function(e){return e?k.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=r="",this},disabled:function(){return!a},lock:function(){return i=o=[],r||t||(a=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],o.push(r),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(r){k.each(t,(function(t,n){var i=g(e[n[4]])&&e[n[4]];a[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var a=0;function o(e,t,n,i){return function(){var s=this,l=arguments,c=function(){var r,c;if(!(e<a)){if((r=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,g(c)?i?c.call(r,o(a,t,B,i),o(a,t,F,i)):(a++,c.call(r,o(a,t,B,i),o(a,t,F,i),o(a,t,B,t.notifyWith))):(n!==B&&(s=void 0,l=[r]),(i||t.resolveWith)(s,l))}},u=i?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,u.stackTrace),e+1>=a&&(n!==F&&(s=void 0,l=[r]),t.rejectWith(s,l))}};e?u():(k.Deferred.getStackHook&&(u.stackTrace=k.Deferred.getStackHook()),r.setTimeout(u))}}return k.Deferred((function(r){t[0][3].add(o(0,r,g(i)?i:B,r.notifyWith)),t[1][3].add(o(0,r,g(e)?e:B)),t[2][3].add(o(0,r,g(n)?n:F))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},a={};return k.each(t,(function(e,r){var o=r[2],s=r[5];i[r[1]]=o.add,s&&o.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=o.fireWith})),i.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,r=t,n=Array(r),i=s.call(arguments),a=k.Deferred(),o=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?s.call(arguments):r,--t||a.resolveWith(n,i)}};if(t<=1&&(R(e,a.done(o(r)).resolve,a.reject,!t),"pending"===a.state()||g(i[r]&&i[r].then)))return a.then();for(;r--;)R(i[r],o(r),a.reject);return a.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&H.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout((function(){throw e}))};var j=k.Deferred();function z(){w.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),k.ready()}k.fn.ready=function(e){return j.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||j.resolveWith(w,[k]))}}),k.ready.then=j.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?r.setTimeout(k.ready):(w.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var U=function(e,t,r,n,i,a,o){var s=0,l=e.length,c=null==r;if("object"===x(r))for(s in i=!0,r)U(e,t,s,r[s],!0,a,o);else if(void 0!==n&&(i=!0,g(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(k(e),r)})),t))for(;s<l;s++)t(e[s],r,o?n:n.call(e[s],s,t(e[s],r)));return i?e:c?t.call(e):l?t(e[0],r):a},W=/^-ms-/,G=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Y(e){return e.replace(W,"ms-").replace(G,q)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=k.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[Y(t)]=r;else for(n in t)i[Y(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in n?[t]:t.match(N)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||k.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var K=new Z,J=new Z,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(r)}catch(e){}J.set(e,t,r)}else r=void 0;return r}k.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,r){return J.access(e,t,r)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,r){return K.access(e,t,r)},_removeData:function(e,t){K.remove(e,t)}}),k.fn.extend({data:function(e,t){var r,n,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=J.get(a),1===a.nodeType&&!K.get(a,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(n=o[r].name).indexOf("data-")&&(n=Y(n.slice(5)),te(a,n,i[n]));K.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){J.set(this,e)})):U(this,(function(t){var r;if(a&&void 0===t)return void 0!==(r=J.get(a,e))||void 0!==(r=te(a,e))?r:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),k.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=K.get(e,t),r&&(!n||Array.isArray(r)?n=K.access(e,t,k.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=k.queue(e,t),n=r.length,i=r.shift(),a=k._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete a.stop,i.call(e,(function(){k.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return K.get(e,r)||K.access(e,r,{empty:k.Callbacks("once memory").add((function(){K.remove(e,[t+"queue",r])}))})}}),k.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?k.queue(this[0],e):void 0===t?this:this.each((function(){var r=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=k.Deferred(),a=this,o=this.length,s=function(){--n||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=K.get(a[o],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ae=w.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},se={composed:!0};ae.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")};function ce(e,t,r,n){var i,a,o=20,s=n?function(){return n.cur()}:function(){return k.css(e,t,"")},l=s(),c=r&&r[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&ne.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)k.style(e,t,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),u/=a;u*=2,k.style(e,t,u+c),r=r||[]}return r&&(u=+u||+l||0,i=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=u,n.end=i)),i}var ue={};function he(e){var t,r=e.ownerDocument,n=e.nodeName,i=ue[n];return i||(t=r.body.appendChild(r.createElement(n)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ue[n]=i,i)}function pe(e,t){for(var r,n,i=[],a=0,o=e.length;a<o;a++)(n=e[a]).style&&(r=n.style.display,t?("none"===r&&(i[a]=K.get(n,"display")||null,i[a]||(n.style.display="")),""===n.style.display&&le(n)&&(i[a]=he(n))):"none"!==r&&(i[a]="none",K.set(n,"display",r)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}k.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?k(this).show():k(this).hide()}))}});var fe,de,ve=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;fe=w.createDocumentFragment().appendChild(w.createElement("div")),(de=w.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),fe.appendChild(de),m.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",m.option=!!fe.lastChild;var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&_(e,t)?k.merge([e],r):r}function ye(e,t){for(var r=0,n=e.length;r<n;r++)K.set(e[r],"globalEval",!t||K.get(t[r],"globalEval"))}Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,m.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function xe(e,t,r,n,i){for(var a,o,s,l,c,u,h=t.createDocumentFragment(),p=[],f=0,d=e.length;f<d;f++)if((a=e[f])||0===a)if("object"===x(a))k.merge(p,a.nodeType?[a]:a);else if(be.test(a)){for(o=o||h.appendChild(t.createElement("div")),s=(me.exec(a)||["",""])[1].toLowerCase(),l=Se[s]||Se._default,o.innerHTML=l[1]+k.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;k.merge(p,o.childNodes),(o=h.firstChild).textContent=""}else p.push(t.createTextNode(a));for(h.textContent="",f=0;a=p[f++];)if(n&&k.inArray(a,n)>-1)i&&i.push(a);else if(c=oe(a),o=we(h.appendChild(a),"script"),c&&ye(o),r)for(u=0;a=o[u++];)ge.test(a.type||"")&&r.push(a);return h}var ke=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function $e(){return!1}function Pe(e,t){return e===function(){try{return w.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,r,n,i,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Te(e,s,r,n,t[s],a);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=$e;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return k().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,n,r)}))}function Ee(e,t,r){r?(K.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,i,a=K.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=s.call(arguments),K.set(this,t,a),n=r(this,t),this[t](),a!==(i=K.get(this,t))||n?K.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else a.length&&(K.set(this,t,{value:k.event.trigger(k.extend(a[0],k.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&k.event.add(e,t,Ce)}k.event={global:{},add:function(e,t,r,n,i){var a,o,s,l,c,u,h,p,f,d,v,m=K.get(e);if(X(e))for(r.handler&&(r=(a=r).handler,i=a.selector),i&&k.find.matchesSelector(ae,i),r.guid||(r.guid=k.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)f=v=(s=ke.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=k.event.special[f]||{},u=k.extend({type:f,origType:v,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:d.join(".")},a),(p=l[f])||((p=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,d,o)||e.addEventListener&&e.addEventListener(f,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),k.event.global[f]=!0)},remove:function(e,t,r,n,i){var a,o,s,l,c,u,h,p,f,d,v,m=K.hasData(e)&&K.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(f=v=(s=ke.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},p=l[f=(n?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)u=p[a],!i&&v!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(p.splice(a,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(e,u));o&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,d,m.handle)||k.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[c],r,n,!0);k.isEmptyObject(l)&&K.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,a,o,s=new Array(arguments.length),l=k.event.fix(e),c=(K.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=k.event.handlers.call(this,l,c),t=0;(i=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(a=i.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((k.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,i,a,o,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],o={},r=0;r<l;r++)void 0===o[i=(n=t[r]).selector+" "]&&(o[i]=n.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),o[i]&&a.push(n);a.length&&s.push({elem:c,handlers:a})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&_(t,"input")&&Ee(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&_(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&_(t,"input")&&K.get(t,"click")||_(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:$e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:$e,isPropagationStopped:$e,isImmediatePropagationStopped:$e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Ee(this,e,Pe),!1},trigger:function(){return Ee(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===n||k.contains(n,i))||(e.type=a.origType,r=a.handler.apply(this,arguments),e.type=t),r}}})),k.fn.extend({on:function(e,t,r,n){return Te(this,e,t,r,n)},one:function(e,t,r,n){return Te(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,k(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=$e),this.each((function(){k.event.remove(this,e,r,t)}))}});var _e=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return _(e,"table")&&_(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ve(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var r,n,i,a,o,s;if(1===t.nodeType){if(K.hasData(e)&&(s=K.get(e).events))for(i in K.remove(t,"handle events"),s)for(r=0,n=s[i].length;r<n;r++)k.event.add(t,i,s[i][r]);J.hasData(e)&&(a=J.access(e),o=k.extend({},a),J.set(t,o))}}function Oe(e,t){var r=t.nodeName.toLowerCase();"input"===r&&ve.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Ne(e,t,r,n){t=l(t);var i,a,o,s,c,u,h=0,p=e.length,f=p-1,d=t[0],v=g(d);if(v||p>1&&"string"==typeof d&&!m.checkClone&&Me.test(d))return e.each((function(i){var a=e.eq(i);v&&(t[0]=d.call(this,i,a.html())),Ne(a,t,r,n)}));if(p&&(a=(i=xe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=a),a||n)){for(s=(o=k.map(we(i,"script"),Le)).length;h<p;h++)c=i,h!==f&&(c=k.clone(c,!0,!0),s&&k.merge(o,we(c,"script"))),r.call(e[h],c,h);if(s)for(u=o[o.length-1].ownerDocument,k.map(o,Ve),h=0;h<s;h++)c=o[h],ge.test(c.type||"")&&!K.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):b(c.textContent.replace(Ae,""),c,u))}return e}function Be(e,t,r){for(var n,i=t?k.filter(t,e):e,a=0;null!=(n=i[a]);a++)r||1!==n.nodeType||k.cleanData(we(n)),n.parentNode&&(r&&oe(n)&&ye(we(n,"script")),n.parentNode.removeChild(n));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,i,a,o,s=e.cloneNode(!0),l=oe(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(o=we(s),n=0,i=(a=we(e)).length;n<i;n++)Oe(a[n],o[n]);if(t)if(r)for(a=a||we(e),o=o||we(s),n=0,i=a.length;n<i;n++)Ie(a[n],o[n]);else Ie(e,s);return(o=we(s,"script")).length>0&&ye(o,!l&&we(e,"script")),s},cleanData:function(e){for(var t,r,n,i=k.event.special,a=0;void 0!==(r=e[a]);a++)if(X(r)){if(t=r[K.expando]){if(t.events)for(n in t.events)i[n]?k.event.remove(r,n):k.removeEvent(r,n,t.handle);r[K.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return U(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ne(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Ne(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ne(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ne(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return U(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!_e.test(e)&&!Se[(me.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(k.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,(function(t){var r=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(we(this)),r&&r.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var r,n=[],i=k(e),a=i.length-1,o=0;o<=a;o++)r=o===a?this:this.clone(!0),k(i[o])[t](r),c.apply(n,r.get());return this.pushStack(n)}}));var Fe=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},He=function(e,t,r){var n,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=a[i];return n},je=new RegExp(ie.join("|"),"i");function ze(e,t,r){var n,i,a,o,s=e.style;return(r=r||Re(e))&&(""!==(o=r.getPropertyValue(t)||r[t])||oe(e)||(o=k.style(e,t)),!m.pixelBoxStyles()&&Fe.test(o)&&je.test(t)&&(n=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=r.width,s.width=n,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),i=36===t(e.width),u.style.position="absolute",a=12===t(u.offsetWidth/3),ae.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,a,o,s,l,c=w.createElement("div"),u=w.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ae.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ae.removeChild(e)),s}}))}();var We=["Webkit","Moz","ms"],Ge=w.createElement("div").style,qe={};function Ye(e){var t=k.cssProps[e]||qe[e];return t||(e in Ge?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=We.length;r--;)if((e=We[r]+t)in Ge)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,r){var n=ne.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function et(e,t,r,n,i,a){var o="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(l+=k.css(e,r+ie[o],!0,i)),n?("content"===r&&(l-=k.css(e,"padding"+ie[o],!0,i)),"margin"!==r&&(l-=k.css(e,"border"+ie[o]+"Width",!0,i))):(l+=k.css(e,"padding"+ie[o],!0,i),"padding"!==r?l+=k.css(e,"border"+ie[o]+"Width",!0,i):s+=k.css(e,"border"+ie[o]+"Width",!0,i));return!n&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function tt(e,t,r){var n=Re(e),i=(!m.boxSizingReliable()||r)&&"border-box"===k.css(e,"boxSizing",!1,n),a=i,o=ze(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(o)){if(!r)return o;o="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&_(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,n),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+et(e,t,r||(i?"border":"content"),a,n,o)+"px"}function rt(e,t,r,n,i){return new rt.prototype.init(e,t,r,n,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=ze(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=Y(t),l=Ze.test(t),c=e.style;if(l||(t=Ye(s)),o=k.cssHooks[t]||k.cssHooks[s],void 0===r)return o&&"get"in o&&void 0!==(i=o.get(e,!1,n))?i:c[t];"string"===(a=typeof r)&&(i=ne.exec(r))&&i[1]&&(r=ce(e,t,i),a="number"),null!=r&&r==r&&("number"!==a||l||(r+=i&&i[3]||(k.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(e,r,n))||(l?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,n){var i,a,o,s=Y(t);return Ze.test(t)||(t=Ye(s)),(o=k.cssHooks[t]||k.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,r)),void 0===i&&(i=ze(e,t,n)),"normal"===i&&t in Je&&(i=Je[t]),""===r||r?(a=parseFloat(i),!0===r||isFinite(a)?a||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,r,n){if(r)return!Xe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,n):He(e,Ke,(function(){return tt(e,t,n)}))},set:function(e,r,n){var i,a=Re(e),o=!m.scrollboxSize()&&"absolute"===a.position,s=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,a),l=n?et(e,t,n,s,a):0;return s&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-et(e,t,"border",!1,a)-.5)),l&&(i=ne.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=k.css(e,t)),Qe(0,r,l)}}})),k.cssHooks.marginLeft=Ue(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(r){for(var n=0,i={},a="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+ie[n]+t]=a[n]||a[n-2]||a[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=Qe)})),k.fn.extend({css:function(e,t){return U(this,(function(e,t,r){var n,i,a={},o=0;if(Array.isArray(t)){for(n=Re(e),i=t.length;o<i;o++)a[t[o]]=k.css(e,t[o],!1,n);return a}return void 0!==r?k.style(e,t,r):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,r,n,i,a){this.elem=e,this.prop=r,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(k.cssNumber[r]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,r=rt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ye(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=rt.prototype.init,k.fx.step={};var nt,it,at=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){it&&(!1===w.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(st):r.setTimeout(st,k.fx.interval),k.fx.tick())}function lt(){return r.setTimeout((function(){nt=void 0})),nt=Date.now()}function ct(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=ie[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,r){for(var n,i=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),a=0,o=i.length;a<o;a++)if(n=i[a].call(r,t,e))return n}function ht(e,t,r){var n,i,a=0,o=ht.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=nt||lt(),r=Math.max(0,c.startTime+c.duration-t),n=1-(r/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(n);return s.notifyWith(e,[c,n,r]),n<1&&o?r:(o||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},r),originalProperties:t,originalOptions:r,startTime:nt||lt(),duration:r.duration,tweens:[],createTween:function(t,r){var n=k.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var r,n,i,a,o;for(r in e)if(i=t[n=Y(r)],a=e[r],Array.isArray(a)&&(i=a[1],a=e[r]=a[0]),r!==n&&(e[n]=a,delete e[r]),(o=k.cssHooks[n])&&"expand"in o)for(r in a=o.expand(a),delete e[n],a)r in e||(e[r]=a[r],t[r]=i);else t[n]=i}(u,c.opts.specialEasing);a<o;a++)if(n=ht.prefilters[a].call(c,e,u,c.opts))return g(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,ut,c),g(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(ht,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ce(r.elem,e,ne.exec(t),r),r}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(N);for(var r,n=0,i=e.length;n<i;n++)r=e[n],ht.tweeners[r]=ht.tweeners[r]||[],ht.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,a,o,s,l,c,u,h="width"in t||"height"in t,p=this,f={},d=e.style,v=e.nodeType&&le(e),m=K.get(e,"fxshow");for(n in r.queue||(null==(o=k._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,p.always((function(){p.always((function(){o.unqueued--,k.queue(e,"fx").length||o.empty.fire()}))}))),t)if(i=t[n],at.test(i)){if(delete t[n],a=a||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;v=!0}f[n]=m&&m[n]||k.style(e,n)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(n in h&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=m&&m.display)&&(c=K.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(pe([e],!0),c=e.style.display||c,u=k.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(p.done((function(){d.display=c})),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",p.always((function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(v=m.hidden):m=K.access(e,"fxshow",{display:c}),a&&(m.hidden=!v),v&&pe([e],!0),p.done((function(){for(n in v||pe([e]),K.remove(e,"fxshow"),f)k.style(e,n,f[n])}))),l=ut(v?m[n]:0,n,p),n in m||(m[n]=l.start,v&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),k.speed=function(e,t,r){var n=e&&"object"==typeof e?k.extend({},e):{complete:r||!r&&t||g(e)&&e,duration:e,easing:r&&t||t&&!g(t)&&t};return k.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(e,t,r,n){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=k.isEmptyObject(e),a=k.speed(t,r,n),o=function(){var t=ht(this,k.extend({},e),a);(i||K.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",a=k.timers,o=K.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&ot.test(i)&&n(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(r),t=!1,a.splice(i,1));!t&&r||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=K.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],a=k.timers,o=n?n.length:0;for(r.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var r=k.fn[t];k.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ct(t,!0),e,n,i)}})),k.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),k.timers=[],k.fx.tick=function(){var e,t=0,r=k.timers;for(nt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,st())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=w.createElement("input"),t=w.createElement("select").appendChild(w.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=w.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var pt,ft=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return U(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,r){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?k.prop(e,t,r):(1===a&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?pt:void 0)),void 0!==r?null===r?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=k.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&_(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(N);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),pt={set:function(e,t,r){return!1===t?k.removeAttr(e,r):e.setAttribute(r,r),r}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=ft[t]||k.find.attr;ft[t]=function(e,t,n){var i,a,o=t.toLowerCase();return n||(a=ft[o],ft[o]=i,i=null!=r(e,t,n)?o:null,ft[o]=a),i}}));var dt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function mt(e){return(e.match(N)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}k.fn.extend({prop:function(e,t){return U(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,r){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,r,n,i,a,o,s,l=0;if(g(e))return this.each((function(t){k(this).addClass(e.call(this,t,gt(this)))}));if((t=St(e)).length)for(;r=this[l++];)if(i=gt(r),n=1===r.nodeType&&" "+mt(i)+" "){for(o=0;a=t[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");i!==(s=mt(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,i,a,o,s,l=0;if(g(e))return this.each((function(t){k(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=St(e)).length)for(;r=this[l++];)if(i=gt(r),n=1===r.nodeType&&" "+mt(i)+" "){for(o=0;a=t[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");i!==(s=mt(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(r){k(this).toggleClass(e.call(this,r,gt(this),t),t)})):this.each((function(){var t,i,a,o;if(n)for(i=0,a=k(this),o=St(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==r||((t=gt(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+mt(gt(r))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=g(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(wt,""):null==r?"":r:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,r,n,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:i.length;for(n=a<0?l:o?a:0;n<l;n++)if(((r=i[n]).selected||n===a)&&!r.disabled&&(!r.parentNode.disabled||!_(r.parentNode,"optgroup"))){if(t=k(r).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,a=k.makeArray(t),o=i.length;o--;)((n=i[o]).selected=k.inArray(k.valHooks.option.get(n),a)>-1)&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},m.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in r;var yt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var a,o,s,l,c,u,h,p,d=[n||w],v=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(o=p=s=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!yt.test(v+k.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[k.expando]?e:new k.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[v]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!S(n)){for(l=h.delegateType||v,yt.test(l+v)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(n.ownerDocument||w)&&d.push(s.defaultView||s.parentWindow||r)}for(a=0;(o=d[a++])&&!e.isPropagationStopped();)p=o,e.type=a>1?l:h.bindType||v,(u=(K.get(o,"events")||Object.create(null))[e.type]&&K.get(o,"handle"))&&u.apply(o,t),(u=c&&o[c])&&u.apply&&X(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),t)||!X(n)||c&&g(n[v])&&!S(n)&&((s=n[c])&&(n[c]=null),k.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,bt),n[v](),e.isPropagationStopped()&&p.removeEventListener(v,bt),k.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,r){var n=k.extend(new k.Event,r,{type:e,isSimulated:!0});k.event.trigger(n,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return k.event.trigger(e,t,r,!0)}}),m.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=K.access(n,t);i||n.addEventListener(e,r,!0),K.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=K.access(n,t)-1;i?K.access(n,t,i):(n.removeEventListener(e,r,!0),K.remove(n,t))}}}));var xt=r.location,kt={guid:Date.now()},Ct=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var $t=/\[\]$/,Pt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function _t(e,t,r,n){var i;if(Array.isArray(t))k.each(t,(function(t,i){r||$t.test(e)?n(e,i):_t(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==x(t))n(e,t);else for(i in t)_t(e+"["+i+"]",t[i],r,n)}k.param=function(e,t){var r,n=[],i=function(e,t){var r=g(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(r in e)_t(r,e[r],t,i);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Et.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var r=k(this).val();return null==r?null:Array.isArray(r)?k.map(r,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:r.replace(Pt,"\r\n")}})).get()}});var Mt=/%20/g,At=/#.*$/,Dt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vt=/^(?:GET|HEAD)$/,It=/^\/\//,Ot={},Nt={},Bt="*/".concat("*"),Ft=w.createElement("a");function Rt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,a=t.toLowerCase().match(N)||[];if(g(r))for(;n=a[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ht(e,t,r,n){var i={},a=e===Nt;function o(s){var l;return i[s]=!0,k.each(e[s]||[],(function(e,s){var c=s(t,r,n);return"string"!=typeof c||a||i[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function jt(e,t){var r,n,i=k.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&k.extend(!0,e,n),e}Ft.href=xt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,k.ajaxSettings),t):jt(k.ajaxSettings,e)},ajaxPrefilter:Rt(Ot),ajaxTransport:Rt(Nt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,a,o,s,l,c,u,h,p,f=k.ajaxSetup({},t),d=f.context||f,v=f.context&&(d.nodeType||d.jquery)?k(d):k.event,m=k.Deferred(),g=k.Callbacks("once memory"),S=f.statusCode||{},y={},b={},x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Lt.exec(a);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)S[t]=[S[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),$(0,t),this}};if(m.promise(C),f.url=((e||f.url||xt.href)+"").replace(It,xt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){l=w.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Ht(Ot,f,t,C),c)return C;for(h in(u=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Vt.test(f.type),i=f.url.replace(At,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Mt,"+")):(p=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(Ct.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Dt,"$1"),p=(Ct.test(i)?"&":"?")+"_="+kt.guid+++p),f.url=i+p),f.ifModified&&(k.lastModified[i]&&C.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&C.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bt+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(d,C,f)||c))return C.abort();if(x="abort",g.add(f.complete),C.done(f.success),C.fail(f.error),n=Ht(Nt,f,t,C)){if(C.readyState=1,u&&v.trigger("ajaxSend",[C,f]),c)return C;f.async&&f.timeout>0&&(s=r.setTimeout((function(){C.abort("timeout")}),f.timeout));try{c=!1,n.send(y,$)}catch(e){if(c)throw e;$(-1,e)}}else $(-1,"No Transport");function $(e,t,o,l){var h,p,w,y,b,x=t;c||(c=!0,s&&r.clearTimeout(s),n=void 0,a=l||"",C.readyState=e>0?4:0,h=e>=200&&e<300||304===e,o&&(y=function(e,t,r){for(var n,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in r)a=l[0];else{for(i in r){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),r[a]}(f,C,o)),!h&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),y=function(e,t,r,n){var i,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(i in c)if((s=i.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[i]:!0!==c[i]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(f,y,C,h),h?(f.ifModified&&((b=C.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=b),(b=C.getResponseHeader("etag"))&&(k.etag[i]=b)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=y.state,p=y.data,h=!(w=y.error))):(w=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(t||x)+"",h?m.resolveWith(d,[p,x,C]):m.rejectWith(d,[C,x,w]),C.statusCode(S),S=void 0,u&&v.trigger(h?"ajaxSuccess":"ajaxError",[C,f,h?p:w]),g.fireWith(d,[C,x]),u&&(v.trigger("ajaxComplete",[C,f]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,r){return k.get(e,t,r,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,r,n,i){return g(r)&&(i=i||n,n=r,r=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:r,success:n},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,r){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,r)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(r){k(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Ut=k.ajaxSettings.xhr();m.cors=!!Ut&&"withCredentials"in Ut,m.ajax=Ut=!!Ut,k.ajaxTransport((function(e){var t,n;if(m.cors||Ut&&!e.crossDomain)return{send:function(i,a){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),w.head.appendChild(t[0])},abort:function(){r&&r()}}}));var Wt,Gt=[],qt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var i,a,o,s=!1!==e.jsonp&&(qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(qt,"$1"+i):!1!==e.jsonp&&(e.url+=(Ct.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||k.error(i+" was not called"),o[0]},e.dataTypes[0]="json",a=r[i],r[i]=function(){o=arguments},n.always((function(){void 0===a?k(r).removeProp(i):r[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(i)),o&&g(a)&&a(o[0]),o=a=void 0})),"script"})),m.createHTMLDocument=((Wt=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),k.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(m.createHTMLDocument?((n=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(n)):t=w),a=!r&&[],(i=M.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,a),a&&a.length&&k(a).remove(),k.merge([],i.childNodes)));var n,i,a},k.fn.load=function(e,t,r){var n,i,a,o=this,s=e.indexOf(" ");return s>-1&&(n=mt(e.slice(s)),e=e.slice(0,s)),g(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(n?k("<div>").append(k.parseHTML(e)).find(n):e)})).always(r&&function(e,t){o.each((function(){r.apply(this,a||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,r){var n,i,a,o,s,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),s=u.offset(),a=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(n=u.position()).top,i=n.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),g(t)&&(t=t.call(e,r,k.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===k.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(n,"marginTop",!0),left:t.left-i.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ae}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;k.fn[e]=function(n){return U(this,(function(e,n,i){var a;if(S(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[n];a?a.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i}),e,n,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=Ue(m.pixelPosition,(function(e,r){if(r)return r=ze(e,t),Fe.test(r)?k(e).position()[t]+"px":r}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){k.fn[n]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===a?"margin":"border");return U(this,(function(t,r,i){var a;return S(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?k.css(t,r,s):k.style(t,r,i,s)}),t,o?i:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),g(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=_,k.isFunction=g,k.isWindow=S,k.camelCase=Y,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Xt=r.jQuery,Zt=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=Zt),e&&r.jQuery===k&&(r.jQuery=Xt),k},void 0===i&&(r.jQuery=r.$=k),k}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,r){var n=r(48),i=r(31);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(2),i=r(10),a=r(4);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*a((function(){r(1)})),"Object",o)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(18),i=r(37),a=r(44),o=r(71),s=r(54),l=r(14),c=r(38),u=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.a;break;case 1:if(!r){o.destination=a.a;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new h(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new h(o,r,n,i)}return o}return n.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(o.a),h=function(e){function t(t,r,n,o){var s,l=e.call(this)||this;l._parentSubscriber=t;var c=l;return Object(i.a)(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a.a&&(c=Object.create(r),Object(i.a)(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=s,l._error=n,l._complete=o,l}return n.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw e;Object(c.a)(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(c.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,r){var n=r(11),i=r(39);e.exports=r(12)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(20),i=r(16),a=r(79)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){var n=r(40),i=r(48),a=r(16),o=r(13),s=r(317);e.exports=function(e,t){var r=1==e,l=2==e,c=3==e,u=4==e,h=6==e,p=5==e||h,f=t||s;return function(t,s,d){for(var v,m,g=a(t),S=i(g),w=n(s,d,3),y=o(S.length),b=0,x=r?f(t,y):l?f(t,0):void 0;y>b;b++)if((p||b in S)&&(m=w(v=S[b],b,g),e))if(r)x[b]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return b;case 2:x.push(v)}else if(u)return!1;return h?-1:c||u?u:x}}},function(e,t,r){var n=r(141),i=r(2),a=r(47)("metadata"),o=a.store||(a.store=new(r(357))),s=function(e,t,r){var i=o.get(e);if(!i){if(!r)return;o.set(e,i=new n)}var a=i.get(t);if(!a){if(!r)return;i.set(t,a=new n)}return a};e.exports={store:o,map:s,has:function(e,t,r){var n=s(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=s(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){s(r,n,!0).set(e,t)},keys:function(e,t){var r=s(e,t,!1),n=[];return r&&r.forEach((function(e,t){n.push(t)})),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(46)("meta"),i=r(7),a=r(20),o=r(11).f,s=0,l=Object.isExtensible||function(){return!0},c=!r(4)((function(){return l(Object.preventExtensions({}))})),u=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!a(e,n)&&u(e),e}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(61),i=r(39),a=r(22),o=r(34),s=r(20),l=r(108),c=Object.getOwnPropertyDescriptor;t.f=r(12)?c:function(e,t){if(e=a(e),t=o(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},,function(e,t,r){var n=r(7);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,"a",(function(){return n}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(29);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(111),i=r(80);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(3),i=r(113),a=r(80),o=r(79)("IE_PROTO"),s=function(){},l=function(){var e,t=r(109)("iframe"),n=a.length;for(t.style.display="none",r(114).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=l(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(7);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(38),a={closed:!0,next:function(e){},error:function(e){if(n.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},,function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(10),i=r(9),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(58)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(35);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(36),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){var n=r(111),i=r(80).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t){e.exports={}},function(e,t,r){var n=r(8)("unscopables"),i=Array.prototype;null==i[n]&&r(25)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n,i,a;i=[],void 0===(a="function"==typeof(n=function(){var e,t,r,n;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var a=[];for(var o in i)e.call(i,o)&&a.push(o);if(t)for(var s=0;s<n;s++)e.call(i,r[s])&&a.push(r[s]);return a})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var i=n>=0?n:Math.max(r-Math.abs(n),0);i<r;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var i=function(e,t,r,n,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=r,this.definedKeywords={},e)for(var a in e.definedKeywords)this.definedKeywords[a]=e.definedKeywords[a].slice(0)};function a(e,t){if(e===t)return!0;if("object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!a(e[r],t[r]))return!1}else{var n;for(n in e)if(void 0===t[n]&&void 0!==e[n])return!1;for(n in t)if(void 0===e[n]&&void 0!==t[n])return!1;for(n in e)if(!a(e[n],t[n]))return!1}return!0}return!1}function o(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function s(e,t){return t=o(t||""),e=o(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(r=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,n=[],r.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?n.pop():n.push(e)})),n.join("").replace(/^\//,"/"===r.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var r,n}function l(e){return e.split("#")[0]}function c(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=s(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)c(e[r],t);else for(var n in"string"==typeof e.$ref&&(e.$ref=s(t,e.$ref)),e)"enum"!==n&&c(e[n],t)}i.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},i.prototype.createError=function(e,t,r,n,i){var a=this.errorMessages[e]||f[e];return new d(e,"string"!=typeof a?"Unknown error code "+e+": "+JSON.stringify(t):a.replace(/\{([^{}]*)\}/g,(function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e})),r,n,i)},i.prototype.returnError=function(e){return e},i.prototype.collectError=function(e){return e&&this.errors.push(e),null},i.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},i.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(u.UNKNOWN_PROPERTY,{path:e},e,""),r=this.handleError(t);if(r)return r}return null},i.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},i.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if((t=t||{})[e.$ref])return this.createError(u.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},i.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var a=decodeURIComponent(i);if(""===a)return this.resolveRefs(r,t);if("/"!==a.charAt(0))return;for(var o=a.split("/").slice(1),s=0;s<o.length;s++){var l=o[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[l]){r=void 0;break}r=r[l]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},i.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e)for(var r in"string"==typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var n=l(e[r]);n&&void 0===this.schemas[n]&&void 0===this.missingMap[n]&&(this.missingMap[n]=n)}},i.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;e=(t=e).id}(e=l(e)+"#")&&(e=l(e)),this.schemas[e]=t,delete this.missingMap[e],c(t,e),this.searchSchemas(t,e)},i.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},i.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},i.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},i.prototype.dropSchemas=function(){this.schemas={},this.reset()},i.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},i.prototype.validateAll=function(e,t,r,n,i){var a;if(!(t=this.resolveRefs(t)))return null;if(t instanceof d)return this.errors.push(t),t;var o,s=this.errors.length,l=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var u=e[this.validatedSchemasKey].indexOf(t);if(-1!==u)return this.errors=this.errors.concat(e[this.validationErrorsKey][u]),null}if(Object.isFrozen(e)&&-1!==(o=this.scannedFrozen.indexOf(e))){var h=this.scannedFrozenSchemas[o].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[o][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===o&&(o=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[o].length,this.scannedFrozenSchemas[o][l]=t,this.scannedFrozenValidationErrors[o][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var p=this.errors.length,f=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(a){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||p!==this.errors.length)for(;r&&r.length||n&&n.length;){var v=r&&r.length?""+r.pop():null,m=n&&n.length?""+n.pop():null;f&&(f=f.prefixWith(v,m)),this.prefixErrors(p,v,m)}return null!==l?this.scannedFrozenValidationErrors[o][l]=this.errors.slice(s):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(s)),this.handleError(f)},i.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(u.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"==typeof r?this.createError(u.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null},i.prototype.validateDefinedKeywords=function(e,t){for(var r in this.definedKeywords)if(void 0!==t[r])for(var n=this.definedKeywords[r],i=0;i<n.length;i++){var a=(0,n[i])(e,t[r],t);if("string"==typeof a||"number"==typeof a)return this.createError(u.KEYWORD_CUSTOM,{key:r,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var o=a.code||u.KEYWORD_CUSTOM;if("string"==typeof o){if(!u[o])throw new Error("Undefined error code (use defineError): "+o);o=u[o]}var s="object"==typeof a.message?a.message:{key:r,message:a.message||"?"},l=a.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(o,s,a.dataPath||null,l)}}return null},i.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))||(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},i.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;"object"!=typeof n&&(n=[n]);for(var i=0;i<n.length;i++){var a=n[i];if(a===r||"integer"===a&&"number"===r&&e%1==0)return null}return this.createError(u.INVALID_TYPE,{type:r,expected:n.join("/")})},i.prototype.validateEnum=function(e,t){if(void 0===t.enum)return null;for(var r=0;r<t.enum.length;r++)if(a(e,t.enum[r]))return null;return this.createError(u.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e})},i.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||null},i.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;return void 0===r?null:"number"==typeof e&&e%r!=0?this.createError(u.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r}):null},i.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(u.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(u.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(u.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(u.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},i.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},i.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(u.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(u.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},i.prototype.validateStringPattern=function(e,t){return"string"!=typeof e||void 0===t.pattern||new RegExp(t.pattern).test(e)?null:this.createError(u.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},i.prototype.validateArray=function(e,t,r){return Array.isArray(e)&&(this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r))||null},i.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(u.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(r))||void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(u.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null},i.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var r=0;r<e.length;r++)for(var n=r+1;n<e.length;n++)if(a(e[r],e[n])){var i=this.createError(u.ARRAY_UNIQUE,{match1:r,match2:n}).prefixWith(null,"uniqueItems");if(this.handleError(i))return i}return null},i.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(n=this.validateAll(e[i],t.items[i],[i],["items",i],r+"/"+i))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(u.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],r+"/"+i))return n}else for(i=0;i<e.length;i++)if(n=this.validateAll(e[i],t.items,[i],["items"],r+"/"+i))return n;return null},i.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},i.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(u.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(r))||void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(u.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(r))?r:null},i.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var i=this.createError(u.OBJECT_REQUIRED,{key:n}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(i))return i}}return null},i.prototype.validateObjectProperties=function(e,t,r){var n;for(var i in e){var a=r+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),o=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(o=!0,n=this.validateAll(e[i],t.properties[i],[i],["properties",i],a)))return n;if(void 0!==t.patternProperties)for(var s in t.patternProperties)if(new RegExp(s).test(i)&&(o=!0,n=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],a)))return n;if(o)this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(u.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],a))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[a]&&(this.unknownPropertyPaths[a]=!0)}return null},i.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var a=t.dependencies[i];if("string"==typeof a){if(void 0===e[a]&&(n=this.createError(u.OBJECT_DEPENDENCY_KEY,{key:i,missing:a}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(a))for(var o=0;o<a.length;o++){var s=a[o];if(void 0===e[s]&&(n=this.createError(u.OBJECT_DEPENDENCY_KEY,{key:i,missing:s}).prefixWith(null,""+o).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,a,[],["dependencies",i],r))return n}return null},i.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},i.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,i=0;i<t.allOf.length;i++){var a=t.allOf[i];if(n=this.validateAll(e,a,[],["allOf",i],r))return n}return null},i.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,i,a=[],o=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=!0,l=0;l<t.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[l],h=this.errors.length,p=this.validateAll(e,c,[],["anyOf",l],r);if(null===p&&h===this.errors.length){if(this.errors=this.errors.slice(0,o),this.trackUnknownProperties){for(var f in this.knownPropertyPaths)i[f]=!0,delete n[f];for(var d in this.unknownPropertyPaths)i[d]||(n[d]=!0);s=!1;continue}return null}p&&a.push(p.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),s?(a=a.concat(this.errors.slice(o)),this.errors=this.errors.slice(0,o),this.createError(u.ANY_OF_MISSING,{},"","/anyOf",a)):void 0},i.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,i,a=null,o=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var l=0;l<t.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[l],h=this.errors.length,p=this.validateAll(e,c,[],["oneOf",l],r);if(null===p&&h===this.errors.length){if(null!==a)return this.errors=this.errors.slice(0,s),this.createError(u.ONE_OF_MULTIPLE,{index1:a,index2:l},"","/oneOf");if(a=l,this.trackUnknownProperties){for(var f in this.knownPropertyPaths)i[f]=!0,delete n[f];for(var d in this.unknownPropertyPaths)i[d]||(n[d]=!0)}}else p&&o.push(p.prefixWith(null,""+l).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),null===a?(o=o.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(u.ONE_OF_MISSING,{},"","/oneOf",o)):(this.errors=this.errors.slice(0,s),null)},i.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,i,a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var o=this.validateAll(e,t.not,null,null,r),s=this.errors.slice(a);return this.errors=this.errors.slice(0,a),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),null===o&&0===s.length?this.createError(u.NOT_PASSED,{},"","/not"):null};var u={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},h={};for(var p in u)h[u[p]]=p;var f={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function d(e,t,r,n,i){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=i||null;var a=new Error(this.message);if(this.stack=a.stack||a.stacktrace,!this.stack)try{throw a}catch(a){this.stack=a.stack||a.stacktrace}}d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="ValidationError",d.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var v={},m=function e(t){var r=new i,n=t||"en";return{addFormat:function(){r.addFormat.apply(r,arguments)},language:function(e){return e?(v[e]||(e=e.split("-")[0]),!!v[e]&&(n=e,e)):n},addLanguage:function(e,t){var r;for(r in u)t[r]&&!t[u[r]]&&(t[u[r]]=t[r]);var n=e.split("-")[0];if(v[n])for(r in v[e]=Object.create(v[n]),t)void 0===v[n][r]&&(v[n][r]=t[r]),v[e][r]=t[r];else v[e]=t,v[n]=t;return this},freshApi:function(t){var r=e();return t&&r.language(t),r},validate:function(e,t,a,o){var s=new i(r,!1,v[n],a,o);"string"==typeof t&&(t={$ref:t}),s.addSchema("",t);var l=s.validateAll(e,t,null,null,"");return!l&&o&&(l=s.banUnknownProperties()),this.error=l,this.missing=s.missing,this.valid=null===l,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,t,a,o){var s=new i(r,!0,v[n],a,o);"string"==typeof t&&(t={$ref:t}),s.addSchema("",t),s.validateAll(e,t,null,null,""),o&&s.banUnknownProperties();var l={};return l.errors=s.errors,l.missing=s.missing,l.valid=0===l.errors.length,l},addSchema:function(){return r.addSchema.apply(r,arguments)},getSchema:function(){return r.getSchema.apply(r,arguments)},getSchemaMap:function(){return r.getSchemaMap.apply(r,arguments)},getSchemaUris:function(){return r.getSchemaUris.apply(r,arguments)},getMissingUris:function(){return r.getMissingUris.apply(r,arguments)},dropSchemas:function(){r.dropSchemas.apply(r,arguments)},defineKeyword:function(){r.defineKeyword.apply(r,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==u[e])throw new Error("Error already defined: "+e+" as "+u[e]);if(void 0!==h[t])throw new Error("Error code already used: "+h[t]+" as "+t);for(var n in u[e]=t,h[t]=e,f[e]=f[t]=r,v){var i=v[n];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){r.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:c,resolveUrl:s,getDocumentUri:l,errorCodes:u}}();return m.addLanguage("en-gb",f),m.tv4=m,m})?n.apply(t,i):n)||(e.exports=a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},,,,function(e,t){e.exports=!1},function(e,t,r){var n=r(11).f,i=r(20),a=r(8)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(82),i={};i[r(8)("toStringTag")]="z",i+""!="[object z]"&&r(15)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(e,t,r){var n=r(2),i=r(31),a=r(4),o=r(84),s="["+o+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,r){var i={},s=a((function(){return!!o[e]()||"​"!="​"[e]()})),l=i[e]=s?t(h):o[e];r&&(i[r]=l),n(n.P+n.F*s,"String",i)},h=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t,r){"use strict";var n=r(88)(!0);r(89)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var n=r(82),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,r){"use strict";r(127);var n=r(15),i=r(25),a=r(4),o=r(31),s=r(8),l=r(94),c=s("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),h=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=s(e),f=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),d=f?!a((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[c]=function(){return r}),r[p](""),!t})):void 0;if(!f||!d||"replace"===e&&!u||"split"===e&&!h){var v=/./[p],m=r(o,p,""[e],(function(e,t,r,n,i){return t.exec===l?f&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),g=m[0],S=m[1];n(String.prototype,e,g),i(RegExp.prototype,p,2==t?function(e,t){return S.call(e,this,t)}:function(e){return S.call(e,this)})}}},function(e,t,r){"use strict";var n=r(3);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(40),i=r(131),a=r(132),o=r(3),s=r(13),l=r(134),c={},u={};(t=e.exports=function(e,t,r,h,p){var f,d,v,m,g=p?function(){return e}:l(e),S=n(r,h,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(f=s(e.length);f>w;w++)if((m=t?S(o(d=e[w])[0],d[1]):S(e[w]))===c||m===u)return m}else for(v=g.call(e);!(d=v.next()).done;)if((m=i(v,S,d.value,t))===c||m===u)return m}).BREAK=c,t.RETURN=u},function(e,t,r){e.exports=r(208).wrap(r(209)()),e.exports.__esModule=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,r){"use strict";var n=r(70);var i=r(37),a=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();r.d(t,"a",(function(){return o}));var o=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r,o=this._parentOrParents,l=this._ctorUnsubscribe,c=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof e)o.remove(this);else if(null!==o)for(var h=0;h<o.length;++h){o[h].remove(this)}if(Object(i.a)(c)){l&&(this._unsubscribe=void 0);try{c.call(this)}catch(e){t=e instanceof a?s(e.errors):[e]}}if(Object(n.a)(u)){h=-1;for(var p=u.length;++h<p;){var f=u[h];if(null!==(r=f)&&"object"==typeof r)try{f.unsubscribe()}catch(e){t=t||[],e instanceof a?t=t.concat(s(e.errors)):t.push(e)}}}if(t)throw new a(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[r]:a.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function s(e){return e.reduce((function(e,t){return e.concat(t instanceof a?t.errors:t)}),[])}},,,,,,,,function(e,t,r){var n=r(47)("keys"),i=r(46);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(35);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(35),i=r(8)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(7),i=r(3),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(40)(Function.call,r(32).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var n=r(7),i=r(83).set;e.exports=function(e,t,r){var a,o=t.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(e,a),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(36),i=r(31);e.exports=function(e){return function(t,r){var a,o,s=String(i(t)),l=n(r),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(58),i=r(2),a=r(15),o=r(25),s=r(51),l=r(125),c=r(59),u=r(26),h=r(8)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,d,v,m,g){l(r,t,d);var S,w,y,b=function(e){if(!p&&e in $)return $[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",k="values"==v,C=!1,$=e.prototype,P=$[h]||$["@@iterator"]||v&&$[v],T=P||b(v),E=v?k?b("entries"):T:void 0,_="Array"==t&&$.entries||P;if(_&&(y=u(_.call(new e)))!==Object.prototype&&y.next&&(c(y,x,!0),n||"function"==typeof y[h]||o(y,h,f)),k&&P&&"values"!==P.name&&(C=!0,T=function(){return P.call(this)}),n&&!g||!p&&!C&&$[h]||o($,h,T),s[t]=T,s[x]=f,v)if(S={values:k?T:b("values"),keys:m?T:b("keys"),entries:E},g)for(w in S)w in $||a($,w,S[w]);else i(i.P+i.F*(p||C),t,S);return S}},function(e,t,r){var n=r(91),i=r(31);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(7),i=r(35),a=r(8)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){"use strict";var n=r(88)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){"use strict";var n,i,a=r(67),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,c=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,r,n,i,l=this;return u&&(r=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),c&&(t=l.lastIndex),n=o.call(l,e),c&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),u&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=l},function(e,t,r){"use strict";var n=r(9),i=r(11),a=r(12),o=r(8)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(15);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";var n=r(9),i=r(2),a=r(15),o=r(96),s=r(30),l=r(68),c=r(97),u=r(7),h=r(4),p=r(135),f=r(59),d=r(85);e.exports=function(e,t,r,v,m,g){var S=n[e],w=S,y=m?"set":"add",b=w&&w.prototype,x={},k=function(e){var t=b[e];a(b,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof w&&(g||b.forEach&&!h((function(){(new w).entries().next()})))){var C=new w,$=C[y](g?{}:-0,1)!=C,P=h((function(){C.has(1)})),T=p((function(e){new w(e)})),E=!g&&h((function(){for(var e=new w,t=5;t--;)e[y](t,t);return!e.has(-0)}));T||((w=t((function(t,r){c(t,w,e);var n=d(new S,t,w);return null!=r&&l(r,m,n[y],n),n}))).prototype=b,b.constructor=w),(P||E)&&(k("delete"),k("has"),m&&k("get")),(E||$)&&k(y),g&&b.clear&&delete b.clear}else w=v.getConstructor(t,e,m,y),o(w.prototype,r),s.NEED=!0;return f(w,e),x[e]=w,i(i.G+i.W+i.F*(w!=S),x),g||v.setStrong(w,e,m),w}},function(e,t,r){var n;/*! showdown v 1.9.1 - 02-11-2019 */
(function(){function i(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n].defaultValue);return r}var a={},o={},s={},l=i(!0),c="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:i(!0),allOn:function(){"use strict";var e=i(!0),t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}()};function h(e,t){"use strict";var r=t?"Error in "+t+" extension->":"Error in unnamed extension",n={valid:!0,error:""};a.helper.isArray(e)||(e=[e]);for(var i=0;i<e.length;++i){var o=r+" sub-extension "+i+": ",s=e[i];if("object"!=typeof s)return n.valid=!1,n.error=o+"must be an object, but "+typeof s+" given",n;if(!a.helper.isString(s.type))return n.valid=!1,n.error=o+'property "type" must be a string, but '+typeof s.type+" given",n;var l=s.type=s.type.toLowerCase();if("language"===l&&(l=s.type="lang"),"html"===l&&(l=s.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return n.valid=!1,n.error=o+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',n;if("listener"===l){if(a.helper.isUndefined(s.listeners))return n.valid=!1,n.error=o+'. Extensions of type "listener" must have a property called "listeners"',n}else if(a.helper.isUndefined(s.filter)&&a.helper.isUndefined(s.regex))return n.valid=!1,n.error=o+l+' extensions must define either a "regex" property or a "filter" method',n;if(s.listeners){if("object"!=typeof s.listeners)return n.valid=!1,n.error=o+'"listeners" property must be an object but '+typeof s.listeners+" given",n;for(var c in s.listeners)if(s.listeners.hasOwnProperty(c)&&"function"!=typeof s.listeners[c])return n.valid=!1,n.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof s.listeners[c]+" given",n}if(s.filter){if("function"!=typeof s.filter)return n.valid=!1,n.error=o+'"filter" must be a function, but '+typeof s.filter+" given",n}else if(s.regex){if(a.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return n.valid=!1,n.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",n;if(a.helper.isUndefined(s.replace))return n.valid=!1,n.error=o+'"regex" extensions must implement a replace string or function',n}}return n}function p(e,t){"use strict";return"¨E"+t.charCodeAt(0)+"E"}a.helper={},a.extensions={},a.setOption=function(e,t){"use strict";return l[e]=t,this},a.getOption=function(e){"use strict";return l[e]},a.getOptions=function(){"use strict";return l},a.resetOptions=function(){"use strict";l=i(!0)},a.setFlavor=function(e){"use strict";if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");a.resetOptions();var t=u[e];for(var r in c=e,t)t.hasOwnProperty(r)&&(l[r]=t[r])},a.getFlavor=function(){"use strict";return c},a.getFlavorOptions=function(e){"use strict";if(u.hasOwnProperty(e))return u[e]},a.getDefaultOptions=function(e){"use strict";return i(e)},a.subParser=function(e,t){"use strict";if(a.helper.isString(e)){if(void 0===t){if(o.hasOwnProperty(e))return o[e];throw Error("SubParser named "+e+" not registered!")}o[e]=t}},a.extension=function(e,t){"use strict";if(!a.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=a.helper.stdExtName(e),a.helper.isUndefined(t)){if(!s.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return s[e]}"function"==typeof t&&(t=t()),a.helper.isArray(t)||(t=[t]);var r=h(t,e);if(!r.valid)throw Error(r.error);s[e]=t},a.getAllExtensions=function(){"use strict";return s},a.removeExtension=function(e){"use strict";delete s[e]},a.resetExtensions=function(){"use strict";s={}},a.validateExtension=function(e){"use strict";var t=h(e,null);return!!t.valid||(console.warn(t.error),!1)},a.hasOwnProperty("helper")||(a.helper={}),a.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},a.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},a.helper.isArray=function(e){"use strict";return Array.isArray(e)},a.helper.isUndefined=function(e){"use strict";return void 0===e},a.helper.forEach=function(e,t){"use strict";if(a.helper.isUndefined(e))throw new Error("obj param is required");if(a.helper.isUndefined(t))throw new Error("callback param is required");if(!a.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(a.helper.isArray(e))for(var r=0;r<e.length;r++)t(e[r],r,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var n in e)e.hasOwnProperty(n)&&t(e[n],n,e)}},a.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},a.helper.escapeCharactersCallback=p,a.helper.escapeCharacters=function(e,t,r){"use strict";var n="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(n="\\\\"+n);var i=new RegExp(n,"g");return e=e.replace(i,p)},a.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(e,t,r,n){"use strict";var i,a,o,s,l,c=n||"",u=c.indexOf("g")>-1,h=new RegExp(t+"|"+r,"g"+c.replace(/g/g,"")),p=new RegExp(t,c.replace(/g/g,"")),f=[];do{for(i=0;o=h.exec(e);)if(p.test(o[0]))i++||(s=(a=h.lastIndex)-o[0].length);else if(i&&!--i){l=o.index+o[0].length;var d={left:{start:s,end:a},match:{start:a,end:o.index},right:{start:o.index,end:l},wholeMatch:{start:s,end:l}};if(f.push(d),!u)return f}}while(i&&(h.lastIndex=a));return f};a.helper.matchRecursiveRegExp=function(e,t,r,n){"use strict";for(var i=f(e,t,r,n),a=[],o=0;o<i.length;++o)a.push([e.slice(i[o].wholeMatch.start,i[o].wholeMatch.end),e.slice(i[o].match.start,i[o].match.end),e.slice(i[o].left.start,i[o].left.end),e.slice(i[o].right.start,i[o].right.end)]);return a},a.helper.replaceRecursiveRegExp=function(e,t,r,n,i){"use strict";if(!a.helper.isFunction(t)){var o=t;t=function(){return o}}var s=f(e,r,n,i),l=e,c=s.length;if(c>0){var u=[];0!==s[0].wholeMatch.start&&u.push(e.slice(0,s[0].wholeMatch.start));for(var h=0;h<c;++h)u.push(t(e.slice(s[h].wholeMatch.start,s[h].wholeMatch.end),e.slice(s[h].match.start,s[h].match.end),e.slice(s[h].left.start,s[h].left.end),e.slice(s[h].right.start,s[h].right.end))),h<c-1&&u.push(e.slice(s[h].wholeMatch.end,s[h+1].wholeMatch.start));s[c-1].wholeMatch.end<e.length&&u.push(e.slice(s[c-1].wholeMatch.end)),l=u.join("")}return l},a.helper.regexIndexOf=function(e,t,r){"use strict";if(!a.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var n=e.substring(r||0).search(t);return n>=0?n+(r||0):n},a.helper.splitAtIndex=function(e,t){"use strict";if(!a.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},a.helper.encodeEmailAddress=function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var r=Math.random();e=r>.9?t[2](e):r>.45?t[1](e):t[0](e)}return e}))},a.helper.padEnd=function(e,t,r){"use strict";return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=r.repeat(t/r.length)),String(e)+r.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),a.helper.regexes={asteriskDashAndColon:/([*_:~])/g},a.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},a.Converter=function(e){"use strict";var t={},r=[],n=[],i={},o=c,p={parsed:{},raw:"",format:""};function f(e,t){if(t=t||null,a.helper.isString(e)){if(t=e=a.helper.stdExtName(e),a.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new a.Converter));a.helper.isArray(e)||(e=[e]);var i=h(e,t);if(!i.valid)throw Error(i.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":r.push(e[o]);break;case"output":n.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(a.extensions[e],e);if(a.helper.isUndefined(s[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=s[e]}"function"==typeof e&&(e=e()),a.helper.isArray(e)||(e=[e]);var i=h(e,t);if(!i.valid)throw Error(i.error);for(var o=0;o<e.length;++o){switch(e[o].type){case"lang":r.push(e[o]);break;case"output":n.push(e[o])}if(e[o].hasOwnProperty("listeners"))for(var l in e[o].listeners)e[o].listeners.hasOwnProperty(l)&&d(l,e[o].listeners[l])}}function d(e,t){if(!a.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");i.hasOwnProperty(e)||(i[e]=[]),i[e].push(t)}!function(){for(var r in e=e||{},l)l.hasOwnProperty(r)&&(t[r]=l[r]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.extensions&&a.helper.forEach(t.extensions,f)}(),this._dispatch=function(e,t,r,n){if(i.hasOwnProperty(e))for(var a=0;a<i[e].length;++a){var o=i[e][a](e,t,this,r,n);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return d(e,t),this},this.makeHtml=function(e){if(!e)return e;var i={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:r,outputModifiers:n,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,r=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(r,"")}(e)),e="\n\n"+e+"\n\n",e=(e=a.subParser("detab")(e,t,i)).replace(/^[ \t]+$/gm,""),a.helper.forEach(r,(function(r){e=a.subParser("runExtension")(r,e,t,i)})),e=a.subParser("metadata")(e,t,i),e=a.subParser("hashPreCodeTags")(e,t,i),e=a.subParser("githubCodeBlocks")(e,t,i),e=a.subParser("hashHTMLBlocks")(e,t,i),e=a.subParser("hashCodeTags")(e,t,i),e=a.subParser("stripLinkDefinitions")(e,t,i),e=a.subParser("blockGamut")(e,t,i),e=a.subParser("unhashHTMLSpans")(e,t,i),e=(e=(e=a.subParser("unescapeSpecialChars")(e,t,i)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=a.subParser("completeHTMLDocument")(e,t,i),a.helper.forEach(n,(function(r){e=a.subParser("runExtension")(r,e,t,i)})),p=i.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var r=t.createElement("div");r.innerHTML=e;var n={preList:function(e){for(var t=e.querySelectorAll("pre"),r=[],n=0;n<t.length;++n)if(1===t[n].childElementCount&&"code"===t[n].firstChild.tagName.toLowerCase()){var i=t[n].firstChild.innerHTML.trim(),o=t[n].firstChild.getAttribute("data-language")||"";if(""===o)for(var s=t[n].firstChild.className.split(" "),l=0;l<s.length;++l){var c=s[l].match(/^language-(.+)$/);if(null!==c){o=c[1];break}}i=a.helper.unescapeHTMLEntities(i),r.push(i),t[n].outerHTML='<precode language="'+o+'" precodenum="'+n.toString()+'"></precode>'}else r.push(t[n].innerHTML),t[n].innerHTML="",t[n].setAttribute("prenum",n.toString());return r}(r)};!function e(t){for(var r=0;r<t.childNodes.length;++r){var n=t.childNodes[r];3===n.nodeType?/\S/.test(n.nodeValue)?(n.nodeValue=n.nodeValue.split("\n").join(" "),n.nodeValue=n.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(n),--r):1===n.nodeType&&e(n)}}(r);for(var i=r.childNodes,o="",s=0;s<i.length;s++)o+=a.subParser("makeMarkdown.node")(i[s],n);return o},this.setOption=function(e,r){t[e]=r},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){f(e,t=t||null)},this.useExtension=function(e){f(e)},this.setFlavor=function(e){if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");var r=u[e];for(var n in o=e,r)r.hasOwnProperty(n)&&(t[n]=r[n])},this.getFlavor=function(){return o},this.removeExtension=function(e){a.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var i=e[t],o=0;o<r.length;++o)r[o]===i&&r[o].splice(o,1);for(;0<n.length;++o)n[0]===i&&n[0].splice(o,1)}},this.getAllExtensions=function(){return{language:r,output:n}},this.getMetadata=function(e){return e?p.raw:p.parsed},this.getMetadataFormat=function(){return p.format},this._setMetadataPair=function(e,t){p.parsed[e]=t},this._setMetadataFormat=function(e){p.format=e},this._setMetadataRaw=function(e){p.raw=e}},a.subParser("anchors",(function(e,t,r){"use strict";var n=function(e,n,i,o,s,l,c){if(a.helper.isUndefined(c)&&(c=""),i=i.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(!o){if(i||(i=n.toLowerCase().replace(/ ?\n/g," ")),o="#"+i,a.helper.isUndefined(r.gUrls[i]))return e;o=r.gUrls[i],a.helper.isUndefined(r.gTitles[i])||(c=r.gTitles[i])}var u='<a href="'+(o=o.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(u+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(o)&&(u+=' rel="noopener noreferrer" target="¨E95Eblank"'),u+=">"+n+"</a>"};return e=(e=(e=(e=(e=r.converter._dispatch("anchors.before",e,t,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,n)).replace(/\[([^\[\]]+)]()()()()()/g,n),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,r,n,i,o){if("\\"===n)return r+i;if(!a.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=t.ghMentionsLink.replace(/\{u}/g,o),l="";return t.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="¨E95Eblank"'),r+'<a href="'+s+'"'+l+">"+i+"</a>"}))),e=r.converter._dispatch("anchors.after",e,t,r)}));var d=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,m=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,g=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,S=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,w=function(e){"use strict";return function(t,r,n,i,o,s,l){var c=n=n.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),u="",h="",p=r||"",f=l||"";return/^www\./i.test(n)&&(n=n.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&s&&(u=s),e.openLinksInNewWindow&&(h=' rel="noopener noreferrer" target="¨E95Eblank"'),p+'<a href="'+n+'"'+h+">"+c+"</a>"+u+f}},y=function(e,t){"use strict";return function(r,n,i){var o="mailto:";return n=n||"",i=a.subParser("unescapeSpecialChars")(i,e,t),e.encodeEmails?(o=a.helper.encodeEmailAddress(o+i),i=a.helper.encodeEmailAddress(i)):o+=i,n+'<a href="'+o+'">'+i+"</a>"}};a.subParser("autoLinks",(function(e,t,r){"use strict";return e=(e=(e=r.converter._dispatch("autoLinks.before",e,t,r)).replace(m,w(t))).replace(S,y(t,r)),e=r.converter._dispatch("autoLinks.after",e,t,r)})),a.subParser("simplifiedAutoLinks",(function(e,t,r){"use strict";return t.simplifiedAutoLink?(e=r.converter._dispatch("simplifiedAutoLinks.before",e,t,r),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(v,w(t)):e.replace(d,w(t))).replace(g,y(t,r)),e=r.converter._dispatch("simplifiedAutoLinks.after",e,t,r)):e})),a.subParser("blockGamut",(function(e,t,r){"use strict";return e=r.converter._dispatch("blockGamut.before",e,t,r),e=a.subParser("blockQuotes")(e,t,r),e=a.subParser("headers")(e,t,r),e=a.subParser("horizontalRule")(e,t,r),e=a.subParser("lists")(e,t,r),e=a.subParser("codeBlocks")(e,t,r),e=a.subParser("tables")(e,t,r),e=a.subParser("hashHTMLBlocks")(e,t,r),e=a.subParser("paragraphs")(e,t,r),e=r.converter._dispatch("blockGamut.after",e,t,r)})),a.subParser("blockQuotes",(function(e,t,r){"use strict";e=r.converter._dispatch("blockQuotes.before",e,t,r),e+="\n\n";var n=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(n=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(n,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=a.subParser("githubCodeBlocks")(e,t,r),e=(e=(e=a.subParser("blockGamut")(e,t,r)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var r=t;return r=(r=r.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),a.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,r)})),e=r.converter._dispatch("blockQuotes.after",e,t,r)})),a.subParser("codeBlocks",(function(e,t,r){"use strict";e=r.converter._dispatch("codeBlocks.before",e,t,r);return e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,n,i){var o=n,s=i,l="\n";return o=a.subParser("outdent")(o,t,r),o=a.subParser("encodeCode")(o,t,r),o=(o=(o=a.subParser("detab")(o,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),o="<pre><code>"+o+l+"</code></pre>",a.subParser("hashBlock")(o,t,r)+s}))).replace(/¨0/,""),e=r.converter._dispatch("codeBlocks.after",e,t,r)})),a.subParser("codeSpans",(function(e,t,r){"use strict";return void 0===(e=r.converter._dispatch("codeSpans.before",e,t,r))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,n,i,o){var s=o;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=n+"<code>"+(s=a.subParser("encodeCode")(s,t,r))+"</code>",s=a.subParser("hashHTMLSpans")(s,t,r)})),e=r.converter._dispatch("codeSpans.after",e,t,r)})),a.subParser("completeHTMLDocument",(function(e,t,r){"use strict";if(!t.completeHTMLDocument)return e;e=r.converter._dispatch("completeHTMLDocument.before",e,t,r);var n="html",i="<!DOCTYPE HTML>\n",a="",o='<meta charset="utf-8">\n',s="",l="";for(var c in void 0!==r.metadata.parsed.doctype&&(i="<!DOCTYPE "+r.metadata.parsed.doctype+">\n","html"!==(n=r.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==n||(o='<meta charset="utf-8">')),r.metadata.parsed)if(r.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":a="<title>"+r.metadata.parsed.title+"</title>\n";break;case"charset":o="html"===n||"html5"===n?'<meta charset="'+r.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+r.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+r.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+r.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+r.metadata.parsed[c]+'">\n'}return e=i+"<html"+s+">\n<head>\n"+a+o+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=r.converter._dispatch("completeHTMLDocument.after",e,t,r)})),a.subParser("detab",(function(e,t,r){"use strict";return e=(e=(e=(e=(e=(e=r.converter._dispatch("detab.before",e,t,r)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var r=t,n=4-r.length%4,i=0;i<n;i++)r+=" ";return r}))).replace(/¨A/g,"    ")).replace(/¨B/g,""),e=r.converter._dispatch("detab.after",e,t,r)})),a.subParser("ellipsis",(function(e,t,r){"use strict";return e=(e=r.converter._dispatch("ellipsis.before",e,t,r)).replace(/\.\.\./g,"…"),e=r.converter._dispatch("ellipsis.after",e,t,r)})),a.subParser("emoji",(function(e,t,r){"use strict";if(!t.emoji)return e;return e=(e=r.converter._dispatch("emoji.before",e,t,r)).replace(/:([\S]+?):/g,(function(e,t){return a.helper.emojis.hasOwnProperty(t)?a.helper.emojis[t]:e})),e=r.converter._dispatch("emoji.after",e,t,r)})),a.subParser("encodeAmpsAndAngles",(function(e,t,r){"use strict";return e=(e=(e=(e=(e=r.converter._dispatch("encodeAmpsAndAngles.before",e,t,r)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=r.converter._dispatch("encodeAmpsAndAngles.after",e,t,r)})),a.subParser("encodeBackslashEscapes",(function(e,t,r){"use strict";return e=(e=(e=r.converter._dispatch("encodeBackslashEscapes.before",e,t,r)).replace(/\\(\\)/g,a.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,a.helper.escapeCharactersCallback),e=r.converter._dispatch("encodeBackslashEscapes.after",e,t,r)})),a.subParser("encodeCode",(function(e,t,r){"use strict";return e=(e=r.converter._dispatch("encodeCode.before",e,t,r)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,a.helper.escapeCharactersCallback),e=r.converter._dispatch("encodeCode.after",e,t,r)})),a.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,r){"use strict";return e=(e=(e=r.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,r)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)})),e=r.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,r)})),a.subParser("githubCodeBlocks",(function(e,t,r){"use strict";return t.ghCodeBlocks?(e=r.converter._dispatch("githubCodeBlocks.before",e,t,r),e=(e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,n,i,o){var s=t.omitExtraWLInCodeBlocks?"":"\n";return o=a.subParser("encodeCode")(o,t,r),o="<pre><code"+(i?' class="'+i+" language-"+i+'"':"")+">"+(o=(o=(o=a.subParser("detab")(o,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",o=a.subParser("hashBlock")(o,t,r),"\n\n¨G"+(r.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"}))).replace(/¨0/,""),r.converter._dispatch("githubCodeBlocks.after",e,t,r)):e})),a.subParser("hashBlock",(function(e,t,r){"use strict";return e=(e=r.converter._dispatch("hashBlock.before",e,t,r)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n",e=r.converter._dispatch("hashBlock.after",e,t,r)})),a.subParser("hashCodeTags",(function(e,t,r){"use strict";e=r.converter._dispatch("hashCodeTags.before",e,t,r);return e=a.helper.replaceRecursiveRegExp(e,(function(e,n,i,o){var s=i+a.subParser("encodeCode")(n,t,r)+o;return"¨C"+(r.gHtmlSpans.push(s)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=r.converter._dispatch("hashCodeTags.after",e,t,r)})),a.subParser("hashElement",(function(e,t,r){"use strict";return function(e,t){var n=t;return n=(n=(n=n.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),n="\n\n¨K"+(r.gHtmlBlocks.push(n)-1)+"K\n\n"}})),a.subParser("hashHTMLBlocks",(function(e,t,r){"use strict";e=r.converter._dispatch("hashHTMLBlocks.before",e,t,r);var n=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],i=function(e,t,n,i){var a=e;return-1!==n.search(/\bmarkdown\b/)&&(a=n+r.converter.makeHtml(t)+i),"\n\n¨K"+(r.gHtmlBlocks.push(a)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var o=0;o<n.length;++o)for(var s,l=new RegExp("^ {0,3}(<"+n[o]+"\\b[^>]*>)","im"),c="<"+n[o]+"\\b[^>]*>",u="</"+n[o]+">";-1!==(s=a.helper.regexIndexOf(e,l));){var h=a.helper.splitAtIndex(e,s),p=a.helper.replaceRecursiveRegExp(h[1],i,c,u,"im");if(p===h[1])break;e=h[0].concat(p)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(e,t,r)),e=(e=a.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(e,t,r)),e=r.converter._dispatch("hashHTMLBlocks.after",e,t,r)})),a.subParser("hashHTMLSpans",(function(e,t,r){"use strict";function n(e){return"¨C"+(r.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=r.converter._dispatch("hashHTMLSpans.before",e,t,r)).replace(/<[^>]+?\/>/gi,(function(e){return n(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return n(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return n(e)}))).replace(/<[^>]+?>/gi,(function(e){return n(e)})),e=r.converter._dispatch("hashHTMLSpans.after",e,t,r)})),a.subParser("unhashHTMLSpans",(function(e,t,r){"use strict";e=r.converter._dispatch("unhashHTMLSpans.before",e,t,r);for(var n=0;n<r.gHtmlSpans.length;++n){for(var i=r.gHtmlSpans[n],a=0;/¨C(\d+)C/.test(i);){var o=RegExp.$1;if(i=i.replace("¨C"+o+"C",r.gHtmlSpans[o]),10===a){console.error("maximum nesting of 10 spans reached!!!");break}++a}e=e.replace("¨C"+n+"C",i)}return e=r.converter._dispatch("unhashHTMLSpans.after",e,t,r)})),a.subParser("hashPreCodeTags",(function(e,t,r){"use strict";e=r.converter._dispatch("hashPreCodeTags.before",e,t,r);return e=a.helper.replaceRecursiveRegExp(e,(function(e,n,i,o){var s=i+a.subParser("encodeCode")(n,t,r)+o;return"\n\n¨G"+(r.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=r.converter._dispatch("hashPreCodeTags.after",e,t,r)})),a.subParser("headers",(function(e,t,r){"use strict";e=r.converter._dispatch("headers.before",e,t,r);var n=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),i=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,o=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(i,(function(e,i){var o=a.subParser("spanGamut")(i,t,r),s=t.noHeaderId?"":' id="'+l(i)+'"',c="<h"+n+s+">"+o+"</h"+n+">";return a.subParser("hashBlock")(c,t,r)}))).replace(o,(function(e,i){var o=a.subParser("spanGamut")(i,t,r),s=t.noHeaderId?"":' id="'+l(i)+'"',c=n+1,u="<h"+c+s+">"+o+"</h"+c+">";return a.subParser("hashBlock")(u,t,r)}));var s=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var n,i;if(t.customizedHeaderId){var o=e.match(/\{([^{]+?)}\s*$/);o&&o[1]&&(e=o[1])}return n=e,i=a.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(n=i+n),n=t.ghCompatibleHeaderId?n.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?n.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():n.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(n=i+n),r.hashLinkCounts[n]?n=n+"-"+r.hashLinkCounts[n]++:r.hashLinkCounts[n]=1,n}return e=e.replace(s,(function(e,i,o){var s=o;t.customizedHeaderId&&(s=o.replace(/\s?\{([^{]+?)}\s*$/,""));var c=a.subParser("spanGamut")(s,t,r),u=t.noHeaderId?"":' id="'+l(o)+'"',h=n-1+i.length,p="<h"+h+u+">"+c+"</h"+h+">";return a.subParser("hashBlock")(p,t,r)})),e=r.converter._dispatch("headers.after",e,t,r)})),a.subParser("horizontalRule",(function(e,t,r){"use strict";e=r.converter._dispatch("horizontalRule.before",e,t,r);var n=a.subParser("hashBlock")("<hr />",t,r);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,n)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,n)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,n),e=r.converter._dispatch("horizontalRule.after",e,t,r)})),a.subParser("images",(function(e,t,r){"use strict";function n(e,t,n,i,o,s,l,c){var u=r.gUrls,h=r.gTitles,p=r.gDimensions;if(n=n.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)i="";else if(""===i||null===i){if(""!==n&&null!==n||(n=t.toLowerCase().replace(/ ?\n/g," ")),i="#"+n,a.helper.isUndefined(u[n]))return e;i=u[n],a.helper.isUndefined(h[n])||(c=h[n]),a.helper.isUndefined(p[n])||(o=p[n].width,s=p[n].height)}t=t.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var f='<img src="'+(i=i.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'" alt="'+t+'"';return c&&a.helper.isString(c)&&(f+=' title="'+(c=c.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'"'),o&&s&&(f+=' width="'+(o="*"===o?"auto":o)+'"',f+=' height="'+(s="*"===s?"auto":s)+'"'),f+=" />"}return e=(e=(e=(e=(e=(e=r.converter._dispatch("images.before",e,t,r)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,n)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,r,i,a,o,s,l){return n(e,t,r,i=i.replace(/\s/g,""),a,o,s,l)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,n)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,n)).replace(/!\[([^\[\]]+)]()()()()()/g,n),e=r.converter._dispatch("images.after",e,t,r)})),a.subParser("italicsAndBold",(function(e,t,r){"use strict";function n(e,t,r){return t+e+r}return e=r.converter._dispatch("italicsAndBold.before",e,t,r),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return n(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return n(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return n(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?n(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,r){return n(r,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,r){return n(r,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,r){return n(r,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?n(t,"<em>","</em>"):e})),e=r.converter._dispatch("italicsAndBold.after",e,t,r)})),a.subParser("lists",(function(e,t,r){"use strict";function n(e,n){r.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var i=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,o=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return t.disableForced4SpacesIndentedSublists&&(i=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(i,(function(e,n,i,s,l,c,u){u=u&&""!==u.trim();var h=a.subParser("outdent")(l,t,r),p="";return c&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',h=h.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+=">"}))),h=h.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),n||h.search(/\n{2,}/)>-1?(h=a.subParser("githubCodeBlocks")(h,t,r),h=a.subParser("blockGamut")(h,t,r)):(h=(h=a.subParser("lists")(h,t,r)).replace(/\n$/,""),h=(h=a.subParser("hashHTMLBlocks")(h,t,r)).replace(/\n\n+/g,"\n\n"),h=o?a.subParser("paragraphs")(h,t,r):a.subParser("spanGamut")(h,t,r)),h="<li"+p+">"+(h=h.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),r.gListLevel--,n&&(e=e.replace(/\s+$/,"")),e}function i(e,t){if("ol"===t){var r=e.match(/^ *(\d+)\./);if(r&&"1"!==r[1])return' start="'+r[1]+'"'}return""}function o(e,r,a){var o=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===r?o:s,c="";if(-1!==e.search(l))!function t(u){var h=u.search(l),p=i(e,r);-1!==h?(c+="\n\n<"+r+p+">\n"+n(u.slice(0,h),!!a)+"</"+r+">\n",l="ul"===(r="ul"===r?"ol":"ul")?o:s,t(u.slice(h))):c+="\n\n<"+r+p+">\n"+n(u,!!a)+"</"+r+">\n"}(e);else{var u=i(e,r);c="\n\n<"+r+u+">\n"+n(e,!!a)+"</"+r+">\n"}return c}return e=r.converter._dispatch("lists.before",e,t,r),e+="¨0",e=(e=r.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,r){return o(t,r.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,r,n){return o(r,n.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),e=r.converter._dispatch("lists.after",e,t,r)})),a.subParser("metadata",(function(e,t,r){"use strict";if(!t.metadata)return e;function n(e){r.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,n){return r.metadata.parsed[t]=n,""}))}return e=(e=(e=(e=r.converter._dispatch("metadata.before",e,t,r)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,r){return n(r),"¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,i){return t&&(r.metadata.format=t),n(i),"¨M"}))).replace(/¨M/g,""),e=r.converter._dispatch("metadata.after",e,t,r)})),a.subParser("outdent",(function(e,t,r){"use strict";return e=(e=(e=r.converter._dispatch("outdent.before",e,t,r)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),e=r.converter._dispatch("outdent.after",e,t,r)})),a.subParser("paragraphs",(function(e,t,r){"use strict";for(var n=(e=(e=(e=r.converter._dispatch("paragraphs.before",e,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=[],o=n.length,s=0;s<o;s++){var l=n[s];l.search(/¨(K|G)(\d+)\1/g)>=0?i.push(l):l.search(/\S/)>=0&&(l=(l=a.subParser("spanGamut")(l,t,r)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",i.push(l))}for(o=i.length,s=0;s<o;s++){for(var c="",u=i[s],h=!1;/¨(K|G)(\d+)\1/.test(u);){var p=RegExp.$1,f=RegExp.$2;c=(c="K"===p?r.gHtmlBlocks[f]:h?a.subParser("encodeCode")(r.ghCodeBlocks[f].text,t,r):r.ghCodeBlocks[f].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(h=!0)}i[s]=u}return e=(e=(e=i.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),r.converter._dispatch("paragraphs.after",e,t,r)})),a.subParser("runExtension",(function(e,t,r,n){"use strict";if(e.filter)t=e.filter(t,n.converter,r);else if(e.regex){var i=e.regex;i instanceof RegExp||(i=new RegExp(i,"g")),t=t.replace(i,e.replace)}return t})),a.subParser("spanGamut",(function(e,t,r){"use strict";return e=r.converter._dispatch("spanGamut.before",e,t,r),e=a.subParser("codeSpans")(e,t,r),e=a.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,r),e=a.subParser("encodeBackslashEscapes")(e,t,r),e=a.subParser("images")(e,t,r),e=a.subParser("anchors")(e,t,r),e=a.subParser("autoLinks")(e,t,r),e=a.subParser("simplifiedAutoLinks")(e,t,r),e=a.subParser("emoji")(e,t,r),e=a.subParser("underline")(e,t,r),e=a.subParser("italicsAndBold")(e,t,r),e=a.subParser("strikethrough")(e,t,r),e=a.subParser("ellipsis")(e,t,r),e=a.subParser("hashHTMLSpans")(e,t,r),e=a.subParser("encodeAmpsAndAngles")(e,t,r),t.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=r.converter._dispatch("spanGamut.after",e,t,r)})),a.subParser("strikethrough",(function(e,t,r){"use strict";return t.strikethrough&&(e=(e=r.converter._dispatch("strikethrough.before",e,t,r)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,n){return function(e){return t.simplifiedAutoLink&&(e=a.subParser("simplifiedAutoLinks")(e,t,r)),"<del>"+e+"</del>"}(n)})),e=r.converter._dispatch("strikethrough.after",e,t,r)),e})),a.subParser("stripLinkDefinitions",(function(e,t,r){"use strict";var n=function(e,n,i,o,s,l,c){return n=n.toLowerCase(),i.match(/^data:.+?\/.+?;base64,/)?r.gUrls[n]=i.replace(/\s/g,""):r.gUrls[n]=a.subParser("encodeAmpsAndAngles")(i,t,r),l?l+c:(c&&(r.gTitles[n]=c.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&o&&s&&(r.gDimensions[n]={width:o,height:s}),"")};return e=(e=(e=(e+="¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,n)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,n)).replace(/¨0/,"")})),a.subParser("tables",(function(e,t,r){"use strict";if(!t.tables)return e;function n(e,n){return"<td"+n+">"+a.subParser("spanGamut")(e,t,r)+"</td>\n"}function i(e){var i,o=e.split("\n");for(i=0;i<o.length;++i)/^ {0,3}\|/.test(o[i])&&(o[i]=o[i].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(o[i])&&(o[i]=o[i].replace(/\|[ \t]*$/,"")),o[i]=a.subParser("codeSpans")(o[i],t,r);var s,l,c,u,h=o[0].split("|").map((function(e){return e.trim()})),p=o[1].split("|").map((function(e){return e.trim()})),f=[],d=[],v=[],m=[];for(o.shift(),o.shift(),i=0;i<o.length;++i)""!==o[i].trim()&&f.push(o[i].split("|").map((function(e){return e.trim()})));if(h.length<p.length)return e;for(i=0;i<p.length;++i)v.push((s=p[i],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(i=0;i<h.length;++i)a.helper.isUndefined(v[i])&&(v[i]=""),d.push((l=h[i],c=v[i],u=void 0,u="",l=l.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(u=' id="'+l.replace(/ /g,"_").toLowerCase()+'"'),"<th"+u+c+">"+(l=a.subParser("spanGamut")(l,t,r))+"</th>\n"));for(i=0;i<f.length;++i){for(var g=[],S=0;S<d.length;++S)a.helper.isUndefined(f[i][S]),g.push(n(f[i][S],v[S]));m.push(g)}return function(e,t){for(var r="<table>\n<thead>\n<tr>\n",n=e.length,i=0;i<n;++i)r+=e[i];for(r+="</tr>\n</thead>\n<tbody>\n",i=0;i<t.length;++i){r+="<tr>\n";for(var a=0;a<n;++a)r+=t[i][a];r+="</tr>\n"}return r+="</tbody>\n</table>\n"}(d,m)}return e=(e=(e=(e=r.converter._dispatch("tables.before",e,t,r)).replace(/\\(\|)/g,a.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,i)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,i),e=r.converter._dispatch("tables.after",e,t,r)})),a.subParser("underline",(function(e,t,r){"use strict";return t.underline?(e=r.converter._dispatch("underline.before",e,t,r),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,a.helper.escapeCharactersCallback),e=r.converter._dispatch("underline.after",e,t,r)):e})),a.subParser("unescapeSpecialChars",(function(e,t,r){"use strict";return e=(e=r.converter._dispatch("unescapeSpecialChars.before",e,t,r)).replace(/¨E(\d+)E/g,(function(e,t){var r=parseInt(t);return String.fromCharCode(r)})),e=r.converter._dispatch("unescapeSpecialChars.after",e,t,r)})),a.subParser("makeMarkdown.blockquote",(function(e,t){"use strict";var r="";if(e.hasChildNodes())for(var n=e.childNodes,i=n.length,o=0;o<i;++o){var s=a.subParser("makeMarkdown.node")(n[o],t);""!==s&&(r+=s)}return r="> "+(r=r.trim()).split("\n").join("\n> ")})),a.subParser("makeMarkdown.codeBlock",(function(e,t){"use strict";var r=e.getAttribute("language"),n=e.getAttribute("precodenum");return"```"+r+"\n"+t.preList[n]+"\n```"})),a.subParser("makeMarkdown.codeSpan",(function(e){"use strict";return"`"+e.innerHTML+"`"})),a.subParser("makeMarkdown.emphasis",(function(e,t){"use strict";var r="";if(e.hasChildNodes()){r+="*";for(var n=e.childNodes,i=n.length,o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t);r+="*"}return r})),a.subParser("makeMarkdown.header",(function(e,t,r){"use strict";var n=new Array(r+1).join("#"),i="";if(e.hasChildNodes()){i=n+" ";for(var o=e.childNodes,s=o.length,l=0;l<s;++l)i+=a.subParser("makeMarkdown.node")(o[l],t)}return i})),a.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),a.subParser("makeMarkdown.image",(function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),a.subParser("makeMarkdown.links",(function(e,t){"use strict";var r="";if(e.hasChildNodes()&&e.hasAttribute("href")){var n=e.childNodes,i=n.length;r="[";for(var o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t);r+="](",r+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(r+=' "'+e.getAttribute("title")+'"'),r+=")"}return r})),a.subParser("makeMarkdown.list",(function(e,t,r){"use strict";var n="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,o=i.length,s=e.getAttribute("start")||1,l=0;l<o;++l)if(void 0!==i[l].tagName&&"li"===i[l].tagName.toLowerCase()){n+=("ol"===r?s.toString()+". ":"- ")+a.subParser("makeMarkdown.listItem")(i[l],t),++s}return(n+="\n\x3c!-- --\x3e\n").trim()})),a.subParser("makeMarkdown.listItem",(function(e,t){"use strict";for(var r="",n=e.childNodes,i=n.length,o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t);return/\n$/.test(r)?r=r.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):r+="\n",r})),a.subParser("makeMarkdown.node",(function(e,t,r){"use strict";r=r||!1;var n="";if(3===e.nodeType)return a.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":r||(n=a.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":r||(n=a.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":r||(n=a.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":r||(n=a.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":r||(n=a.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":r||(n=a.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":r||(n=a.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":r||(n=a.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":r||(n=a.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":r||(n=a.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":r||(n=a.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":r||(n=a.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":r||(n=a.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":r||(n=a.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":n=a.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":n=a.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":n=a.subParser("makeMarkdown.strong")(e,t);break;case"del":n=a.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":n=a.subParser("makeMarkdown.links")(e,t);break;case"img":n=a.subParser("makeMarkdown.image")(e,t);break;default:n=e.outerHTML+"\n\n"}return n})),a.subParser("makeMarkdown.paragraph",(function(e,t){"use strict";var r="";if(e.hasChildNodes())for(var n=e.childNodes,i=n.length,o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t);return r=r.trim()})),a.subParser("makeMarkdown.pre",(function(e,t){"use strict";var r=e.getAttribute("prenum");return"<pre>"+t.preList[r]+"</pre>"})),a.subParser("makeMarkdown.strikethrough",(function(e,t){"use strict";var r="";if(e.hasChildNodes()){r+="~~";for(var n=e.childNodes,i=n.length,o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t);r+="~~"}return r})),a.subParser("makeMarkdown.strong",(function(e,t){"use strict";var r="";if(e.hasChildNodes()){r+="**";for(var n=e.childNodes,i=n.length,o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t);r+="**"}return r})),a.subParser("makeMarkdown.table",(function(e,t){"use strict";var r,n,i="",o=[[],[]],s=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(r=0;r<s.length;++r){var c=a.subParser("makeMarkdown.tableCell")(s[r],t),u="---";if(s[r].hasAttribute("style"))switch(s[r].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}o[0][r]=c.trim(),o[1][r]=u}for(r=0;r<l.length;++r){var h=o.push([])-1,p=l[r].getElementsByTagName("td");for(n=0;n<s.length;++n){var f=" ";void 0!==p[n]&&(f=a.subParser("makeMarkdown.tableCell")(p[n],t)),o[h].push(f)}}var d=3;for(r=0;r<o.length;++r)for(n=0;n<o[r].length;++n){var v=o[r][n].length;v>d&&(d=v)}for(r=0;r<o.length;++r){for(n=0;n<o[r].length;++n)1===r?":"===o[r][n].slice(-1)?o[r][n]=a.helper.padEnd(o[r][n].slice(-1),d-1,"-")+":":o[r][n]=a.helper.padEnd(o[r][n],d,"-"):o[r][n]=a.helper.padEnd(o[r][n],d);i+="| "+o[r].join(" | ")+" |\n"}return i.trim()})),a.subParser("makeMarkdown.tableCell",(function(e,t){"use strict";var r="";if(!e.hasChildNodes())return"";for(var n=e.childNodes,i=n.length,o=0;o<i;++o)r+=a.subParser("makeMarkdown.node")(n[o],t,!0);return r.trim()})),a.subParser("makeMarkdown.txt",(function(e){"use strict";var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/¨NBSP;/g," "),t=(t=(t=(t=(t=(t=(t=(t=(t=a.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}));void 0===(n=function(){"use strict";return a}.call(t,r,t,e))||(e.exports=n)}).call(this)},function(e,t,r){"use strict";function n(e){e=e||window.Worker,this.url=this.getWorkerURL(),this.worker=new e(this.url)}r.d(t,"a",(function(){return n})),n.prototype={getWorkerScript:function(){var e="";return e+="("+this.workerInit+")(this);"},workerInit:function(e){e.executed=!1,e.PI=3.141592653589793,e.TWO_PI=6.283185307179586,e.totalMax=0,e.dynRangeInDB=50,e.myWindow={BARTLETT:1,BARTLETTHANN:2,BLACKMAN:3,COSINE:4,GAUSS:5,HAMMING:6,HANN:7,LANCZOS:8,RECTANGULAR:9,TRIANGULAR:10},e.imgWidth=0,e.imgHeight=0,e.upperFreq=0,e.lowerFreq=0,e.pixelRatio=1,e.heatMapColorAnchors=[[255,0,0],[0,255,0],[0,0,0]],e.samplesPerPxl=0,e.sampleRate=0,e.preEmphasisFilterFactor=.97,e.transparency=0,e.drawHeatMapColors=!1,e.N=0,e.windowSizeInSecs=.01,e.audioBuffer=void 0,e.audioBufferChannels=0,e.wFunction=0,e.myFFT=void 0,e.pixelHeight=1,e.internalalpha=1,e.maxPsd=0,e.HzStep=0,e.paint=[],e.sin=void 0,e.cos=void 0,e.ceilingFreqFftIdx=0,e.floorFreqFftIdx=0,e.resultImgArr=void 0,e.toLinearLevel=function(e){return Math.pow(10,e/10)},e.log10=function(e){return Math.log(e)/2.302585092994046},e.magnitude=function(e,t){return Math.sqrt(e*e+t*t)},e.FFT=function(){var t,r,n,i=e.N;if(t=parseInt(Math.log(i)/.6931471805599453,10),void 0===e.cos||i!==e.N)for(e.cos=new Float32Array(i/2),n=0;n<i/2;n++)e.cos[n]=Math.cos(-2*e.PI*n/i);if(void 0===e.sin||i!==e.N)for(e.sin=new Float32Array(i/2),n=0;n<i/2;n++)e.sin[n]=Math.sin(-2*e.PI*n/i);this.applyWindowFuncAndPreemph=function(t,n,i,a){switch(this.alpha=n,t){case e.myWindow.BARTLETT:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionBartlett(a,r);break;case e.myWindow.BARTLETTHANN:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionBartlettHann(a,r);break;case e.myWindow.BLACKMAN:for(this.alpha=this.alpha||.16,r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionBlackman(a,r,n);break;case e.myWindow.COSINE:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionCosine(a,r);break;case e.myWindow.GAUSS:for(this.alpha=this.alpha||.25,r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionGauss(a,r,n);break;case e.myWindow.HAMMING:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionHamming(a,r);break;case e.myWindow.HANN:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionHann(a,r);break;case e.myWindow.LANCZOS:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionLanczos(a,r);break;case e.myWindow.RECTANGULAR:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionRectangular(a,r);break;case e.myWindow.TRIANGULAR:for(r=0;r<a;r++)r>0&&(i[r]=this.applyPreEmph(i[r],i[r-1])),i[r]*=this.wFunctionTriangular(a,r)}return i},this.wFunctionBartlett=function(e,t){return 2/(e-1)*((e-1)/2-Math.abs(t-(e-1)/2))},this.wFunctionBartlettHann=function(t,r){return.62-.48*Math.abs(r/(t-1)-.5)-.38*Math.cos(e.TWO_PI*r/(t-1))},this.wFunctionBlackman=function(t,r,n){var i=n/2;return(1-n)/2-.5*Math.cos(e.TWO_PI*r/(t-1))+i*Math.cos(4*e.PI*r/(t-1))},this.wFunctionCosine=function(t,r){return Math.cos(e.PI*r/(t-1)-e.PI/2)},this.wFunctionGauss=function(e,t,r){return Math.pow(Math.E,-.5*Math.pow((t-(e-1)/2)/(r*(e-1)/2),2))},this.wFunctionHamming=function(t,r){return.54-.46*Math.cos(e.TWO_PI*r/(t-1))},this.wFunctionHann=function(t,r){return.5*(1-Math.cos(e.TWO_PI*r/(t-1)))},this.wFunctionLanczos=function(t,r){var n=2*r/(t-1)-1;return Math.sin(e.PI*n)/(e.PI*n)},this.wFunctionRectangular=function(){return 1},this.wFunctionTriangular=function(e,t){return 2/e*(e/2-Math.abs(t-(e-1)/2))},this.applyPreEmph=function(t,r){return t-e.preEmphasisFilterFactor*r},this.fft=function(r,n){var a,o,s,l,c,u,h,p,f,d;for(o=0,c=i/2,a=1;a<i-1;a++){for(l=c;o>=l;)o-=l,l/=2;a<(o+=l)&&(f=r[a],r[a]=r[o],r[o]=f,f=n[a],n[a]=n[o],n[o]=f)}for(l=0,c=1,a=0;a<t;a++)for(l=c,c+=c,u=0,o=0;o<l;o++)for(h=e.cos[u],p=e.sin[u],u+=1<<t-a-1,s=o;s<i;s+=c)f=h*r[s+l]-p*n[s+l],d=p*r[s+l]+h*n[s+l],r[s+l]=r[s]-f,n[s+l]=n[s]-d,r[s]=r[s]+f,n[s]=n[s]+d}},e.convertToHeatmap=function(e,t,r,n){var i=n.length-1,a=(r-e)/(t-e)*i,o=Math.floor(a),s=Math.min.apply(null,[Math.floor(a)+1,i]),l=n[o],c=n[s],u=a-o;return{r:Math.floor(l[0]+u*(c[0]-l[0])),g:Math.floor(l[1]+u*(c[1]-l[1])),b:Math.floor(l[2]+u*(c[2]-l[2]))}},e.drawVerticalLineOfSpectogram=function(t){var r,n,i=e.pixelHeight,a=2*Math.pow(e.paint[t][1],2)/e.N,o=10*e.log10(a/e.maxPsd),s=(o+e.dynRangeInDB)/e.dynRangeInDB;s>1?s=1:s<0&&(s=0);for(var l=0;l<e.paint[t].length;l++){var c=s;a=2*Math.pow(e.paint[t][l],2)/e.N,(s=((o=10*e.log10(a/e.maxPsd))+e.dynRangeInDB)/e.dynRangeInDB)>1&&(s=1),s<0&&(s=0);var u=s;if(e.pixelHeight>=1)for(var h=0;h<e.pixelHeight;h++){var p=c+(u-c)/i*h;if(r=e.invert?Math.round(255*p):255-Math.round(255*p),n=4*(Math.floor(t)+Math.floor(e.imgHeight-(e.pixelHeight*(l-2)+h))*e.imgWidth),e.drawHeatMapColors)if(isNaN(r))e.resultImgArr[n+0]=r,e.resultImgArr[n+1]=r,e.resultImgArr[n+2]=r,e.resultImgArr[n+3]=e.transparency;else{var f=e.convertToHeatmap(0,255,r,e.heatMapColorAnchors);e.resultImgArr[n+0]=f.r,e.resultImgArr[n+1]=f.g,e.resultImgArr[n+2]=f.b,e.resultImgArr[n+3]=e.transparency}else e.resultImgArr[n+0]=r,e.resultImgArr[n+1]=r,e.resultImgArr[n+2]=r,e.resultImgArr[n+3]=e.transparency}else r=255-Math.round(255*u),n=4*(Math.floor(t)+Math.floor(e.imgHeight-e.pixelHeight*(l-2))*e.imgWidth),e.resultImgArr[n+0]=r,e.resultImgArr[n+1]=r,e.resultImgArr[n+2]=r,e.resultImgArr[n+3]=e.transparency}},e.calcMagnitudeSpectrum=function(t,r){for(var n=new Float32Array(e.N),i=new Float32Array(e.N),a=new Float32Array(e.ceilingFreqFftIdx-e.floorFreqFftIdx),o=0;o<r;o++)i[o]=e.audioBuffer[t+o];e.myFFT.applyWindowFuncAndPreemph(e.wFunction,e.internalalpha,i,r),e.myFFT.fft(i,n);for(var s=0;s<=e.ceilingFreqFftIdx-e.floorFreqFftIdx;s++)a[s]=e.magnitude(i[s+e.floorFreqFftIdx],n[s+e.floorFreqFftIdx]),e.totalMax<a[s]&&(e.totalMax=a[s]);return a},e.renderSpectrogram=function(){if(!e.executed){e.executed=!0;var t=e.sampleRate*e.windowSizeInSecs;e.myFFT=new e.FFT,e.paint=new Array(e.imgWidth),e.HzStep=e.sampleRate/2/(e.N/2),e.ceilingFreqFftIdx=Math.ceil(e.upperFreq/e.HzStep),e.floorFreqFftIdx=Math.floor(e.lowerFreq/e.HzStep),e.pixelHeight=e.imgHeight/(e.ceilingFreqFftIdx-e.floorFreqFftIdx-2),"undefined"==typeof Uint8ClampedArray&&(Uint8ClampedArray=Uint8Array),e.resultImgArr=new Uint8ClampedArray(Math.ceil(e.imgWidth*e.imgHeight*4));for(var r=0;r<e.imgWidth;r++)e.paint[r]=e.calcMagnitudeSpectrum(Math.round(r*e.samplesPerPxl),t),e.maxPsd=2*Math.pow(e.totalMax,2)/e.N;for(var n=0;n<e.imgWidth;n++)e.drawVerticalLineOfSpectogram(n);e.postMessage({window:e.wFunction,samplesPerPxl:e.samplesPerPxl,pixelHeight:e.pixelHeight,pixelRatio:e.pixelRatio,width:e.imgWidth,height:e.imgHeight,img:e.resultImgArr.buffer},[e.resultImgArr.buffer]),e.myFFT=null,e.executed=!1}},e.onmessage=function(t){if(void 0!==t.data){var r=!0,n="",i=t.data;if(void 0!==i.windowSizeInSecs?e.windowSizeInSecs=i.windowSizeInSecs:(n="windowSizeInSecs",r=!1),void 0!==i.fftN?e.N=i.fftN:(n="fftN",r=!1),void 0!==i.alpha?e.internalalpha=i.alpha:(n="alpha",r=!1),void 0!==i.upperFreq?e.upperFreq=i.upperFreq:(n="upperFreq",r=!1),void 0!==i.lowerFreq?e.lowerFreq=i.lowerFreq:(n="lowerFreq",r=!1),void 0!==i.samplesPerPxl?e.samplesPerPxl=i.samplesPerPxl:(n="samplesPerPxl",r=!1),void 0!==i.window)switch(i.window){case 1:e.wFunction=e.myWindow.BARTLETT;break;case 2:e.wFunction=e.myWindow.BARTLETTHANN;break;case 3:e.wFunction=e.myWindow.BLACKMAN;break;case 4:e.wFunction=e.myWindow.COSINE;break;case 5:e.wFunction=e.myWindow.GAUSS;break;case 6:e.wFunction=e.myWindow.HAMMING;break;case 7:e.wFunction=e.myWindow.HANN;break;case 8:e.wFunction=e.myWindow.LANCZOS;break;case 9:e.wFunction=e.myWindow.RECTANGULAR;break;case 10:e.wFunction=e.myWindow.TRIANGULAR}else n="window",r=!1;void 0!==i.imgWidth?e.imgWidth=i.imgWidth:(n="imgWidth",r=!1),void 0!==i.imgHeight?e.imgHeight=i.imgHeight:(n="imgHeight",r=!1),void 0!==i.dynRangeInDB?e.dynRangeInDB=i.dynRangeInDB:(n="dynRangeInDB",r=!1),void 0!==i.pixelRatio?e.pixelRatio=i.pixelRatio:(n="pixelRatio",r=!1),void 0!==i.sampleRate?e.sampleRate=i.sampleRate:(n="sampleRate",r=!1),void 0!==i.audioBufferChannels?e.audioBufferChannels=i.audioBufferChannels:(n="audioBufferChannels",r=!1),void 0!==i.transparency?e.transparency=i.transparency:(n="transparency",r=!1),void 0!==i.audioBuffer?e.audioBuffer=i.audioBuffer:(n="audioBuffer",r=!1),void 0!==i.drawHeatMapColors?e.drawHeatMapColors=i.drawHeatMapColors:(n="drawHeatMapColors",r=!1),void 0!==i.preEmphasisFilterFactor?e.preEmphasisFilterFactor=i.preEmphasisFilterFactor:(n="preEmphasisFilterFactor",r=!1),void 0!==i.heatMapColorAnchors?e.heatMapColorAnchors=i.heatMapColorAnchors:(n="heatMapColorAnchors",r=!1),void 0!==i.invert?e.invert=i.invert:(n="invert",r=!1),r?e.renderSpectrogram():e.postMessage({status:{type:"ERROR",message:n+" is undefined"}})}else e.postMessage({status:{type:"ERROR",message:"Undefined message was sent to spectroDrawingWorker"}})}},getWorkerURL:function(){var e;try{e=new Blob([this.getWorkerScript()],{type:"application/javascript"})}catch(t){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(e=new BlobBuilder).append(n),e=e.getBlob()}return"object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(e):URL.createObjectURL(e)},kill:function(){this.worker&&this.worker.terminate(),this.url&&("object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.revokeObjectURL(this.url):URL.revokeObjectURL(this.url))},tell:function(e){this.worker&&this.worker.postMessage(e)},says:function(e){this.worker&&this.worker.addEventListener("message",(function(t){e(t.data)}))}}},,,,,,,function(e,t,r){"use strict";var n=r(9),i=r(20),a=r(12),o=r(2),s=r(15),l=r(30).KEY,c=r(4),u=r(47),h=r(59),p=r(46),f=r(8),d=r(110),v=r(218),m=r(219),g=r(81),S=r(3),w=r(7),y=r(16),b=r(22),x=r(34),k=r(39),C=r(42),$=r(115),P=r(32),T=r(60),E=r(11),_=r(41),M=P.f,A=E.f,D=$.f,L=n.Symbol,V=n.JSON,I=V&&V.stringify,O=f("_hidden"),N=f("toPrimitive"),B={}.propertyIsEnumerable,F=u("symbol-registry"),R=u("symbols"),H=u("op-symbols"),j=Object.prototype,z="function"==typeof L&&!!T.f,U=n.QObject,W=!U||!U.prototype||!U.prototype.findChild,G=a&&c((function(){return 7!=C(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=M(j,t);n&&delete j[t],A(e,t,r),n&&e!==j&&A(j,t,n)}:A,q=function(e){var t=R[e]=C(L.prototype);return t._k=e,t},Y=z&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},X=function(e,t,r){return e===j&&X(H,t,r),S(e),t=x(t,!0),S(r),i(R,t)?(r.enumerable?(i(e,O)&&e[O][t]&&(e[O][t]=!1),r=C(r,{enumerable:k(0,!1)})):(i(e,O)||A(e,O,k(1,{})),e[O][t]=!0),G(e,t,r)):A(e,t,r)},Z=function(e,t){S(e);for(var r,n=m(t=b(t)),i=0,a=n.length;a>i;)X(e,r=n[i++],t[r]);return e},K=function(e){var t=B.call(this,e=x(e,!0));return!(this===j&&i(R,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(R,e)||i(this,O)&&this[O][e])||t)},J=function(e,t){if(e=b(e),t=x(t,!0),e!==j||!i(R,t)||i(H,t)){var r=M(e,t);return!r||!i(R,t)||i(e,O)&&e[O][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=D(b(e)),n=[],a=0;r.length>a;)i(R,t=r[a++])||t==O||t==l||n.push(t);return n},ee=function(e){for(var t,r=e===j,n=D(r?H:b(e)),a=[],o=0;n.length>o;)!i(R,t=n[o++])||r&&!i(j,t)||a.push(R[t]);return a};z||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===j&&t.call(H,r),i(this,O)&&i(this[O],e)&&(this[O][e]=!1),G(this,e,k(1,r))};return a&&W&&G(j,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),P.f=J,E.f=X,r(50).f=$.f=Q,r(61).f=K,T.f=ee,a&&!r(58)&&s(j,"propertyIsEnumerable",K,!0),d.f=function(e){return q(f(e))}),o(o.G+o.W+o.F*!z,{Symbol:L});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var ne=_(f.store),ie=0;ne.length>ie;)v(ne[ie++]);o(o.S+o.F*!z,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=L(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!z,"Object",{create:function(e,t){return void 0===t?C(e):Z(C(e),t)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ae=c((function(){T.f(1)}));o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return T.f(y(e))}}),V&&o(o.S+o.F*(!z||c((function(){var e=L();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(w(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),n[1]=t,I.apply(V,n)}}),L.prototype[N]||r(25)(L.prototype,N,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(e,t,r){e.exports=!r(12)&&!r(4)((function(){return 7!=Object.defineProperty(r(109)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(7),i=r(9).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){t.f=r(8)},function(e,t,r){var n=r(20),i=r(22),a=r(112)(!1),o=r(79)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),l=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~a(c,r)||c.push(r));return c}},function(e,t,r){var n=r(22),i=r(13),a=r(49);e.exports=function(e){return function(t,r,o){var s,l=n(t),c=i(l.length),u=a(o,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(11),i=r(3),a=r(41);e.exports=r(12)?Object.defineProperties:function(e,t){i(e);for(var r,o=a(t),s=o.length,l=0;s>l;)n.f(e,r=o[l++],t[r]);return e}},function(e,t,r){var n=r(9).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(22),i=r(50).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},function(e,t,r){"use strict";var n=r(12),i=r(41),a=r(60),o=r(61),s=r(16),l=r(48),c=Object.assign;e.exports=!c||r(4)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n}))?function(e,t){for(var r=s(e),c=arguments.length,u=1,h=a.f,p=o.f;c>u;)for(var f,d=l(arguments[u++]),v=h?i(d).concat(h(d)):i(d),m=v.length,g=0;m>g;)f=v[g++],n&&!p.call(d,f)||(r[f]=d[f]);return r}:c},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(29),i=r(7),a=r(239),o=[].slice,s={},l=function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),s=function(){var n=r.concat(o.call(arguments));return this instanceof s?l(t,n.length,n):a(t,n,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,r){var n=r(9).parseInt,i=r(63).trim,a=r(84),o=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},function(e,t,r){var n=r(9).parseFloat,i=r(63).trim;e.exports=1/n(r(84)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(35);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){"use strict";var n=r(36),i=r(31);e.exports=function(e){var t=String(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},function(e,t,r){var n=r(7),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){"use strict";var n=r(42),i=r(39),a=r(59),o={};r(25)(o,r(8)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){"use strict";var n=r(3),i=r(13),a=r(93),o=r(65);r(66)("match",1,(function(e,t,r,s){return[function(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=s(r,e,this);if(t.done)return t.value;var l=n(e),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;for(var h,p=[],f=0;null!==(h=o(l,c));){var d=String(h[0]);p[f]=d,""===d&&(l.lastIndex=a(c,i(l.lastIndex),u)),f++}return 0===f?null:p}]}))},function(e,t,r){"use strict";var n=r(94);r(2)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){"use strict";var n=r(3),i=r(16),a=r(13),o=r(36),s=r(93),l=r(65),c=Math.max,u=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;r(66)("replace",2,(function(e,t,r,d){return[function(n,i){var a=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(e,t){var i=d(r,e,this,t);if(i.done)return i.value;var h=n(e),p=String(this),f="function"==typeof t;f||(t=String(t));var m=h.global;if(m){var g=h.unicode;h.lastIndex=0}for(var S=[];;){var w=l(h,p);if(null===w)break;if(S.push(w),!m)break;""===String(w[0])&&(h.lastIndex=s(p,a(h.lastIndex),g))}for(var y,b="",x=0,k=0;k<S.length;k++){w=S[k];for(var C=String(w[0]),$=c(u(o(w.index),p.length),0),P=[],T=1;T<w.length;T++)P.push(void 0===(y=w[T])?y:String(y));var E=w.groups;if(f){var _=[C].concat(P,$,p);void 0!==E&&_.push(E);var M=String(t.apply(void 0,_))}else M=v(C,p,$,P,E,t);$>=x&&(b+=p.slice(x,$)+M,x=$+C.length)}return b+p.slice(x)}];function v(e,t,n,a,o,s){var l=n+e.length,c=a.length,u=f;return void 0!==o&&(o=i(o),u=p),r.call(s,u,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return r;if(u>c){var p=h(u/10);return 0===p?r:p<=c?void 0===a[p-1]?i.charAt(1):a[p-1]+i.charAt(1):r}s=a[u-1]}return void 0===s?"":s}))}}))},function(e,t,r){"use strict";var n=r(3),i=r(117),a=r(65);r(66)("search",1,(function(e,t,r,o){return[function(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=o(r,e,this);if(t.done)return t.value;var s=n(e),l=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var u=a(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},function(e,t,r){"use strict";var n=r(91),i=r(3),a=r(300),o=r(93),s=r(13),l=r(65),c=r(94),u=r(4),h=Math.min,p=[].push,f="length",d=!u((function(){RegExp(4294967295,"y")}));r(66)("split",2,(function(e,t,r,u){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[f]||2!="ab".split(/(?:ab)*/)[f]||4!=".".split(/(.?)(.?)/)[f]||".".split(/()()/)[f]>1||"".split(/.?/)[f]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);for(var a,o,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,d=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,u+"g");(a=c.call(v,i))&&!((o=v.lastIndex)>h&&(l.push(i.slice(h,a.index)),a[f]>1&&a.index<i[f]&&p.apply(l,a.slice(1)),s=a[0][f],h=o,l[f]>=d));)v.lastIndex===a.index&&v.lastIndex++;return h===i[f]?!s&&v.test("")||l.push(""):l.push(i.slice(h)),l[f]>d?l.slice(0,d):l}:"0".split(void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,n):v.call(String(i),r,n)},function(e,t){var n=u(v,e,this,t,v!==r);if(n.done)return n.value;var c=i(e),p=String(this),f=a(c,RegExp),m=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(d?"y":"g"),S=new f(d?c:"^(?:"+c.source+")",g),w=void 0===t?4294967295:t>>>0;if(0===w)return[];if(0===p.length)return null===l(S,p)?[p]:[];for(var y=0,b=0,x=[];b<p.length;){S.lastIndex=d?b:0;var k,C=l(S,d?p:p.slice(b));if(null===C||(k=h(s(S.lastIndex+(d?0:b)),p.length))===y)b=o(p,b,m);else{if(x.push(p.slice(y,b)),x.length===w)return x;for(var $=1;$<=C.length-1;$++)if(x.push(C[$]),x.length===w)return x;b=y=k}}return x.push(p.slice(y)),x}]}))},function(e,t,r){var n=r(3);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,r){var n=r(51),i=r(8)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){"use strict";var n=r(11),i=r(39);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var n=r(82),i=r(8)("iterator"),a=r(51);e.exports=r(10).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){var n=r(8)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},e(a)}catch(e){}return r}},function(e,t,r){var n=r(29),i=r(16),a=r(48),o=r(13);e.exports=function(e,t,r,s,l){n(t);var c=i(e),u=a(c),h=o(c.length),p=l?h-1:0,f=l?-1:1;if(r<2)for(;;){if(p in u){s=u[p],p+=f;break}if(p+=f,l?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;l?p>=0:h>p;p+=f)p in u&&(s=t(s,u[p],p,c));return s}},function(e,t,r){"use strict";var n=r(52),i=r(138),a=r(51),o=r(22);e.exports=r(89)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){r(12)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(67)})},function(e,t,r){for(var n=r(137),i=r(41),a=r(15),o=r(9),s=r(25),l=r(51),c=r(8),u=c("iterator"),h=c("toStringTag"),p=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(f),v=0;v<d.length;v++){var m,g=d[v],S=f[g],w=o[g],y=w&&w.prototype;if(y&&(y[u]||s(y,u,p),y[h]||s(y,h,g),l[g]=p,S))for(m in n)y[m]||a(y,m,n[m],!0)}},function(e,t,r){"use strict";var n=r(142),i=r(43);e.exports=r(98)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(11).f,i=r(42),a=r(96),o=r(40),s=r(97),l=r(68),c=r(89),u=r(138),h=r(95),p=r(12),f=r(30).fastKey,d=r(43),v=p?"_s":"size",m=function(e,t){var r,n=f(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,null!=n&&l(n,r,e[c],e)}));return a(u.prototype,{clear:function(){for(var e=d(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=d(this,t),n=m(r,e);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[v]--}return!!n},forEach:function(e){d(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(d(this,t),e)}}),p&&n(u.prototype,"size",{get:function(){return d(this,t)[v]}}),u},def:function(e,t,r){var n,i,a=m(e,t);return a?a.v=r:(e._l=a={i:i=f(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[v]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,r){c(e,t,(function(e,r){this._t=d(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))}),r?"entries":"values",!r,!0),h(t)}}},function(e,t,r){"use strict";var n=r(142),i=r(43);e.exports=r(98)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e){e.exports=JSON.parse('{"a":"1.5.1"}')},function(e,t,r){"use strict";var n=r(24);var i=r(54),a=r(44);var o=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function s(e){return e}function l(e){return 0===e.length?s:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var c=r(14),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o=this.operator,s=function(e,t,r){if(e){if(e instanceof n.a)return e;if(e[i.a])return e[i.a]()}return e||t||r?new n.a(e,t,r):new n.a(a.a)}(e,t,r);if(o?s.add(o.call(s,this.source)):s.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,r=t.closed,i=t.destination,a=t.isStopped;if(r||a)return!1;e=i&&i instanceof n.a?i:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=h(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(e){n(e),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:l(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var p=r(70),f=r(37),d=r(18);var v=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new m(e,this.project,this.thisArg))},e}(),m=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return d.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(n.a);r.d(t,"a",(function(){return g}));function g(e,t,r,n){return Object(f.a)(r)&&(n=r,r=void 0),n?g(e,t,r).pipe((i=function(e){return Object(p.a)(e)?n.apply(void 0,e):n(e)},function(e){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new v(i,a))})):new u((function(n){!function e(t,r,n,i,a){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(r,n,a),o=function(){return s.removeEventListener(r,n,a)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(r,n),o=function(){return l.off(r,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(r,n),o=function(){return c.removeListener(r,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,h=t.length;u<h;u++)e(t[u],r,n,i,a)}i.add(o)}(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}));var i,a}},function(e,t,r){"use strict";var n=r(18),i=r(24),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return n.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return n.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(71).a)),o=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),s=new(function(e){function t(r,n){void 0===n&&(n=o.now);var i=e.call(this,r,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return n.a(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(o))(a);function l(e,t){return void 0===t&&(t=s),function(r){return r.lift(new c(e,t))}}r.d(t,"a",(function(){return l}));var c=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return n.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(h,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.a);function h(e){e.debouncedNext()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){(function(e){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t){"use strict";var r={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!R(e))return r;F(e.objectMaxDepth)&&(r.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN),F(e.urlErrorParamsEnabled)&&K(e.urlErrorParamsEnabled)&&(r.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function i(e){return z(e)&&e>0}function a(e,t){t=t||Error;var n="https://errors.angularjs.org/1.8.0/",i=n.replace(".","\\.")+"[\\s\\S]*",a=new RegExp(i,"g");return function(){var i,o,s=arguments[0],l=arguments[1],c="["+(e?e+":":"")+s+"] ",u=pe(arguments,2).map((function(e){return Ue(e,r.objectMaxDepth)}));if(c+=l.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<u.length?u[t].replace(a,""):e})),c+="\n"+n+(e?e+"/":"")+s,r.urlErrorParamsEnabled)for(o=0,i="?";o<u.length;o++,i="&")c+=i+"p"+o+"="+encodeURIComponent(u[o]);return new t(c)}}var o,s,l,c,u=/^\/(.+)\/([a-z]*)$/,h=Object.prototype.hasOwnProperty,p=function(e){return j(e)?e.toLowerCase():e},f=function(e){return j(e)?e.toUpperCase():e},d=[].slice,v=[].splice,m=[].push,g=Object.prototype.toString,S=Object.getPrototypeOf,w=a("ng"),y=t.angular||(t.angular={}),b=0;function x(e){if(null==e||X(e))return!1;if(W(e)||j(e)||s&&e instanceof s)return!0;var t="length"in Object(e)&&e.length;return z(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function k(e,t,r){var n,i;if(e)if(q(e))for(n in e)"prototype"!==n&&"length"!==n&&"name"!==n&&e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else if(W(e)||x(e)){var a="object"!=typeof e;for(n=0,i=e.length;n<i;n++)(a||n in e)&&t.call(r,e[n],n,e)}else if(e.forEach&&e.forEach!==k)e.forEach(t,r,e);else if(H(e))for(n in e)t.call(r,e[n],n,e);else if("function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else for(n in e)h.call(e,n)&&t.call(r,e[n],n,e);return e}function C(e,t,r){for(var n=Object.keys(e).sort(),i=0;i<n.length;i++)t.call(r,e[n[i]],n[i]);return n}function $(e){return function(t,r){e(r,t)}}function P(){return++b}function T(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function E(e,t,r){for(var n=e.$$hashKey,i=0,a=t.length;i<a;++i){var o=t[i];if(R(o)||q(o))for(var s=Object.keys(o),l=0,c=s.length;l<c;l++){var u=s[l],h=o[u];r&&R(h)?U(h)?e[u]=new Date(h.valueOf()):Y(h)?e[u]=new RegExp(h):h.nodeName?e[u]=h.cloneNode(!0):re(h)?e[u]=h.clone():"__proto__"!==u&&(R(e[u])||(e[u]=W(h)?[]:{}),E(e[u],[h],!0)):e[u]=h}}return T(e,n),e}function _(e){return E(e,d.call(arguments,1),!1)}function M(e){return E(e,d.call(arguments,1),!0)}function A(e){return parseInt(e,10)}o=t.document.documentMode;var D=Number.isNaN||function(e){return e!=e};function L(e,t){return _(Object.create(e),t)}function V(){}function I(e){return e}function O(e){return function(){return e}}function N(e){return q(e.toString)&&e.toString!==g}function B(e){return void 0===e}function F(e){return void 0!==e}function R(e){return null!==e&&"object"==typeof e}function H(e){return null!==e&&"object"==typeof e&&!S(e)}function j(e){return"string"==typeof e}function z(e){return"number"==typeof e}function U(e){return"[object Date]"===g.call(e)}function W(e){return Array.isArray(e)||e instanceof Array}function G(e){switch(g.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function q(e){return"function"==typeof e}function Y(e){return"[object RegExp]"===g.call(e)}function X(e){return e&&e.window===e}function Z(e){return e&&e.$evalAsync&&e.$watch}function K(e){return"boolean"==typeof e}function J(e){return e&&q(e.then)}V.$inject=[],I.$inject=[];var Q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var ee=function(e){return j(e)?e.trim():e},te=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function re(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ne(e){return p(e.nodeName||e[0]&&e[0].nodeName)}function ie(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function ae(e,t){var r=e.indexOf(t);return r>=0&&e.splice(r,1),r}function oe(e,t,r){var n,a,o=[],s=[];if(r=i(r)?r:NaN,t){if((a=t)&&z(a.length)&&Q.test(g.call(a))||(n=t,"[object ArrayBuffer]"===g.call(n)))throw w("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw w("cpi","Can't copy! Source and destination are identical.");return W(t)?t.length=0:k(t,(function(e,r){"$$hashKey"!==r&&delete t[r]})),o.push(e),s.push(t),l(e,t,r)}return c(e,r);function l(e,t,r){if(--r<0)return"...";var n,i=t.$$hashKey;if(W(e))for(var a=0,o=e.length;a<o;a++)t.push(c(e[a],r));else if(H(e))for(n in e)t[n]=c(e[n],r);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=c(e[n],r));else for(n in e)h.call(e,n)&&(t[n]=c(e[n],r));return T(t,i),t}function c(e,t){if(!R(e))return e;var r=o.indexOf(e);if(-1!==r)return s[r];if(X(e)||Z(e))throw w("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(e){switch(g.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(c(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var r=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return r.lastIndex=e.lastIndex,r;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(q(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=W(e)?[]:Object.create(S(e)),n=!0),o.push(e),s.push(i),n?l(e,i,t):i}}function se(e,t){return e===t||e!=e&&t!=t}function le(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var r,n,i,a=typeof e;if(a===typeof t&&"object"===a){if(!W(e)){if(U(e))return!!U(t)&&se(e.getTime(),t.getTime());if(Y(e))return!!Y(t)&&e.toString()===t.toString();if(Z(e)||Z(t)||X(e)||X(t)||W(t)||U(t)||Y(t))return!1;for(n in i=Re(),e)if("$"!==n.charAt(0)&&!q(e[n])){if(!le(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&F(t[n])&&!q(t[n]))return!1;return!0}if(!W(t))return!1;if((r=e.length)===t.length){for(n=0;n<r;n++)if(!le(e[n],t[n]))return!1;return!0}}return!1}var ce=function(){if(!F(ce.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var r=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ce.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else ce.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ce.rules},ue=function(){if(F(ue.name_))return ue.name_;var e,r,n,i,a=Pe.length;for(r=0;r<a;++r)if(n=Pe[r],e=t.document.querySelector("["+n.replace(":","\\:")+"jq]")){i=e.getAttribute(n+"jq");break}return ue.name_=i};function he(e,t,r){return e.concat(d.call(t,r))}function pe(e,t){return d.call(e,t||0)}function fe(e,t){var r=arguments.length>2?pe(arguments,2):[];return!q(t)||t instanceof RegExp?t:r.length?function(){return arguments.length?t.apply(e,he(r,arguments,0)):t.apply(e,r)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function de(e,r){var n=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:X(r)?n="$WINDOW":r&&t.document===r?n="$DOCUMENT":Z(r)&&(n="$SCOPE"),n}function ve(e,t){if(!B(e))return z(t)||(t=t?2:null),JSON.stringify(e,de,t)}function me(e){return j(e)?JSON.parse(e):e}var ge=/:/g;function Se(e,t){e=e.replace(ge,"");var r=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return D(r)?t:r}function we(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function ye(e,t,r){r=r?-1:1;var n=e.getTimezoneOffset();return we(e,r*(Se(t,n)-n))}function be(e){e=s(e).clone().empty();var t=s("<div></div>").append(e).html();try{return e[0].nodeType===je?p(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+p(t)}))}catch(e){return p(t)}}function xe(e){try{return decodeURIComponent(e)}catch(e){}}function ke(e){var t={};return k((e||"").split("&"),(function(e){var r,n,i;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(r=e.indexOf("="))&&(n=e.substring(0,r),i=e.substring(r+1)),F(n=xe(n))&&(i=!F(i)||xe(i),h.call(t,n)?W(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i))})),t}function Ce(e){return $e(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $e(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Pe=["ng-","data-ng-","ng:","x-ng-"];var Te=function(e){var r=e.currentScript;if(!r)return!0;if(!(r instanceof t.HTMLScriptElement||r instanceof t.SVGScriptElement))return!1;var n=r.attributes;return[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every((function(t){if(!t)return!0;if(!t.value)return!1;var r=e.createElement("a");if(r.href=t.value,e.location.origin===r.origin)return!0;switch(r.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document);function Ee(e,r){var n,i,a={};if(k(Pe,(function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))})),k(Pe,(function(t){var r,a=t+"app";!n&&(r=e.querySelector("["+a.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(a))})),n){if(!Te)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==function(e,t){var r,n,i=Pe.length;for(n=0;n<i;++n)if(r=Pe[n]+t,j(r=e.getAttribute(r)))return r;return null}(n,"strict-di"),r(n,i?[i]:[],a)}}function _e(e,r,n){R(n)||(n={});n=_({strictDi:!1},n);var i=function(){if((e=s(e)).injector()){var i=e[0]===t.document?"document":be(e);throw w("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),n.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var a=Jt(r,n.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,r,n){e.$apply((function(){t.data("$injector",n),r(t)(e)}))}]),a},a=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(n.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!o.test(t.name))return i();t.name=t.name.replace(o,""),y.resumeBootstrap=function(e){return k(e,(function(e){r.push(e)})),i()},q(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function Me(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Ae(e){var t=y.element(e).injector();if(!t)throw w("test","no injector found for element argument to getTestability");return t.get("$$testability")}var De=/[A-Z]/g;function Le(e,t){return t=t||"_",e.replace(De,(function(e,r){return(r?t:"")+e.toLowerCase()}))}var Ve=!1;function Ie(){ft.legacyXHTMLReplacement=!0}function Oe(e,t,r){if(!e)throw w("areq","Argument '{0}' is {1}",t||"?",r||"required");return e}function Ne(e,t,r){return r&&W(e)&&(e=e[e.length-1]),Oe(q(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Be(e,t){if("hasOwnProperty"===e)throw w("badname","hasOwnProperty is not a valid {0} name",t)}function Fe(e){for(var t,r=e[0],n=e[e.length-1],i=1;r!==n&&(r=r.nextSibling);i++)(t||e[i]!==r)&&(t||(t=s(d.call(e,0,i))),t.push(r));return t||e}function Re(){return Object.create(null)}function He(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!N(e)||W(e)||U(e)?ve(e):e.toString()}return e}var je=3;function ze(e,t){if(W(e)){t=t||[];for(var r=0,n=e.length;r<n;r++)t[r]=e[r]}else if(R(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function Ue(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):B(e)?"undefined":"string"!=typeof e?function(e,t){var r=[];return i(t)&&(e=y.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(R(t=de(e,t))){if(r.indexOf(t)>=0)return"...";r.push(t)}return t}))}(e,t):e}var We={full:"1.8.0",major:1,minor:8,dot:0,codeName:"nested-vaccination"};ft.expando="ng339";var Ge=ft.cache={},qe=1;ft._data=function(e){return this.cache[e[this.expando]]||{}};var Ye=/-([a-z])/g,Xe=/^-ms-/,Ze={mouseleave:"mouseout",mouseenter:"mouseover"},Ke=a("jqLite");function Je(e,t){return t.toUpperCase()}function Qe(e){return e.replace(Ye,Je)}var et=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,tt=/<|&#?\w+;/,rt=/<([\w:-]+)/,nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td;var at={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var ot in it){var st=it[ot],lt=st.slice().reverse();at[ot]=[lt.length,"<"+lt.join("><")+">","</"+st.join("></")+">"]}function ct(e){return!tt.test(e)}function ut(e){var t=e.nodeType;return 1===t||!t||9===t}function ht(e,r){var n,i,a,s,l,c=r.createDocumentFragment(),u=[];if(ct(e))u.push(r.createTextNode(e));else{if(n=c.appendChild(r.createElement("div")),i=(rt.exec(e)||["",""])[1].toLowerCase(),s=ft.legacyXHTMLReplacement?e.replace(nt,"<$1></$2>"):e,o<10)for(a=at[i]||at._default,n.innerHTML=a[1]+s+a[2],l=a[0];l--;)n=n.firstChild;else{for(l=(a=it[i]||[]).length;--l>-1;)n.appendChild(t.document.createElement(a[l])),n=n.firstChild;n.innerHTML=s}u=he(u,n.childNodes),(n=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",k(u,(function(e){c.appendChild(e)})),c}at.optgroup=at.option;var pt=t.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function ft(e){if(e instanceof ft)return e;var r,n,i,a;if(j(e)&&(e=ee(e),r=!0),!(this instanceof ft)){if(r&&"<"!==e.charAt(0))throw Ke("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ft(e)}r?$t(this,(n=e,i=i||t.document,(a=et.exec(n))?[i.createElement(a[1])]:(a=ht(n,i))?a.childNodes:[])):q(e)?Mt(e):$t(this,e)}function dt(e){return e.cloneNode(!0)}function vt(e,t){!t&&ut(e)&&s.cleanData([e]),e.querySelectorAll&&s.cleanData(e.querySelectorAll("*"))}function mt(e){var t;for(t in e)return!1;return!0}function gt(e){var t=e.ng339,r=t&&Ge[t],n=r&&r.events,i=r&&r.data;i&&!mt(i)||n&&!mt(n)||(delete Ge[t],e.ng339=void 0)}function St(e,t,r,n){if(F(n))throw Ke("offargs","jqLite#off() does not support the `selector` argument");var i=yt(e),a=i&&i.events,o=i&&i.handle;if(o){if(t){var s=function(t){var n=a[t];F(r)&&ae(n||[],r),F(r)&&n&&n.length>0||(e.removeEventListener(t,o),delete a[t])};k(t.split(" "),(function(e){s(e),Ze[e]&&s(Ze[e])}))}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,o),delete a[t];gt(e)}}function wt(e,t){var r=e.ng339,n=r&&Ge[r];n&&(t?delete n.data[t]:n.data={},gt(e))}function yt(e,t){var r=e.ng339,n=r&&Ge[r];return t&&!n&&(e.ng339=r=++qe,n=Ge[r]={events:{},data:{},handle:void 0}),n}function bt(e,t,r){if(ut(e)){var n,i=F(r),a=!i&&t&&!R(t),o=!t,s=yt(e,!a),l=s&&s.data;if(i)l[Qe(t)]=r;else{if(o)return l;if(a)return l&&l[Qe(t)];for(n in t)l[Qe(n)]=t[n]}}}function xt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function kt(e,t){if(t&&e.setAttribute){var r=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=r;k(t.split(" "),(function(e){e=ee(e),n=n.replace(" "+e+" "," ")})),n!==r&&e.setAttribute("class",ee(n))}}function Ct(e,t){if(t&&e.setAttribute){var r=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=r;k(t.split(" "),(function(e){e=ee(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")})),n!==r&&e.setAttribute("class",ee(n))}}function $t(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var r=t.length;if("number"==typeof r&&t.window!==t){if(r)for(var n=0;n<r;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function Pt(e,t){return Tt(e,"$"+(t||"ngController")+"Controller")}function Tt(e,t,r){9===e.nodeType&&(e=e.documentElement);for(var n=W(t)?t:[t];e;){for(var i=0,a=n.length;i<a;i++)if(F(r=s.data(e,n[i])))return r;e=e.parentNode||11===e.nodeType&&e.host}}function Et(e){for(vt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function _t(e,t){t||vt(e);var r=e.parentNode;r&&r.removeChild(e)}function Mt(e){function r(){t.document.removeEventListener("DOMContentLoaded",r),t.removeEventListener("load",r),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",r),t.addEventListener("load",r))}var At=ft.prototype={ready:Mt,toString:function(){var e=[];return k(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return s(e>=0?this[e]:this[this.length+e])},length:0,push:m,sort:[].sort,splice:[].splice},Dt={};k("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){Dt[p(e)]=e}));var Lt={};k("input,select,option,textarea,button,form,details".split(","),(function(e){Lt[e]=!0}));var Vt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function It(e,t){var r=Dt[t.toLowerCase()];return r&&Lt[ne(e)]&&r}function Ot(e,t,r){r.call(e,t)}function Nt(e,t,r){var n=t.relatedTarget;n&&(n===e||pt.call(e,n))||r.call(e,t)}function Bt(){this.$get=function(){return _(ft,{hasClass:function(e,t){return e.attr&&(e=e[0]),xt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ct(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),kt(e,t)}})}}function Ft(e,t){var r=e&&e.$$hashKey;if(r)return"function"==typeof r&&(r=e.$$hashKey()),r;var n=typeof e;return r="function"===n||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||P)():n+":"+e}k({data:bt,removeData:wt,hasData:function(e){for(var t in Ge[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,r=e.length;t<r;t++)wt(e[t]),St(e[t])}},(function(e,t){ft[t]=e})),k({data:bt,inheritedData:Tt,scope:function(e){return s.data(e,"$scope")||Tt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return s.data(e,"$isolateScope")||s.data(e,"$isolateScopeNoTemplate")},controller:Pt,injector:function(e){return Tt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:xt,css:function(e,t,r){if(t=function(e){return Qe(e.replace(Xe,"ms-"))}(t),!F(r))return e.style[t];e.style[t]=r},attr:function(e,t,r){var n,i=e.nodeType;if(i!==je&&2!==i&&8!==i&&e.getAttribute){var a=p(t),o=Dt[a];if(!F(r))return n=e.getAttribute(t),o&&null!==n&&(n=a),null===n?void 0:n;null===r||!1===r&&o?e.removeAttribute(t):e.setAttribute(t,o?a:r)}},prop:function(e,t,r){if(!F(r))return e[t];e[t]=r},text:function(){return e.$dv="",e;function e(e,t){if(B(t)){var r=e.nodeType;return 1===r||r===je?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(B(t)){if(e.multiple&&"select"===ne(e)){var r=[];return k(e.options,(function(e){e.selected&&r.push(e.value||e.text)})),r}return e.value}e.value=t},html:function(e,t){if(B(t))return e.innerHTML;vt(e,!0),e.innerHTML=t},empty:Et},(function(e,t){ft.prototype[t]=function(t,r){var n,i,a=this.length;if(e!==Et&&B(2===e.length&&e!==xt&&e!==Pt?t:r)){if(R(t)){for(n=0;n<a;n++)if(e===bt)e(this[n],t);else for(i in t)e(this[n],i,t[i]);return this}for(var o=e.$dv,s=B(o)?Math.min(a,1):a,l=0;l<s;l++){var c=e(this[l],t,r);o=o?o+c:c}return o}for(n=0;n<a;n++)e(this[n],t,r);return this}})),k({removeData:wt,on:function(e,t,r,n){if(F(n))throw Ke("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ut(e)){var i=yt(e,!0),a=i.events,o=i.handle;o||(o=i.handle=function(e,t){var r=function(r,n){r.isDefaultPrevented=function(){return r.defaultPrevented};var i=t[n||r.type],a=i?i.length:0;if(a){if(B(r.immediatePropagationStopped)){var o=r.stopImmediatePropagation;r.stopImmediatePropagation=function(){r.immediatePropagationStopped=!0,r.stopPropagation&&r.stopPropagation(),o&&o.call(r)}}r.isImmediatePropagationStopped=function(){return!0===r.immediatePropagationStopped};var s=i.specialHandlerWrapper||Ot;a>1&&(i=ze(i));for(var l=0;l<a;l++)r.isImmediatePropagationStopped()||s(e,r,i[l])}};return r.elem=e,r}(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,n,i){var s=a[t];s||((s=a[t]=[]).specialHandlerWrapper=n,"$destroy"===t||i||e.addEventListener(t,o)),s.push(r)};l--;)t=s[l],Ze[t]?(c(Ze[t],Nt),c(t,void 0,!0)):c(t)}},off:St,one:function(e,t,r){(e=s(e)).on(t,(function n(){e.off(t,r),e.off(t,n)})),e.on(t,r)},replaceWith:function(e,t){var r,n=e.parentNode;vt(e),k(new ft(t),(function(t){r?n.insertBefore(t,r.nextSibling):n.replaceChild(t,e),r=t}))},children:function(e){var t=[];return k(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var r=e.nodeType;if(1===r||11===r)for(var n=0,i=(t=new ft(t)).length;n<i;n++){var a=t[n];e.appendChild(a)}},prepend:function(e,t){if(1===e.nodeType){var r=e.firstChild;k(new ft(t),(function(t){e.insertBefore(t,r)}))}},wrap:function(e,t){var r,n,i;r=e,n=s(t).eq(0).clone()[0],(i=r.parentNode)&&i.replaceChild(n,r),n.appendChild(r)},remove:_t,detach:function(e){_t(e,!0)},after:function(e,t){var r=e,n=e.parentNode;if(n)for(var i=0,a=(t=new ft(t)).length;i<a;i++){var o=t[i];n.insertBefore(o,r.nextSibling),r=o}},addClass:Ct,removeClass:kt,toggleClass:function(e,t,r){t&&k(t.split(" "),(function(t){var n=r;B(n)&&(n=!xt(e,t)),(n?Ct:kt)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:dt,triggerHandler:function(e,t,r){var n,i,a,o=t.type||t,s=yt(e),l=s&&s.events,c=l&&l[o];c&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:V,type:o,target:e},t.type&&(n=_(n,t)),i=ze(c),a=r?[n].concat(r):[n],k(i,(function(t){n.isImmediatePropagationStopped()||t.apply(e,a)})))}},(function(e,t){ft.prototype[t]=function(t,r,n){for(var i,a=0,o=this.length;a<o;a++)B(i)?F(i=e(this[a],t,r,n))&&(i=s(i)):$t(i,e(this[a],t,r,n));return F(i)?i:this}})),ft.prototype.bind=ft.prototype.on,ft.prototype.unbind=ft.prototype.off;var Rt=Object.create(null);function Ht(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Ht.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return D(e)?Rt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var r=this._idx(e);-1===r&&(r=this._lastIndex=this._keys.length),this._keys[r]=e,this._values[r]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var jt=Ht,zt=[function(){this.$get=[function(){return jt}]}],Ut=/^([^(]+?)=>/,Wt=/^[^(]*\(\s*([^)]*)\)/m,Gt=/,/,qt=/^\s*(_?)(\S+?)\1\s*$/,Yt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Xt=a("$injector");function Zt(e){return Function.prototype.toString.call(e)}function Kt(e){var t=Zt(e).replace(Yt,"");return t.match(Ut)||t.match(Wt)}function Jt(e,t){t=!0===t;var r={},n=[],i=new jt,a={$provide:{provider:f(d),factory:f(m),service:f((function(e,t){return m(e,["$injector",function(e){return e.instantiate(t)}])})),value:f((function(e,t){return m(e,O(t),!1)})),constant:f((function(e,t){Be(e,"constant"),a[e]=t,l[e]=t})),decorator:function(e,t){var r=s.get(e+"Provider"),n=r.$get;r.$get=function(){var e=h.invoke(n,r);return h.invoke(t,null,{$delegate:e})}}}},s=a.$injector=S(a,(function(e,t){throw y.isString(t)&&n.push(t),Xt("unpr","Unknown provider: {0}",n.join(" <- "))})),l={},u=S(l,(function(e,t){var r=s.get(e+"Provider",t);return h.invoke(r.$get,r,void 0,e)})),h=u;a.$injectorProvider={$get:O(u)},h.modules=s.modules=Re();var p=g(e);return(h=u.get("$injector")).strictDi=t,k(p,(function(e){e&&h.invoke(e)})),h.loadNewModules=function(e){k(g(e),(function(e){e&&h.invoke(e)}))},h;function f(e){return function(t,r){if(!R(t))return e(t,r);k(t,$(e))}}function d(e,t){if(Be(e,"service"),(q(t)||W(t))&&(t=s.instantiate(t)),!t.$get)throw Xt("pget","Provider '{0}' must define $get factory method.",e);return a[e+"Provider"]=t}function v(e,t){return function(){var r=h.invoke(t,this);if(B(r))throw Xt("undef","Provider '{0}' must return a value from $get factory method.",e);return r}}function m(e,t,r){return d(e,{$get:!1!==r?v(e,t):t})}function g(e){Oe(B(e)||W(e),"modulesToLoad","not an array");var t,r=[];return k(e,(function(e){if(!i.get(e)){i.set(e,!0);try{j(e)?(t=c(e),h.modules[e]=t,r=r.concat(g(t.requires)).concat(t._runBlocks),n(t._invokeQueue),n(t._configBlocks)):q(e)||W(e)?r.push(s.invoke(e)):Ne(e,"module")}catch(t){throw W(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Xt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function n(e){var t,r;for(t=0,r=e.length;t<r;t++){var n=e[t],i=s.get(n[0]);i[n[1]].apply(i,n[2])}}})),r}function S(e,i){function s(t,a){if(e.hasOwnProperty(t)){if(e[t]===r)throw Xt("cdep","Circular dependency found: {0}",t+" <- "+n.join(" <- "));return e[t]}try{return n.unshift(t),e[t]=r,e[t]=i(t,a),e[t]}catch(n){throw e[t]===r&&delete e[t],n}finally{n.shift()}}function l(e,r,n){for(var i=[],a=Jt.$$annotate(e,t,n),o=0,l=a.length;o<l;o++){var c=a[o];if("string"!=typeof c)throw Xt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(r&&r.hasOwnProperty(c)?r[c]:s(c,n))}return i}return{invoke:function(e,t,r,n){"string"==typeof r&&(n=r,r=null);var i=l(e,r,n);return W(e)&&(e=e[e.length-1]),function(e){if(o||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return K(t)||(t=e.$$ngIsClass=/^class\b/.test(Zt(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,r){var n=W(e)?e[e.length-1]:e,i=l(e,t,r);return i.unshift(null),new(Function.prototype.bind.apply(n,i))},get:s,annotate:Jt.$$annotate,has:function(t){return a.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}}function Qt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(r,n,i){var a=r.document;function o(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(q(e))e=e();else if(re(e)){var t=e[0];e="fixed"!==r.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else z(e)||(e=0);return e}();if(t){var n=e.getBoundingClientRect().top;r.scrollBy(0,n-t)}}else r.scrollTo(0,0)}function l(e){var t,r,i;(e=j(e)?e:z(e)?e.toString():n.hash())?(t=a.getElementById(e))?o(t):(r=a.getElementsByName(e),i=null,Array.prototype.some.call(r,(function(e){if("a"===ne(e))return i=e,!0})),(t=i)?o(t):"top"===e&&o(null)):o(null)}return e&&i.$watch((function(){return n.hash()}),(function(e,r){var n,a;e===r&&""===e||(n=function(){i.$evalAsync(l)},"complete"===(a=a||t).document.readyState?a.setTimeout(n):s(a).on("load",n))})),l}]}Jt.$$annotate=function(e,t,r){var n,i;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw j(r)&&r||(r=e.name||function(e){var t=Kt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Xt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",r);k(Kt(e)[1].split(Gt),(function(e){e.replace(qt,(function(e,t,r){n.push(r)}))}))}e.$inject=n}}else W(e)?(Ne(e[i=e.length-1],"fn"),n=e.slice(0,i)):Ne(e,"fn",!0);return n};var er=a("$animate");function tr(e,t){return e||t?e?t?(W(e)&&(e=e.join(" ")),W(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function rr(e){return R(e)?e:{}}var nr=function(){this.$get=V},ir=function(){var e=new jt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(r,n){return{enabled:V,on:V,off:V,pin:V,push:function(o,s,l,c){c&&c(),(l=l||{}).from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&function(r,o,s){var l=e.get(r)||{},c=i(l,o,!0),u=i(l,s,!1);(c||u)&&(e.set(r,l),t.push(r),1===t.length&&n.$$postDigest(a))}(o,l.addClass,l.removeClass);var u=new r;return u.complete(),u}};function i(e,t,r){var n=!1;return t&&k(t=j(t)?t.split(" "):W(t)?t:[],(function(t){t&&(n=!0,e[t]=r)})),n}function a(){k(t,(function(t){var r=e.get(t);if(r){var n=function(e){j(e)&&(e=e.split(" "));var t=Re();return k(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i="",a="";k(r,(function(e,t){e!==!!n[t]&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)})),k(t,(function(e){i&&Ct(e,i),a&&kt(e,a)})),e.delete(t)}})),t.length=0}}]},ar=["$provide",function(e){var t=this,r=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(r,n){if(r&&"."!==r.charAt(0))throw er("notcsel","Expecting class selector starting with '.' got '{0}'.",r);var i=r+"-animation";t.$$registeredAnimations[r.substr(1)]=i,e.factory(i,n)},this.customFilter=function(e){return 1===arguments.length&&(n=q(e)?e:null),n},this.classNameFilter=function(e){if(1===arguments.length&&(r=e instanceof RegExp?e:null)){var t=new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]");if(t.test(r.toString()))throw r=null,er("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return r},this.$get=["$$animateQueue",function(e){function t(e,t,r){if(r){var n=function(e){for(var t=0;t<e.length;t++){var r=e[t];if(1===r.nodeType)return r}}(r);!n||n.parentNode||n.previousElementSibling||(r=null)}r?r.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(r,n,i,a){return n=n&&s(n),i=i&&s(i),t(r,n=n||i.parent(),i),e.push(r,"enter",rr(a))},move:function(r,n,i,a){return n=n&&s(n),i=i&&s(i),t(r,n=n||i.parent(),i),e.push(r,"move",rr(a))},leave:function(t,r){return e.push(t,"leave",rr(r),(function(){t.remove()}))},addClass:function(t,r,n){return(n=rr(n)).addClass=tr(n.addclass,r),e.push(t,"addClass",n)},removeClass:function(t,r,n){return(n=rr(n)).removeClass=tr(n.removeClass,r),e.push(t,"removeClass",n)},setClass:function(t,r,n,i){return(i=rr(i)).addClass=tr(i.addClass,r),i.removeClass=tr(i.removeClass,n),e.push(t,"setClass",i)},animate:function(t,r,n,i,a){return(a=rr(a)).from=a.from?_(a.from,r):r,a.to=a.to?_(a.to,n):n,i=i||"ng-inline-animate",a.tempClasses=tr(a.tempClasses,i),e.push(t,"animate",a)}}}]}],or=function(){this.$get=["$$rAF",function(e){var t=[];function r(r){t.push(r),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return r((function(){e=!0})),function(t){e?t():r(t)}}}]},sr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,r,n,i){function a(e){this.setHost(e);var t=r();this._doneCallbacks=[],this._tick=function(e){n()?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return a.chain=function(e,t){var r=0;!function n(){if(r===e.length)return void t(!0);e[r]((function(e){!1!==e?(r++,n()):t(!1)}))}()},a.all=function(e,t){var r=0,n=!0;function i(i){n=n&&i,++r===e.length&&t(n)}k(e,(function(e){e.done(i)}))},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:V,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,r){t.done((function(t){!1===t?r():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(k(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},a}]},lr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,r){return function(t,n){var i=n||{};i.$$prepared||(i=oe(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var a,o=new r;return{start:s,end:s};function s(){return e((function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),a||o.complete(),a=!0})),o}}}]};function cr(e,t,r,n,i){var a=this,o=e.location,l=e.history,c=e.setTimeout,u=e.clearTimeout,h={},p=i(r);a.isMock=!1,a.$$completeOutstandingRequest=p.completeTask,a.$$incOutstandingRequestCount=p.incTaskCount,a.notifyWhenNoOutstandingRequests=p.notifyWhenNoPendingTasks;var f,d,v=o.href,m=t.find("base"),g=null,S=n.history?function(){try{return l.state}catch(e){}}:V;C(),a.url=function(t,r,i){if(B(i)&&(i=null),o!==e.location&&(o=e.location),l!==e.history&&(l=e.history),t){var s=d===i;if(t=ci(t).href,v===t&&(!n.history||s))return a;var c=v&&ln(v)===ln(t);return v=t,d=i,!n.history||c&&s?(c||(g=t),r?o.replace(t):c?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(g=t)):(l[r?"replaceState":"pushState"](i,"",t),C()),g&&(g=t),a}return function(e){return e.replace(/#$/,"")}(g||o.href)},a.state=function(){return f};var w=[],y=!1;function b(){g=null,$()}var x=null;function C(){le(f=B(f=S())?null:f,x)&&(f=x),x=f,d=f}function $(){var e=d;C(),v===a.url()&&e===f||(v=a.url(),d=f,k(w,(function(e){e(a.url(),f)})))}a.onUrlChange=function(t){return y||(n.history&&s(e).on("popstate",b),s(e).on("hashchange",b),y=!0),w.push(t),t},a.$$applicationDestroyed=function(){s(e).off("hashchange popstate",b)},a.$$checkUrlChange=$,a.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},a.defer=function(e,t,r){var n;return t=t||0,r=r||p.DEFAULT_TASK_TYPE,p.incTaskCount(r),n=c((function(){delete h[n],p.completeTask(e,r)}),t),h[n]=r,n},a.defer.cancel=function(e){if(h.hasOwnProperty(e)){var t=h[e];return delete h[e],u(e),p.completeTask(V,t),!0}return!1}}function ur(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,r,n,i){return new cr(e,n,t,r,i)}]}function hr(){this.$get=function(){var e={};function t(t,r){if(t in e)throw a("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,i=_({},r,{id:t}),o=Re(),s=r&&r.capacity||Number.MAX_VALUE,l=Re(),c=null,u=null;return e[t]={put:function(e,t){if(!B(t)){if(s<Number.MAX_VALUE)h(l[e]||(l[e]={key:e}));return e in o||n++,o[e]=t,n>s&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;h(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;t===c&&(c=t.p),t===u&&(u=t.n),p(t.n,t.p),delete l[e]}e in o&&(delete o[e],n--)},removeAll:function(){o=Re(),n=0,l=Re(),c=u=null},destroy:function(){o=null,i=null,l=null,delete e[t]},info:function(){return _({},i,{size:n})}};function h(e){e!==c&&(u?u===e&&(u=e.n):u=e,p(e.n,e.p),p(e,c),(c=e).n=null)}function p(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return k(e,(function(e,r){t[r]=e.info()})),t},t.get=function(t){return e[t]},t}}function pr(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var fr=a("$compile");var dr=new function(){};function vr(e,r){var n={},i=/^\s*directive:\s*([\w-]+)\s+(.*)$/,a=/(([\w-]+)(?::([^;]+))?;?)/,l=function(e){var t,r={},n=e.split(",");for(t=0;t<n.length;t++)r[n[t]]=!0;return r}("ngSrc,ngSrcset,src,srcset"),c=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,u=/^(on[a-z]+|formaction)$/,f=Re();function d(e,t,r){var n=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=Re();return k(e,(function(e,a){if((e=e.trim())in f)i[a]=f[e];else{var o=e.match(n);if(!o)throw fr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,a,e,r?"controller bindings definition":"isolate scope definition");i[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(f[e]=i[a])}})),i}function v(e,t){var r={isolateScope:null,bindToController:null};if(R(e.scope)&&(!0===e.bindToController?(r.bindToController=d(e.scope,t,!0),r.isolateScope={}):r.isolateScope=d(e.scope,t,!1)),R(e.bindToController)&&(r.bindToController=d(e.bindToController,t,!0)),r.bindToController&&!e.controller)throw fr("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return r}this.directive=function t(r,i){return Oe(r,"name"),Be(r,"directive"),j(r)?(!function(e){var t=e.charAt(0);if(!t||t!==p(t))throw fr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw fr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(r),Oe(i,"directiveFactory"),n.hasOwnProperty(r)||(n[r]=[],e.factory(r+"Directive",["$injector","$exceptionHandler",function(e,t){var i=[];return k(n[r],(function(n,a){try{var o=e.invoke(n);q(o)?o={compile:O(o)}:!o.compile&&o.link&&(o.compile=O(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||r,o.require=function(e){var t=e.require||e.controller&&e.name;return!W(t)&&R(t)&&k(t,(function(e,r){var n=e.match(c);e.substring(n[0].length)||(t[r]=n[0]+r)})),t}(o),o.restrict=function(e,t){if(e&&(!j(e)||!/[EACM]/.test(e)))throw fr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(o.restrict,r),o.$$moduleName=n.$$moduleName,i.push(o)}catch(e){t(e)}})),i}])),n[r].push(i)):k(r,$(t)),this},this.component=function e(t,r){if(!j(t))return k(t,$(fe(this,e))),this;var n=r.controller||function(){};function i(e){function t(t){return q(t)||W(t)?function(r,n){return e.invoke(t,this,{$element:r,$attrs:n})}:t}var i=r.template||r.templateUrl?r.template:"",a={controller:n,controllerAs:Cr(r.controller)||r.controllerAs||"$ctrl",template:t(i),templateUrl:t(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return k(r,(function(e,t){"$"===t.charAt(0)&&(a[t]=e)})),a}return k(r,(function(e,t){"$"===t.charAt(0)&&(i[t]=e,q(n)&&(n[t]=e))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationWhitelist=function(e){return F(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return F(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var m=!0;this.debugInfoEnabled=function(e){return F(e)?(m=e,this):m};var S=!1;this.strictComponentBindingsEnabled=function(e){return F(e)?(S=e,this):S};var w=10;this.onChangesTtl=function(e){return arguments.length?(w=e,this):w};var y=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(y=e,this):y};var b=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(b=e,this):b};var x=Re();this.addPropertySecurityContext=function(e,t,r){var n=e.toLowerCase()+"|"+t.toLowerCase();if(n in x&&x[n]!==r)throw fr("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,x[n],r);return x[n]=r,this},function(){function e(e,t){k(t,(function(t){x[t.toLowerCase()]=e}))}e(Wn.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Wn.CSS,["*|style"]),e(Wn.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Wn.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Wn.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,r,f,d,C,$,P,T,E){var M,A=/^\w/,D=t.document.createElement("div"),O=y,N=b,F=w;function H(){try{if(!--F)throw M=void 0,fr("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);P.$apply((function(){for(var e=0,t=M.length;e<t;++e)try{M[e]()}catch(e){f(e)}M=void 0}))}finally{F++}}function z(e,t){if(!e)return e;if(!j(e))throw fr("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var r="",n=ee(e),i=/\s/.test(n)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,a=n.split(i),o=Math.floor(a.length/2),s=0;s<o;s++){var l=2*s;r+=T.getTrustedMediaUrl(ee(a[l])),r+=" "+ee(a[l+1])}var c=ee(a[2*s]).split(/\s/);return r+=T.getTrustedMediaUrl(ee(c[0])),2===c.length&&(r+=" "+ee(c[1])),r}function U(e,t){if(t){var r,n,i,a=Object.keys(t);for(r=0,n=a.length;r<n;r++)this[i=a[r]]=t[i]}else this.$attr={};this.$$element=e}function Y(e,t){try{e.addClass(t)}catch(e){}}U.prototype={$normalize:wr,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var r=yr(e,t);r&&r.length&&E.addClass(this.$$element,r);var n=yr(t,e);n&&n.length&&E.removeClass(this.$$element,n)},$set:function(e,t,r,n){var i=It(this.$$element[0],e),a=Vt[e],o=e;i?(this.$$element.prop(e,t),n=i):a&&(this[a]=t,o=a),this[e]=t,n?this.$attr[e]=n:(n=this.$attr[e])||(this.$attr[e]=n=Le(e,"-")),"img"===ne(this.$$element)&&"srcset"===e&&(this[e]=t=z(t,"$set('srcset', value)")),!1!==r&&(null===t||B(t)?this.$$element.removeAttr(n):A.test(n)?i&&!1===t?this.$$element.removeAttr(n):this.$$element.attr(n,t):function(e,t,r){D.innerHTML="<span "+t+">";var n=D.firstChild.attributes,i=n[0];n.removeNamedItem(i.name),i.value=r,e.attributes.setNamedItem(i)}(this.$$element[0],n,t));var s=this.$$observers;s&&k(s[o],(function(e){try{e(t)}catch(e){f(e)}}))},$observe:function(e,t){var r=this,n=r.$$observers||(r.$$observers=Re()),i=n[e]||(n[e]=[]);return i.push(t),P.$evalAsync((function(){i.$$inter||!r.hasOwnProperty(e)||B(r[e])||t(r[e])})),function(){ae(i,t)}}};var X=r.startSymbol(),J=r.endSymbol(),Q="{{"===X&&"}}"===J?I:function(e){return e.replace(/\{\{/g,X).replace(/}}/g,J)},te=/^ng(Attr|Prop|On)([A-Z].*)$/,re=/^(.+)Start$/;return ie.$$addBindingInfo=m?function(e,t){var r=e.data("$binding")||[];W(t)?r=r.concat(t):r.push(t),e.data("$binding",r)}:V,ie.$$addBindingClass=m?function(e){Y(e,"ng-binding")}:V,ie.$$addScopeInfo=m?function(e,t,r,n){var i=r?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:V,ie.$$addScopeClass=m?function(e,t){Y(e,t?"ng-isolate-scope":"ng-scope")}:V,ie.$$createComment=function(e,r){var n="";return m&&(n=" "+(e||"")+": ",r&&(n+=r+" ")),t.document.createComment(n)},ie;function ie(e,t,r,n,i){e instanceof s||(e=s(e));var a=oe(e,t,e,r,n,i);ie.$$addScopeClass(e);var o=null;return function(t,r,n){if(!e)throw fr("multilink","This element has already been linked.");Oe(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var l,c,u,h=(n=n||{}).parentBoundTranscludeFn,p=n.transcludeControllers,f=n.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),o||(c=(l=f)&&l[0],o=c&&"foreignobject"!==ne(c)&&g.call(c).match(/SVG/)?"svg":"html"),u="html"!==o?s(Te(o,s("<div></div>").append(e).html())):r?At.clone.call(e):e,p)for(var d in p)u.data("$"+d+"Controller",p[d].instance);return ie.$$addScopeInfo(u,t),r&&r(u,t),a&&a(t,u,u,h),r||(e=a=null),u}}function oe(e,t,r,n,i,a){for(var l,c,u,h,p,f,d,v=[],m=W(e)||e instanceof s,g=0;g<e.length;g++)l=new U,11===o&&ce(e,g,m),(u=(c=he(e[g],[],l,0===g?n:void 0,i)).length?ge(c,e[g],l,t,r,null,[],[],a):null)&&u.scope&&ie.$$addScopeClass(l.$$element),p=u&&u.terminal||!(h=e[g].childNodes)||!h.length?null:oe(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||p)&&(v.push(g,u,p),f=!0,d=d||u),a=null;return f?function(e,r,n,i){var a,o,l,c,u,h,p,f,m;if(d){var g=r.length;for(m=new Array(g),u=0;u<v.length;u+=3)p=v[u],m[p]=r[p]}else m=r;for(u=0,h=v.length;u<h;)l=m[v[u++]],a=v[u++],o=v[u++],a?(a.scope?(c=e.$new(),ie.$$addScopeInfo(s(l),c)):c=e,f=a.transcludeOnThisElement?ue(e,a.transclude,i):!a.templateOnThisElement&&i?i:!i&&t?ue(e,t):null,a(o,c,l,n,f)):o&&o(e,l.childNodes,void 0,i)}:null}function ce(e,t,r){var n,i=e[t],a=i.parentNode;if(i.nodeType===je)for(;(n=a?i.nextSibling:e[t+1])&&n.nodeType===je;)i.nodeValue=i.nodeValue+n.nodeValue,n.parentNode&&n.parentNode.removeChild(n),r&&n===e[t+1]&&e.splice(t+1,1)}function ue(e,t,r){function n(n,i,a,o,s){return n||((n=e.$new(!1,s)).$$transcluded=!0),t(n,i,{parentBoundTranscludeFn:r,transcludeControllers:a,futureParentElement:o})}var i=n.$$slots=Re();for(var a in t.$$slots)t.$$slots[a]?i[a]=ue(e,t.$$slots[a],r):i[a]=null;return n}function he(e,t,n,o,s){var l,c,u,h=e.nodeType,p=n.$attr;switch(h){case 1:ye(t,wr(c=ne(e)),"E",o,s);for(var f,d,v,m,g,S=e.attributes,w=0,y=S&&S.length;w<y;w++){var b,x=!1,k=!1,C=!1,$=!1,P=!1;d=(f=S[w]).name,m=f.value,(g=(v=wr(d.toLowerCase())).match(te))?(C="Attr"===g[1],$="Prop"===g[1],P="On"===g[1],d=d.replace(gr,"").toLowerCase().substr(4+g[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(b=v.match(re))&&xe(b[1])&&(x=d,k=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),$||P?(n[v]=m,p[v]=f.name,$?_e(e,t,v,d):Me(t,v,d)):(p[v=wr(d.toLowerCase())]=d,!C&&n.hasOwnProperty(v)||(n[v]=m,It(e,v)&&(n[v]=!0)),Ae(e,t,m,v,C),ye(t,v,"A",o,s,x,k))}if("input"===c&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!N)break;if(R(u=e.className)&&(u=u.animVal),j(u)&&""!==u)for(;l=a.exec(u);)ye(t,v=wr(l[2]),"C",o,s)&&(n[v]=ee(l[3])),u=u.substr(l.index+l[0].length);break;case je:!function(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&ie.$$addBindingClass(t),function(e,t){var i=t.parent();r||ie.$$addBindingClass(i),ie.$$addBindingInfo(i,n.expressions),e.$watch(n,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:if(!O)break;!function(e,t,r,n,a){try{var o=i.exec(e.nodeValue);if(o){var s=wr(o[1]);ye(t,s,"M",n,a)&&(r[s]=ee(o[2]))}}catch(e){}}(e,t,n,o,s)}return t.sort($e),t}function de(e,t,r){var n=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw fr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,r);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(r)&&i--),n.push(e),e=e.nextSibling}while(i>0);else n.push(e);return s(n)}function ve(e,t,r){return function(n,i,a,o,s){return i=de(i[0],t,r),e(n,i,a,o,s)}}function me(e,t,r,n,i,a){var o;return e?ie(t,r,n,i,a):function(){return o||(o=ie(t,r,n,i,a),t=r=a=null),o.apply(this,arguments)}}function ge(e,r,n,i,a,o,l,c,u){u=u||{};for(var h,p,d,v,m,g=-Number.MAX_VALUE,S=u.newScopeDirective,w=u.controllerDirectives,y=u.newIsolateScopeDirective,b=u.templateDirective,x=u.nonTlbTranscludeDirective,C=!1,P=!1,T=u.hasElementTranscludeDirective,E=n.$$element=s(r),M=o,A=i,D=!1,L=!1,V=0,I=e.length;V<I;V++){var O=(h=e[V]).$$start,N=h.$$end;if(O&&(E=de(r,O,N)),d=void 0,g>h.priority)break;if((m=h.scope)&&(h.templateUrl||(R(m)?(Pe("new/isolated scope",y||S,h,E),y=h):Pe("new/isolated scope",y,h,E)),S=S||h),p=h.name,!D&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var F,H=V+1;F=e[H++];)if(F.transclude&&!F.$$tlb||F.replace&&(F.templateUrl||F.template)){L=!0;break}D=!0}if(!h.templateUrl&&h.controller&&(w=w||Re(),Pe("'"+p+"' controller",w[p],h,E),w[p]=h),m=h.transclude)if(C=!0,h.$$tlb||(Pe("transclusion",x,h,E),x=h),"element"===m)T=!0,g=h.priority,d=E,E=n.$$element=s(ie.$$createComment(p,n[p])),r=E[0],De(a,pe(d),r),A=me(L,d,i,g,M&&M.name,{nonTlbTranscludeDirective:x});else{var j=Re();if(R(m)){d=t.document.createDocumentFragment();var z=Re(),G=Re();for(var Y in k(m,(function(e,t){var r="?"===e.charAt(0);e=r?e.substring(1):e,z[e]=t,j[t]=null,G[t]=r})),k(E.contents(),(function(e){var r=z[wr(ne(e))];r?(G[r]=!0,j[r]=j[r]||t.document.createDocumentFragment(),j[r].appendChild(e)):d.appendChild(e)})),k(G,(function(e,t){if(!e)throw fr("reqslot","Required transclusion slot `{0}` was not filled.",t)})),j)if(j[Y]){var X=s(j[Y].childNodes);j[Y]=me(L,X,i)}d=s(d.childNodes)}else d=s(dt(r)).contents();E.empty(),(A=me(L,d,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope})).$$slots=j}if(h.template)if(P=!0,Pe("template",b,h,E),b=h,m=q(h.template)?h.template(E,n):h.template,m=Q(m),h.replace){if(M=h,d=ct(m)?[]:br(Te(h.templateNamespace,ee(m))),r=d[0],1!==d.length||1!==r.nodeType)throw fr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");De(a,E,r);var K={$attr:{}},J=he(r,[],K),te=e.splice(V+1,e.length-(V+1));(y||S)&&we(J,y,S),e=e.concat(J).concat(te),ke(n,K),I=e.length}else E.html(m);if(h.templateUrl)P=!0,Pe("template",b,h,E),b=h,h.replace&&(M=h),oe=Ce(e.splice(V,e.length-V),E,n,a,C&&A,l,c,{controllerDirectives:w,newScopeDirective:S!==h&&S,newIsolateScopeDirective:y,templateDirective:b,nonTlbTranscludeDirective:x}),I=e.length;else if(h.compile)try{v=h.compile(E,n,A);var re=h.$$originalDirective||h;q(v)?ae(null,fe(re,v),O,N):v&&ae(fe(re,v.pre),fe(re,v.post),O,N)}catch(e){f(e,be(E))}h.terminal&&(oe.terminal=!0,g=Math.max(g,h.priority))}return oe.scope=S&&!0===S.scope,oe.transcludeOnThisElement=C,oe.templateOnThisElement=P,oe.transclude=A,u.hasElementTranscludeDirective=T,oe;function ae(e,t,r,n){e&&(r&&(e=ve(e,r,n)),e.require=h.require,e.directiveName=p,(y===h||h.$$isolateScope)&&(e=Ve(e,{isolateScope:!0})),l.push(e)),t&&(r&&(t=ve(t,r,n)),t.require=h.require,t.directiveName=p,(y===h||h.$$isolateScope)&&(t=Ve(t,{isolateScope:!0})),c.push(t))}function oe(e,t,i,a,o){var u,h,p,d,v,m,g,x,C,P;for(var E in r===i?(C=n,x=n.$$element):C=new U(x=s(i),n),v=t,y?d=t.$new(!0):S&&(v=t.$parent),o&&((g=function(e,t,r,n){var i;Z(e)||(n=r,r=t,t=e,e=void 0);T&&(i=m);r||(r=T?x.parent():x);if(!n)return o(e,t,i,r,L);var a=o.$$slots[n];if(a)return a(e,t,i,r,L);if(B(a))throw fr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',n,be(x))}).$$boundTransclude=o,g.isSlotFilled=function(e){return!!o.$$slots[e]}),w&&(m=function(e,t,r,n,i,a,o){var s=Re();for(var l in n){var c=n[l],u={$scope:c===o||c.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:r},h=c.controller;"@"===h&&(h=t[c.name]);var p=$(h,u,!0,c.controllerAs);s[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return s}(x,C,g,w,d,t,y)),y&&(ie.$$addScopeInfo(x,d,!0,!(b&&(b===y||b===y.$$originalDirective))),ie.$$addScopeClass(x,!0),d.$$isolateBindings=y.$$isolateBindings,(P=Be(t,C,d,d.$$isolateBindings,y)).removeWatches&&d.$on("$destroy",P.removeWatches)),m){var M=w[E],A=m[E],D=M.$$bindings.bindToController;A.instance=A(),x.data("$"+M.name+"Controller",A.instance),A.bindingInfo=Be(v,C,A.instance,D,M)}for(k(w,(function(e,t){var r=e.require;e.bindToController&&!W(r)&&R(r)&&_(m[t].instance,Se(t,r,x,m))})),k(m,(function(e){var t=e.instance;if(q(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){f(e)}if(q(t.$onInit))try{t.$onInit()}catch(e){f(e)}q(t.$doCheck)&&(v.$watch((function(){t.$doCheck()})),t.$doCheck()),q(t.$onDestroy)&&v.$on("$destroy",(function(){t.$onDestroy()}))})),u=0,h=l.length;u<h;u++)Ie(p=l[u],p.isolateScope?d:t,x,C,p.require&&Se(p.directiveName,p.require,x,m),g);var L=t;for(y&&(y.template||null===y.templateUrl)&&(L=d),e&&e(L,i.childNodes,void 0,o),u=c.length-1;u>=0;u--)Ie(p=c[u],p.isolateScope?d:t,x,C,p.require&&Se(p.directiveName,p.require,x,m),g);k(m,(function(e){var t=e.instance;q(t.$postLink)&&t.$postLink()}))}}function Se(e,t,r,n){var i;if(j(t)){var a=t.match(c),o=t.substring(a[0].length),s=a[1]||a[3],l="?"===a[2];if("^^"===s?r=r.parent():i=(i=n&&n[o])&&i.instance,!i){var u="$"+o+"Controller";i="^^"===s&&r[0]&&9===r[0].nodeType?null:s?r.inheritedData(u):r.data(u)}if(!i&&!l)throw fr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,e)}else if(W(t)){i=[];for(var h=0,p=t.length;h<p;h++)i[h]=Se(e,t[h],r,n)}else R(t)&&(i={},k(t,(function(t,a){i[a]=Se(e,t,r,n)})));return i||null}function we(e,t,r){for(var n=0,i=e.length;n<i;n++)e[n]=L(e[n],{$$isolateScope:t,$$newScope:r})}function ye(t,r,i,a,o,s,l){if(r===o)return null;var c=null;if(n.hasOwnProperty(r))for(var u,h=e.get(r+"Directive"),p=0,f=h.length;p<f;p++)if(u=h[p],(B(a)||a>u.priority)&&-1!==u.restrict.indexOf(i)){if(s&&(u=L(u,{$$start:s,$$end:l})),!u.$$bindings){var d=u.$$bindings=v(u,u.name);R(d.isolateScope)&&(u.$$isolateBindings=d.isolateScope)}t.push(u),c=u}return c}function xe(t){if(n.hasOwnProperty(t))for(var r=e.get(t+"Directive"),i=0,a=r.length;i<a;i++)if(r[i].multiElement)return!0;return!1}function ke(e,t){var r=t.$attr,n=e.$attr;k(e,(function(n,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==n&&(n.length?n+=("style"===i?";":" ")+t[i]:n=t[i]),e.$set(i,n,!0,r[i]))})),k(t,(function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(n[i]=r[i]))}))}function Ce(e,t,r,n,i,a,o,l){var c,u,h=[],p=t[0],v=e.shift(),m=L(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=q(v.templateUrl)?v.templateUrl(t,r):v.templateUrl,S=v.templateNamespace;return t.empty(),d(g).then((function(f){var d,w,y,b;if(f=Q(f),v.replace){if(y=ct(f)?[]:br(Te(S,ee(f))),d=y[0],1!==y.length||1!==d.nodeType)throw fr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);w={$attr:{}},De(n,t,d);var x=he(d,[],w);R(v.scope)&&we(x,!0),e=x.concat(e),ke(r,w)}else d=p,t.html(f);for(e.unshift(m),c=ge(e,d,r,i,t,v,a,o,l),k(n,(function(e,r){e===d&&(n[r]=t[0])})),u=oe(t[0].childNodes,i);h.length;){var C=h.shift(),$=h.shift(),P=h.shift(),T=h.shift(),E=t[0];if(!C.$$destroyed){if($!==p){var _=$.className;l.hasElementTranscludeDirective&&v.replace||(E=dt(d)),De(P,s($),E),Y(s(E),_)}b=c.transcludeOnThisElement?ue(C,c.transclude,T):T,c(u,C,E,n,b)}}h=null})).catch((function(e){G(e)&&f(e)})),function(e,t,r,n,i){var a=i;t.$$destroyed||(h?h.push(t,r,n,a):(c.transcludeOnThisElement&&(a=ue(t,c.transclude,i)),c(u,t,r,n,a)))}}function $e(e,t){var r=t.priority-e.priority;return 0!==r?r:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Pe(e,t,r,n){function i(e){return e?" (module: "+e+")":""}if(t)throw fr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),r.name,i(r.$$moduleName),e,be(n))}function Te(e,r){switch(e=p(e||"html")){case"svg":case"math":var n=t.document.createElement("div");return n.innerHTML="<"+e+">"+r+"</"+e+">",n.childNodes[0].childNodes;default:return r}}function Ee(e){return z(T.valueOf(e),"ng-prop-srcset")}function _e(e,t,r,n){if(u.test(n))throw fr("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=ne(e),a=function(e,t){var r=t.toLowerCase();return x[e+"|"+r]||x["*|"+r]}(i,n),o=I;"srcset"!==n||"img"!==i&&"source"!==i?a&&(o=T.getTrusted.bind(T,a)):o=Ee,t.push({priority:100,compile:function(e,t){var i=C(t[r]),a=C(t[r],(function(e){return T.valueOf(e)}));return{pre:function(e,t){function r(){var r=i(e);t[0][n]=o(r)}r(),e.$watch(a,r)}}}})}function Me(e,t,r){e.push(Da(C,P,f,t,r,!1))}function Ae(e,t,n,i,a){var o=ne(e),s=function(e,t){return"srcdoc"===t?T.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?T.RESOURCE_URL:T.MEDIA_URL:"xlinkHref"===t?"image"===e?T.MEDIA_URL:"a"===e?T.URL:T.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?T.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:T.URL}(o,i),c=!a,h=l[i]||a,p=r(n,c,s,h);if(p){if("multiple"===i&&"select"===o)throw fr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",be(e));if(u.test(i))throw fr("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,a){var o=a.$$observers||(a.$$observers=Re()),l=a[i];l!==n&&(p=l&&r(l,!0,s,h),n=l),p&&(a[i]=p(e),(o[i]||(o[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||e).$watch(p,(function(e,t){"class"===i&&e!==t?a.$updateClass(e,t):a.$set(i,e)})))}}}})}}function De(e,r,n){var i,a,o=r[0],l=r.length,c=o.parentNode;if(e)for(i=0,a=e.length;i<a;i++)if(e[i]===o){e[i++]=n;for(var u=i,h=u+l-1,p=e.length;u<p;u++,h++)h<p?e[u]=e[h]:delete e[u];e.length-=l-1,e.context===o&&(e.context=n);break}c&&c.replaceChild(n,o);var f=t.document.createDocumentFragment();for(i=0;i<l;i++)f.appendChild(r[i]);for(s.hasData(o)&&(s.data(n,s.data(o)),s(o).off("$destroy")),s.cleanData(f.querySelectorAll("*")),i=1;i<l;i++)delete r[i];r[0]=n,r.length=1}function Ve(e,t){return _((function(){return e.apply(null,arguments)}),e,t)}function Ie(e,t,r,n,i,a){try{e(t,r,n,i,a)}catch(e){f(e,be(r))}}function Ne(e,t){if(S)throw fr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Be(e,t,n,i,a){var o,s=[],l={};function c(t,r,i){q(n.$onChanges)&&!se(r,i)&&(M||(e.$$postDigest(H),M=[]),o||(o={},M.push(u)),o[t]&&(i=o[t].previousValue),o[t]=new mr(i,r))}function u(){n.$onChanges(o),o=void 0}return k(i,(function(i,o){var u,p,f,d,v,m=i.attrName,g=i.optional;switch(i.mode){case"@":g||h.call(t,m)||(Ne(m,a.name),n[o]=t[m]=void 0),v=t.$observe(m,(function(e){if(j(e)||K(e)){var t=n[o];c(o,e,t),n[o]=e}})),t.$$observers[m].$$scope=e,j(u=t[m])?n[o]=r(u)(e):K(u)&&(n[o]=u),l[o]=new mr(dr,n[o]),s.push(v);break;case"=":if(!h.call(t,m)){if(g)break;Ne(m,a.name),t[m]=void 0}if(g&&!t[m])break;p=C(t[m]),d=p.literal?le:se,f=p.assign||function(){throw u=n[o]=p(e),fr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,a.name)},u=n[o]=p(e);var S=function(t){return d(t,n[o])||(d(t,u)?f(e,t=n[o]):n[o]=t),u=t};S.$stateful=!0,v=i.collection?e.$watchCollection(t[m],S):e.$watch(C(t[m],S),null,p.literal),s.push(v);break;case"<":if(!h.call(t,m)){if(g)break;Ne(m,a.name),t[m]=void 0}if(g&&!t[m])break;var w=(p=C(t[m])).literal,y=n[o]=p(e);l[o]=new mr(dr,n[o]),v=e[i.collection?"$watchCollection":"$watch"](p,(function(e,t){if(t===e){if(t===y||w&&le(t,y))return;t=y}c(o,e,t),n[o]=e})),s.push(v);break;case"&":if(g||h.call(t,m)||Ne(m,a.name),(p=t.hasOwnProperty(m)?C(t[m]):V)===V&&g)break;n[o]=function(t){return p(e,t)}}})),{initialChanges:l,removeWatches:s.length&&function(){for(var e=0,t=s.length;e<t;++e)s[e]()}}}}]}function mr(e,t){this.previousValue=e,this.currentValue=t}vr.$inject=["$provide","$$sanitizeUriProvider"],mr.prototype.isFirstChange=function(){return this.previousValue===dr};var gr=/^((?:x|data)[:\-_])/i,Sr=/[:\-_]+(.)/g;function wr(e){return e.replace(gr,"").replace(Sr,(function(e,t,r){return r?t.toUpperCase():t}))}function yr(e,t){var r="",n=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<n.length;a++){for(var o=n[a],s=0;s<i.length;s++)if(o===i[s])continue e;r+=(r.length>0?" ":"")+o}return r}function br(e){var t=(e=s(e)).length;if(t<=1)return e;for(;t--;){var r=e[t];(8===r.nodeType||r.nodeType===je&&""===r.nodeValue.trim())&&v.call(e,t,1)}return e}var xr=a("$controller"),kr=/^(\S+)(\s+as\s+([\w$]+))?$/;function Cr(e,t){if(t&&j(t))return t;if(j(e)){var r=kr.exec(e);if(r)return r[3]}}function $r(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,r){Be(t,"controller"),R(t)?_(e,t):e[t]=r},this.$get=["$injector",function(t){return function(n,i,a,o){var s,l,c,u;if(a=!0===a,o&&j(o)&&(u=o),j(n)){if(!(l=n.match(kr)))throw xr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);if(c=l[1],u=u||l[3],!(n=e.hasOwnProperty(c)?e[c]:function(e,t,r){if(!t)return e;for(var n,i=t.split("."),a=e,o=i.length,s=0;s<o;s++)n=i[s],e&&(e=(a=e)[n]);return!r&&q(e)?fe(a,e):e}(i.$scope,c,!0)))throw xr("ctrlreg","The controller with the name '{0}' is not registered.",c);Ne(n,c,!0)}if(a){var h=(W(n)?n[n.length-1]:n).prototype;return s=Object.create(h||null),u&&r(i,u,s,c||n.name),_((function(){var e=t.invoke(n,s,i,c);return e!==s&&(R(e)||q(e))&&(s=e,u&&r(i,u,s,c||n.name)),s}),{instance:s,identifier:u})}return s=t.instantiate(n,i,c),u&&r(i,u,s,c||n.name),s};function r(e,t,r,n){if(!e||!R(e.$scope))throw a("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",n,t);e.$scope[t]=r}}]}function Pr(){this.$get=["$window",function(e){return s(e.document)}]}function Tr(){this.$get=["$document","$rootScope",function(e,t){var r=e[0],n=r&&r.hidden;function i(){n=r.hidden}return e.on("visibilitychange",i),t.$on("$destroy",(function(){e.off("visibilitychange",i)})),function(){return n}}]}function Er(){this.$get=["$log",function(e){return function(t,r){e.error.apply(e,arguments)}}]}var _r=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof s&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Mr={"Content-Type":"application/json;charset=utf-8"},Ar=/^\[|^\{(?!\{)/,Dr={"[":/]$/,"{":/}$/},Lr=/^\)]\}',?\n/,Vr=a("$http");function Ir(e){return R(e)?U(e)?e.toISOString():ve(e):e}function Or(){this.$get=function(){return function(e){if(!e)return"";var t=[];return C(e,(function(e,r){null===e||B(e)||q(e)||(W(e)?k(e,(function(e){t.push($e(r)+"="+$e(Ir(e)))})):t.push($e(r)+"="+$e(Ir(e))))})),t.join("&")}}}function Nr(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(r,n,i){W(r)?k(r,(function(t,r){e(t,n+"["+(R(t)?r:"")+"]")})):R(r)&&!U(r)?C(r,(function(t,r){e(t,n+(i?"":"[")+r+(i?"":"]"))})):(q(r)&&(r=r()),t.push($e(n)+"="+(null==r?"":$e(Ir(r)))))}(e,"",!0),t.join("&")}}}function Br(e,t){if(j(e)){var r=e.replace(Lr,"").trim();if(r){var n=t("Content-Type"),i=n&&0===n.indexOf("application/json");if(i||(o=(a=r).match(Ar))&&Dr[o[0]].test(a))try{e=me(r)}catch(t){if(!i)return e;throw Vr("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var a,o;return e}function Fr(e){var t,r=Re();function n(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}return j(e)?k(e.split("\n"),(function(e){t=e.indexOf(":"),n(p(ee(e.substr(0,t))),ee(e.substr(t+1)))})):R(e)&&k(e,(function(e,t){n(p(t),ee(e))})),r}function Rr(e){var t;return function(r){if(t||(t=Fr(e)),r){var n=t[p(r)];return void 0===n&&(n=null),n}return t}}function Hr(e,t,r,n){return q(n)?n(e,t,r):(k(n,(function(n){e=n(e,t,r)})),e)}function jr(e){return 200<=e&&e<300}function zr(){var e=this.defaults={transformResponse:[Br],transformRequest:[function(e){return!R(e)||(t=e,"[object File]"===g.call(t))||function(e){return"[object Blob]"===g.call(e)}(e)||function(e){return"[object FormData]"===g.call(e)}(e)?e:ve(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ze(Mr),put:ze(Mr),patch:ze(Mr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return F(e)?(t=!!e,this):t};var r=this.interceptors=[],n=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,o,s,l,c,u,h,d){var v=l("$http");e.paramSerializer=j(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var m=[];k(r,(function(e){m.unshift(j(e)?h.get(e):h.invoke(e))}));var g,S=(g=[si].concat(n.map(ci)),function(e){var t=ci(e);return g.some(ui.bind(null,t))});function w(r){if(!R(r))throw a("$http")("badreq","Http request configuration must be an object.  Received: {0}",r);if(!j(d.valueOf(r.url)))throw a("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",r.url);var n=_({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},r);n.headers=function(t){var r,n,i,a=e.headers,o=_({},t.headers);a=_({},a.common,a[p(t.method)]);e:for(r in a){for(i in n=p(r),o)if(p(i)===n)continue e;o[r]=a[r]}return function(e,t){var r,n={};return k(e,(function(e,i){q(e)?null!=(r=e(t))&&(n[i]=r):n[i]=e})),n}(o,ze(t))}(r),n.method=f(n.method),n.paramSerializer=j(n.paramSerializer)?h.get(n.paramSerializer):n.paramSerializer,i.$$incOutstandingRequestCount("$http");var l=[],g=[],y=u.resolve(n);return k(m,(function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&g.push(e.response,e.responseError)})),y=b(y,l),y=(y=b(y=y.then((function(r){var n=r.headers,i=Hr(r.data,Rr(n),void 0,r.transformRequest);B(i)&&k(n,(function(e,t){"content-type"===p(t)&&delete n[t]}));B(r.withCredentials)&&!B(e.withCredentials)&&(r.withCredentials=e.withCredentials);return function(r,n){var i,a,l=u.defer(),h=l.promise,f=r.headers,m="jsonp"===p(r.method),g=r.url;m?g=d.getTrustedResourceUrl(g):j(g)||(g=d.valueOf(g));g=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(g,r.paramSerializer(r.params)),m&&(g=function(e,t){var r=e.split("?");if(r.length>2)throw Vr("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return k(ke(r[1]),(function(r,n){if("JSON_CALLBACK"===r)throw Vr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(n===t)throw Vr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(g,r.jsonpCallbackParam));w.pendingRequests.push(r),h.then($,$),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(i=R(r.cache)?r.cache:R(e.cache)?e.cache:v);i&&(F(a=i.get(g))?J(a)?a.then(C,C):W(a)?x(a[1],a[0],ze(a[2]),a[3],a[4]):x(a,200,{},"OK","complete"):i.put(g,h));if(B(a)){var y=S(r.url)?s()[r.xsrfCookieName||e.xsrfCookieName]:void 0;y&&(f[r.xsrfHeaderName||e.xsrfHeaderName]=y),o(r.method,g,n,(function(e,r,n,a,o){i&&(jr(e)?i.put(g,[e,r,Fr(n),a,o]):i.remove(g));function s(){x(r,e,n,a,o)}t?c.$applyAsync(s):(s(),c.$$phase||c.$apply())}),f,r.timeout,r.withCredentials,r.responseType,b(r.eventHandlers),b(r.uploadEventHandlers))}return h;function b(e){if(e){var r={};return k(e,(function(e,n){r[n]=function(r){function n(){e(r)}t?c.$applyAsync(n):c.$$phase?n():c.$apply(n)}})),r}}function x(e,t,n,i,a){(jr(t=t>=-1?t:0)?l.resolve:l.reject)({data:e,status:t,headers:Rr(n),config:r,statusText:i,xhrStatus:a})}function C(e){x(e.data,e.status,ze(e.headers()),e.statusText,e.xhrStatus)}function $(){var e=w.pendingRequests.indexOf(r);-1!==e&&w.pendingRequests.splice(e,1)}}(r,i).then(x,x)})),g)).finally((function(){i.$$completeOutstandingRequest(V,"$http")}));function b(e,t){for(var r=0,n=t.length;r<n;){var i=t[r++],a=t[r++];e=e.then(i,a)}return t.length=0,e}function x(e){var t=_({},e);return t.data=Hr(e.data,e.headers,e.status,n.transformResponse),jr(e.status)?t:u.reject(t)}}return w.pendingRequests=[],function(e){k(arguments,(function(e){w[e]=function(t,r){return w(_({},r||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){k(arguments,(function(e){w[e]=function(t,r,n){return w(_({},n||{},{method:e,url:t,data:r}))}}))}("post","put","patch"),w.defaults=e,w}]}function Ur(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Wr(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,r,n){return function(e,t,r,n,i){return function(a,o,s,l,c,u,h,f,d,v){if(o=o||e.url(),"jsonp"===p(a))var m=n.createCallback(o),g=function(e,t,r){e=e.replace("JSON_CALLBACK",t);var a=i.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o),a.removeEventListener("error",o),i.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||n.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),r&&r(s,l)},a.addEventListener("load",o),a.addEventListener("error",o),i.body.appendChild(a),o}(o,m,(function(e,t){var r=200===e&&n.getResponse(m);x(l,e,r,"",t,"complete"),n.removeCallback(m)}));else{var S=t(a,o),w=!1;S.open(a,o,!0),k(c,(function(e,t){F(e)&&S.setRequestHeader(t,e)})),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,r=1223===S.status?204:S.status;0===r&&(r=t?200:"file"===ci(o).protocol?404:0),x(l,r,t,S.getAllResponseHeaders(),e,"complete")};if(S.onerror=function(){x(l,-1,null,null,"","error")},S.ontimeout=function(){x(l,-1,null,null,"","timeout")},S.onabort=function(){x(l,-1,null,null,"",w?"timeout":"abort")},k(d,(function(e,t){S.addEventListener(t,e)})),k(v,(function(e,t){S.upload.addEventListener(t,e)})),h&&(S.withCredentials=!0),f)try{S.responseType=f}catch(e){if("json"!==f)throw e}S.send(B(s)?null:s)}if(u>0)var y=r((function(){b("timeout")}),u);else J(u)&&u.then((function(){b(F(u.$$timeoutId)?"timeout":"abort")}));function b(e){w="timeout"===e,g&&g(),S&&S.abort()}function x(e,t,n,i,a,o){F(y)&&r.cancel(y),g=S=null,e(t,n,i,a,o)}}}(e,n,e.defer,t,r[0])}]}var Gr=y.$interpolateMinErr=a("$interpolate");function qr(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(r,n,i){var a=e.length,o=t.length,s=new RegExp(e.replace(/./g,c),"g"),l=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function u(r){return r.replace(s,e).replace(l,t)}function h(e,t,r,n){var i=e.$watch((function(e){return i(),n(e)}),t,r);return i}function p(s,l,c,p){var f=c===i.URL||c===i.MEDIA_URL;if(!s.length||-1===s.indexOf(e)){if(l)return;var d=u(s);f&&(d=i.getTrusted(c,d));var v=O(d);return v.exp=s,v.expressions=[],v.$$watchDelegate=h,v}p=!!p;for(var m,g,S,w,y,b=0,x=[],k=s.length,C=[],$=[];b<k;){if(-1===(m=s.indexOf(e,b))||-1===(g=s.indexOf(t,m+a))){b!==k&&C.push(u(s.substring(b)));break}b!==m&&C.push(u(s.substring(b,m))),w=s.substring(m+a,g),x.push(w),b=g+o,$.push(C.length),C.push("")}y=1===C.length&&1===$.length;var P=f&&y?void 0:function(e){try{return e=c&&!f?i.getTrusted(c,e):i.valueOf(e),p&&!F(e)?e:He(e)}catch(e){n(Gr.interr(s,e))}};if(S=x.map((function(e){return r(e,P)})),!l||x.length){var T=function(e){for(var t=0,r=x.length;t<r;t++){if(p&&B(e[t]))return;C[$[t]]=e[t]}return f?i.getTrusted(c,y?C[0]:C.join("")):(c&&C.length>1&&Gr.throwNoconcat(s),C.join(""))};return _((function(e){var t=0,r=x.length,i=new Array(r);try{for(;t<r;t++)i[t]=S[t](e);return T(i)}catch(e){n(Gr.interr(s,e))}}),{exp:s,expressions:x,$$watchDelegate:function(e,t){var r;return e.$watchGroup(S,(function(n,i){var a=T(n);t.call(this,a,n!==i?r:a,e),r=a}))}})}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}Gr.throwNoconcat=function(e){throw Gr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Gr.interr=function(e,t){return Gr("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Yr=a("$interval");function Xr(){this.$get=["$$intervalFactory","$window",function(e,t){var r={},n=function(e){t.clearInterval(e),delete r[e]},i=e((function(e,n,i){var a=t.setInterval(e,n);return r[a]=i,a}),n);return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Yr("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!r.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,i=r[t];return Rn(i.promise),i.reject("canceled"),n(t),!0},i}]}function Zr(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,r,n){return function(i,a){return function(o,s,l,c){var u=arguments.length>4,h=u?pe(arguments,4):[],p=0,f=F(c)&&!c,d=(f?r:t).defer(),v=d.promise;function m(){u?o.apply(null,h):o(p)}function g(){f?e.defer(m):n.$evalAsync(m),d.notify(p++),l>0&&p>=l&&(d.resolve(p),a(v.$$intervalId)),f||n.$apply()}return l=F(l)?l:0,v.$$intervalId=i(g,s,d,f),v}}}]}var Kr=function(){this.$get=function(){var e=y.callbacks,t={};return{createCallback:function(r){var n="_"+(e.$$counter++).toString(36),i="angular.callbacks."+n,a=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(n);return t[i]=e[n]=a,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(r){var n=t[r];delete e[n.id],delete t[r]}}}},Jr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Qr={http:80,https:443,ftp:21},en=a("$location");function tn(e,t,r){var n,i=(n=[],k(t,(function(e,t){W(e)?k(e,(function(e){n.push($e(t,!0)+(!0===e?"":"="+$e(e,!0)))})):n.push($e(t,!0)+(!0===e?"":"="+$e(e,!0)))})),n.length?n.join("&"):""),a=r?"#"+Ce(r):"";return function(e){for(var t=e.split("/"),r=t.length;r--;)t[r]=Ce(t[r].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+a}function rn(e,t){var r=ci(e);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=A(r.port)||Qr[r.protocol]||null}var nn=/^\s*[\\/]{2,}/;function an(e,t,r){if(nn.test(e))throw en("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=ci(e),a=n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var r=e.split("/"),n=r.length;n--;)r[n]=decodeURIComponent(r[n]),t&&(r[n]=r[n].replace(/\//g,"%2F"));return r.join("/")}(a,r),t.$$search=ke(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function on(e,t){return e.slice(0,t.length)===t}function sn(e,t){if(on(t,e))return t.substr(e.length)}function ln(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function cn(e,t,r){this.$$html5=!0,r=r||"",rn(e,this),this.$$parse=function(e){var r=sn(t,e);if(!j(r))throw en("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);an(r,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(n,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(F(a=sn(e,n))?(o=a,s=r&&F(a=sn(r,a))?t+(sn("/",a)||a):e+o):F(a=sn(t,n))?s=t+a:t===n+"/"&&(s=t),s&&this.$$parse(s),!!s);var a,o,s}}function un(e,t,r){rn(e,this),this.$$parse=function(n){var i,a=sn(e,n)||sn(t,n);B(a)||"#"!==a.charAt(0)?this.$$html5?i=a:(i="",B(a)&&(e=n,this.replace())):B(i=sn(r,a))&&(i=a),an(i,this,!1),this.$$path=function(e,t,r){var n,i=/^\/[A-Z]:(\/.*)/;on(t,r)&&(t=t.replace(r,""));if(i.exec(t))return e;return(n=i.exec(e))?n[1]:e}(this.$$path,i,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?r+t:"")},this.$$parseLinkUrl=function(t,r){return ln(e)===ln(t)&&(this.$$parse(t),!0)}}function hn(e,t,r){this.$$html5=!0,un.apply(this,arguments),this.$$parseLinkUrl=function(n,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===ln(n)?a=n:(o=sn(t,n))?a=e+r+o:t===n+"/"&&(a=t),a&&this.$$parse(a),!!a);var a,o},this.$$normalizeUrl=function(t){return e+r+t}}var pn={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=tn(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:fn("$$absUrl"),url:function(e){if(B(e))return this.$$url;var t=Jr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:fn("$$protocol"),host:fn("$$host"),port:fn("$$port"),path:dn("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(j(e)||z(e))e=e.toString(),this.$$search=ke(e);else{if(!R(e))throw en("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");k(e=oe(e,{}),(function(t,r){null==t&&delete e[r]})),this.$$search=e}break;default:B(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:dn("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function fn(e){return function(){return this[e]}}function dn(e,t){return function(r){return B(r)?this[e]:(this[e]=t(r),this.$$compose(),this)}}function vn(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return F(t)?(e=t,this):e},this.html5Mode=function(e){return K(e)?(t.enabled=e,this):R(e)?(K(e.enabled)&&(t.enabled=e.enabled),K(e.requireBase)&&(t.requireBase=e.requireBase),(K(e.rewriteLinks)||j(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(r,n,i,a,o){var l,c,u,h,p=n.baseHref(),f=n.url();if(t.enabled){if(!p&&t.requireBase)throw en("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(h=f).substring(0,h.indexOf("/",h.indexOf("//")+2))+(p||"/"),c=i.history?cn:hn}else u=ln(f),c=un;var d=function(e){return e.substr(0,ln(e).lastIndexOf("/")+1)}(u);(l=new c(u,d,"#"+e)).$$parseLinkUrl(f,f),l.$$state=n.state();var v=/^\s*(javascript|mailto):/i;function m(e,t,r){var i=l.url(),a=l.$$state;try{n.url(e,t,r),l.$$state=n.state()}catch(e){throw l.url(i),l.$$state=a,e}}a.on("click",(function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var o=s(e.target);"a"!==ne(o[0]);)if(o[0]===a[0]||!(o=o.parent())[0])return;if(!j(i)||!B(o.attr(i))){var c=o.prop("href"),u=o.attr("href")||o.attr("xlink:href");R(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=ci(c.animVal).href),v.test(c)||!c||o.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(e.preventDefault(),l.absUrl()!==n.url()&&r.$apply())}}})),l.absUrl()!==f&&n.url(l.absUrl(),!0);var g=!0;return n.onUrlChange((function(e,t){on(e,d)?(r.$evalAsync((function(){var n,i=l.absUrl(),a=l.$$state;l.$$parse(e),l.$$state=t,n=r.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,l.absUrl()===e&&(n?(l.$$parse(i),l.$$state=a,m(i,!1,a)):(g=!1,S(i,a)))})),r.$$phase||r.$digest()):o.location.href=e})),r.$watch((function(){if(g||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=n.url(),t=l.absUrl(),a=n.state(),o=l.$$replace,s=!((c=e)===(u=t)||ci(c).href===ci(u).href)||l.$$html5&&i.history&&a!==l.$$state;(g||s)&&(g=!1,r.$evalAsync((function(){var t=l.absUrl(),n=r.$broadcast("$locationChangeStart",t,e,l.$$state,a).defaultPrevented;l.absUrl()===t&&(n?(l.$$parse(e),l.$$state=a):(s&&m(t,o,a===l.$$state?null:l.$$state),S(e,a)))})))}var c,u;l.$$replace=!1})),l;function S(e,t){r.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function mn(){var e=!0,t=this;this.debugEnabled=function(t){return F(t)?(e=t,this):e},this.$get=["$window",function(r){var n,i=o||/\bEdge\//.test(r.navigator&&r.navigator.userAgent);return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:(n=s("debug"),function(){e&&n.apply(t,arguments)})};function a(e){return G(e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function s(e){var t=r.console||{},n=t[e]||t.log||V;return function(){var e=[];return k(arguments,(function(t){e.push(a(t))})),Function.prototype.apply.call(n,t,e)}}}]}k([hn,un,cn],(function(e){e.prototype=Object.create(pn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==cn||!this.$$html5)throw en("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=B(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var gn=a("$parse"),Sn={}.constructor.prototype.valueOf;function wn(e){return e+""}var yn=Re();k("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){yn[e]=!0}));var bn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},xn=function(e){this.options=e};xn.prototype={constructor:xn,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var r=t+this.peek(),n=r+this.peek(2),i=yn[t],a=yn[r],o=yn[n];if(i||a||o){var s=o?n:a?r:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var r=e.charCodeAt(0),n=t.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,r){r=r||this.index;var n=F(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,r)+"]":" "+r;throw gn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var r=p(this.text.charAt(this.index));if("."===r||this.isNumber(r))e+=r;else{var n=this.peek();if("e"===r&&this.isExpOperator(n))e+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&"e"===e.charAt(e.length-1))e+=r;else{if(!this.isExpOperator(r)||n&&this.isNumber(n)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var r="",n=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{r+=bn[a]||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:r});r+=a}this.index++}this.throwError("Unterminated quote",t)}};var kn=function(e,t){this.lexer=e,this.options=t};function Cn(e,t){return void 0!==e?e:t}function $n(e,t){return void 0===e?t:void 0===t?e:e+t}kn.Program="Program",kn.ExpressionStatement="ExpressionStatement",kn.AssignmentExpression="AssignmentExpression",kn.ConditionalExpression="ConditionalExpression",kn.LogicalExpression="LogicalExpression",kn.BinaryExpression="BinaryExpression",kn.UnaryExpression="UnaryExpression",kn.CallExpression="CallExpression",kn.MemberExpression="MemberExpression",kn.Identifier="Identifier",kn.Literal="Literal",kn.ArrayExpression="ArrayExpression",kn.Property="Property",kn.ObjectExpression="ObjectExpression",kn.ThisExpression="ThisExpression",kn.LocalsExpression="LocalsExpression",kn.NGValueParameter="NGValueParameter",kn.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:kn.Program,body:e}},expressionStatement:function(){return{type:kn.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!En(e))throw gn("lval","Trying to assign a value to a non l-value");e={type:kn.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,r=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:kn.ConditionalExpression,test:r,alternate:e,consequent:t}):r},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:kn.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:kn.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:kn.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:kn.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:kn.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:kn.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:kn.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=oe(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:kn.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:kn.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:kn.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:kn.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],r={type:kn.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return r},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:kn.Identifier,name:e.text}},constant:function(){return{type:kn.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:kn.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:kn.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:kn.ObjectExpression,properties:t}},throwError:function(e,t){throw gn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw gn("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw gn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,r,n){return this.peekAhead(0,e,t,r,n)},peekAhead:function(e,t,r,n,i){if(this.tokens.length>e){var a=this.tokens[e],o=a.text;if(o===t||o===r||o===n||o===i||!t&&!r&&!n&&!i)return a}return!1},expect:function(e,t,r,n){var i=this.peek(e,t,r,n);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:kn.ThisExpression},$locals:{type:kn.LocalsExpression}}};function Pn(e,t,r){var n,i,a,o=e.isPure=function(e,t){switch(e.type){case kn.MemberExpression:if(e.computed)return!1;break;case kn.UnaryExpression:return 1;case kn.BinaryExpression:return"+"!==e.operator&&1;case kn.CallExpression:return!1}return void 0===t?2:t}(e,r);switch(e.type){case kn.Program:n=!0,k(e.body,(function(e){Pn(e.expression,t,o),n=n&&e.expression.constant})),e.constant=n;break;case kn.Literal:e.constant=!0,e.toWatch=[];break;case kn.UnaryExpression:Pn(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case kn.BinaryExpression:Pn(e.left,t,o),Pn(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case kn.LogicalExpression:Pn(e.left,t,o),Pn(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case kn.ConditionalExpression:Pn(e.test,t,o),Pn(e.alternate,t,o),Pn(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case kn.Identifier:e.constant=!1,e.toWatch=[e];break;case kn.MemberExpression:Pn(e.object,t,o),e.computed&&Pn(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case kn.CallExpression:a=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),n=a,i=[],k(e.arguments,(function(e){Pn(e,t,o),n=n&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=n,e.toWatch=a?i:[e];break;case kn.AssignmentExpression:Pn(e.left,t,o),Pn(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case kn.ArrayExpression:n=!0,i=[],k(e.elements,(function(e){Pn(e,t,o),n=n&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=n,e.toWatch=i;break;case kn.ObjectExpression:n=!0,i=[],k(e.properties,(function(e){Pn(e.value,t,o),n=n&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(Pn(e.key,t,!1),n=n&&e.key.constant,i.push.apply(i,e.key.toWatch))})),e.constant=n,e.toWatch=i;break;case kn.ThisExpression:case kn.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Tn(e){if(1===e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length||r[0]!==t?r:void 0}}function En(e){return e.type===kn.Identifier||e.type===kn.MemberExpression}function _n(e){if(1===e.body.length&&En(e.body[0].expression))return{type:kn.AssignmentExpression,left:e.body[0].expression,right:{type:kn.NGValueParameter},operator:"="}}function Mn(e){this.$filter=e}function An(e){this.$filter=e}function Dn(e,t,r){this.ast=new kn(e,r),this.astCompiler=r.csp?new An(t):new Mn(t)}function Ln(e){return q(e.valueOf)?e.valueOf():Sn.call(e)}function Vn(){var e,t,r=Re(),n={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){n[e]=t},this.setIdentifierFns=function(r,n){return e=r,t=n,this},this.$get=["$filter",function(i){var a={csp:ce().noUnsafeEval,literals:oe(n),isIdentifierStart:q(e)&&e,isIdentifierContinue:q(t)&&t};return o.$$getAst=function(e){return new Dn(new xn(a),i,a).getAst(e).ast},o;function o(e,t){var n,o;switch(typeof e){case"string":if(e=e.trim(),!(n=r[o=e]))n=new Dn(new xn(a),i,a).parse(e),r[o]=p(n);return f(n,t);case"function":return f(e,t);default:return f(V,t)}}function s(e,t,r){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Ln(e))&&!r)&&(e===t||e!=e&&t!=t)}function l(e,t,r,n,i){var a,o=n.inputs;if(1===o.length){var l=s;return o=o[0],e.$watch((function(e){var t=o(e);return s(t,l,o.isPure)||(a=n(e,void 0,void 0,[t]),l=t&&Ln(t)),a}),t,r,i)}for(var c=[],u=[],h=0,p=o.length;h<p;h++)c[h]=s,u[h]=null;return e.$watch((function(e){for(var t=!1,r=0,i=o.length;r<i;r++){var l=o[r](e);(t||(t=!s(l,c[r],o[r].isPure)))&&(u[r]=l,c[r]=l&&Ln(l))}return t&&(a=n(e,void 0,void 0,u)),a}),t,r,i)}function c(e,t,r,n,i){var a,o,s=n.literal?u:F,l=n.$$intercepted||n,c=n.$$interceptor||I,h=n.inputs&&!l.inputs;return d.literal=n.literal,d.constant=n.constant,d.inputs=n.inputs,p(d),a=e.$watch(d,t,r,i);function f(){s(o)&&a()}function d(e,t,r,n){return o=h&&n?n[0]:l(e,t,r,n),s(o)&&e.$$postDigest(f),c(o)}}function u(e){var t=!0;return k(e,(function(e){F(e)||(t=!1)})),t}function h(e,t,r,n){var i=e.$watch((function(e){return i(),n(e)}),t,r);return i}function p(e){return e.constant?e.$$watchDelegate=h:e.oneTime?e.$$watchDelegate=c:e.inputs&&(e.$$watchDelegate=l),e}function f(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function r(r){return t(e(r))}return r.$stateful=e.$stateful||t.$stateful,r.$$pure=e.$$pure&&t.$$pure,r}(e.$$interceptor,t),e=e.$$intercepted);var r=!1,n=function(n,i,a,o){var s=r&&o?o[0]:e(n,i,a,o);return t(s)};return n.$$intercepted=e,n.$$interceptor=t,n.literal=e.literal,n.oneTime=e.oneTime,n.constant=e.constant,t.$stateful||(r=!e.inputs,n.inputs=e.inputs?e.inputs:[e],t.$$pure||(n.inputs=n.inputs.map((function(e){return 2===e.isPure?function(t){return e(t)}:e})))),p(n)}}]}function In(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,r){return Nn((function(e){t.$evalAsync(e)}),r,e)}],this.errorOnUnhandledRejections=function(t){return F(t)?(e=t,this):e}}function On(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,r){return Nn((function(e){t.defer(e)}),r,e)}],this.errorOnUnhandledRejections=function(t){return F(t)?(e=t,this):e}}function Nn(e,t,r){var n=a("$q",TypeError),i=0,o=[];function s(){return new l}function l(){var e=this.promise=new c;this.resolve=function(t){p(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){v(e,t)}}function c(){this.$$state={status:0}}function u(){for(;!i&&o.length;){var e=o.shift();if(!Bn(e)){Fn(e);var r="Possibly unhandled rejection: "+Ue(e.value);G(e.value)?t(e.value,r):t(r)}}}function h(n){!r||n.pending||2!==n.status||Bn(n)||(0===i&&0===o.length&&e(u),o.push(n)),!n.processScheduled&&n.pending&&(n.processScheduled=!0,++i,e((function(){!function(n){var a,o,s;s=n.pending,n.processScheduled=!1,n.pending=void 0;try{for(var l=0,c=s.length;l<c;++l){Fn(n),o=s[l][0],a=s[l][n.status];try{q(a)?p(o,a(n.value)):1===n.status?p(o,n.value):f(o,n.value)}catch(e){f(o,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--i,r&&0===i&&e(u)}}(n)})))}function p(e,t){e.$$state.status||(t===e?d(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function e(t,r){var n,i=!1;try{(R(r)||q(r))&&(n=r.then),q(n)?(t.$$state.status=-1,n.call(r,a,o,(function(e){v(t,e)}))):(t.$$state.value=r,t.$$state.status=1,h(t.$$state))}catch(e){o(e)}function a(r){i||(i=!0,e(t,r))}function o(e){i||(i=!0,d(t,e))}}(e,t))}function f(e,t){e.$$state.status||d(e,t)}function d(e,t){e.$$state.value=t,e.$$state.status=2,h(e.$$state)}function v(r,n){var i=r.$$state.pending;r.$$state.status<=0&&i&&i.length&&e((function(){for(var e,r,a=0,o=i.length;a<o;a++){r=i[a][0],e=i[a][3];try{v(r,q(e)?e(n):n)}catch(e){t(e)}}}))}function m(e){var t=new c;return f(t,e),t}function g(e,t,r){var n=null;try{q(r)&&(n=r())}catch(e){return m(e)}return J(n)?n.then((function(){return t(e)}),m):t(e)}function S(e,t,r,n){var i=new c;return p(i,e),i.then(t,r,n)}_(c.prototype,{then:function(e,t,r){if(B(e)&&B(t)&&B(r))return this;var n=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,r]),this.$$state.status>0&&h(this.$$state),n},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return g(t,w,e)}),(function(t){return g(t,m,e)}),t)}});var w=S;function y(e){if(!q(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new c;return e((function(e){p(t,e)}),(function(e){f(t,e)})),t}return y.prototype=c.prototype,y.defer=s,y.reject=m,y.when=S,y.resolve=w,y.all=function(e){var t=new c,r=0,n=W(e)?[]:{};return k(e,(function(e,i){r++,S(e).then((function(e){n[i]=e,--r||p(t,n)}),(function(e){f(t,e)}))})),0===r&&p(t,n),t},y.race=function(e){var t=s();return k(e,(function(e){S(e).then(t.resolve,t.reject)})),t.promise},y}function Bn(e){return!!e.pur}function Fn(e){e.pur=!0}function Rn(e){e.$$state&&Fn(e.$$state)}function Hn(){this.$get=["$window","$timeout",function(e,t){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!r,a=i?function(e){var t=r(e);return function(){n(t)}}:function(e){var r=t(e,16.66,!1);return function(){t.cancel(r)}};return a.supported=i,a}]}function jn(){var e=10,t=a("$rootScope"),r=null,n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,a,s){function l(e){e.currentScope.$$destroyed=!0}function c(){this.$id=P(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}c.prototype={constructor:c,$new:function(e,t){var r;return t=t||this,e?(r=new c).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=P(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),r=new this.$$ChildScope),r.$parent=t,r.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=r,t.$$childTail=r):t.$$childHead=t.$$childTail=r,(e||t!==this)&&r.$on("$destroy",l),r},$watch:function(e,t,n,i){var o=a(e),s=q(t)?t:V;if(o.$$watchDelegate)return o.$$watchDelegate(this,s,n,o,e);var l=this,c=l.$$watchers,u={fn:s,last:y,get:o,exp:i||e,eq:!!n};return r=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,S(this,1),function(){var e=ae(c,u);e>=0&&(S(l,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),r=null}},$watchGroup:function(e,t){var r=new Array(e.length),n=new Array(e.length),i=[],a=this,o=!1,s=!0;if(!e.length){var l=!0;return a.$evalAsync((function(){l&&t(n,n,a)})),function(){l=!1}}if(1===e.length)return this.$watch(e[0],(function(e,i,a){n[0]=e,r[0]=i,t(n,e===i?n:r,a)}));function c(){o=!1;try{s?(s=!1,t(n,n,a)):t(n,r,a)}finally{for(var i=0;i<e.length;i++)r[i]=n[i]}}return k(e,(function(e,t){var r=a.$watch(e,(function(e){n[t]=e,o||(o=!0,a.$evalAsync(c))}));i.push(r)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){v.$$pure=a(e).literal,v.$stateful=!v.$$pure;var r,n,i,o=this,s=t.length>1,l=0,c=a(e,v),u=[],p={},f=!0,d=0;function v(e){var t,i,a,o;if(!B(r=e)){if(R(r))if(x(r)){n!==u&&(d=(n=u).length=0,l++),t=r.length,d!==t&&(l++,n.length=d=t);for(var s=0;s<t;s++)o=n[s],a=r[s],o!=o&&a!=a||o===a||(l++,n[s]=a)}else{for(i in n!==p&&(n=p={},d=0,l++),t=0,r)h.call(r,i)&&(t++,a=r[i],o=n[i],i in n?o!=o&&a!=a||o===a||(l++,n[i]=a):(d++,n[i]=a,l++));if(d>t)for(i in l++,n)h.call(r,i)||(d--,delete n[i])}else n!==r&&(n=r,l++);return l}}return this.$watch(c,(function(){if(f?(f=!1,t(r,r,o)):t(r,i,o),s)if(R(r))if(x(r)){i=new Array(r.length);for(var e=0;e<r.length;e++)i[e]=r[e]}else for(var n in i={},r)h.call(r,n)&&(i[n]=r[n]);else i=r}))},$digest:function(){var a,o,l,c,h,d,S,w,x,k=e,C=p.length?u:this,$=[];m("$digest"),s.$$checkUrlChange(),this===u&&null!==n&&(s.defer.cancel(n),b()),r=null;do{h=!1,S=C;for(var P=0;P<p.length;P++){try{(0,(x=p[P]).fn)(x.scope,x.locals)}catch(e){i(e)}r=null}p.length=0;e:do{if(c=!S.$$suspended&&S.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(a=c[c.$$digestWatchIndex])if((o=(0,a.get)(S))===(l=a.last)||(a.eq?le(o,l):D(o)&&D(l))){if(a===r){h=!1;break e}}else h=!0,r=a,a.last=a.eq?oe(o,null):o,(0,a.fn)(o,l===y?o:l,S),k<5&&($[w=4-k]||($[w]=[]),$[w].push({msg:q(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:o,oldVal:l}))}catch(e){i(e)}if(!(d=!S.$$suspended&&S.$$watchersCount&&S.$$childHead||S!==C&&S.$$nextSibling))for(;S!==C&&!(d=S.$$nextSibling);)S=S.$parent}while(S=d);if((h||p.length)&&!k--)throw g(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,$)}while(h||p.length);for(g();v<f.length;)try{f[v++]()}catch(e){i(e)}f.length=v=0,s.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===u&&s.$$applicationDestroyed(),S(this,-this.$$watchersCount),this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=V,this.$on=this.$watch=this.$watchGroup=function(){return V},this.$$listeners={},this.$$nextSibling=null,function e(t){9===o&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){u.$$phase||p.length||s.defer((function(){p.length&&u.$digest()}),null,"$evalAsync"),p.push({scope:this,fn:a(e),locals:t})},$$postDigest:function(e){f.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(e){i(e)}finally{try{u.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&d.push((function(){t.$eval(e)})),e=a(e),null===n&&(n=s.defer((function(){u.$apply(b)}),null,"$applyAsync"))},$on:function(e,t){var r=this.$$listeners[e];r||(this.$$listeners[e]=r=[]),r.push(t);var n=this;do{n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++}while(n=n.$parent);var i=this;return function(){var n=r.indexOf(t);-1!==n&&(delete r[n],w(i,1,e))}},$emit:function(e,t){var r,n,a,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=he([c],arguments,1);do{for(r=s.$$listeners[e]||o,c.currentScope=s,n=0,a=r.length;n<a;n++)if(r[n])try{r[n].apply(null,u)}catch(e){i(e)}else r.splice(n,1),n--,a--;if(l)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var r=this,n=r,a=r,o={name:e,targetScope:r,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return o;for(var s,l,c,u=he([o],arguments,1);n=a;){for(o.currentScope=n,l=0,c=(s=n.$$listeners[e]||[]).length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){i(e)}else s.splice(l,1),l--,c--;if(!(a=n.$$listenerCount[e]&&n.$$childHead||n!==r&&n.$$nextSibling))for(;n!==r&&!(a=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var u=new c,p=u.$$asyncQueue=[],f=u.$$postDigestQueue=[],d=u.$$applyAsyncQueue=[],v=0;return u;function m(e){if(u.$$phase)throw t("inprog","{0} already in progress",u.$$phase);u.$$phase=e}function g(){u.$$phase=null}function S(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function w(e,t,r){do{e.$$listenerCount[r]-=t,0===e.$$listenerCount[r]&&delete e.$$listenerCount[r]}while(e=e.$parent)}function y(){}function b(){for(;d.length;)try{d.shift()()}catch(e){i(e)}n=null}}]}function zn(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return F(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return F(e)?(t=e,this):t},this.$get=function(){return function(r,n){var i=n?t:e,a=ci(r&&r.trim()).href;return""===a||a.match(i)?r:"unsafe:"+a}}}Mn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Pn(e,t.$filter);var r,n="";if(this.stage="assign",r=_n(e)){this.state.computing="assign";var i=this.nextId();this.recurse(r,i),this.return_(i),n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=Tn(e.body);t.stage="inputs",k(a,(function(e,r){var n="fn"+r;t.state[n]={vars:[],body:[],own:{}},t.state.computing=n;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=r})),this.state.computing="fn",this.stage="main",this.recurse(e);var o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,wn,Cn,$n);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,r=this;return k(t,(function(t){e.push("var "+t.name+"="+r.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return k(this.state.filters,(function(r,n){e.push(r+"=$filter("+t.escape(n)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,n,i,a){var o,s,l,c,u,h=this;if(n=n||V,!a&&F(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,n,i,!0));switch(e.type){case kn.Program:k(e.body,(function(t,r){h.recurse(t.expression,void 0,void 0,(function(e){s=e})),r!==e.body.length-1?h.current().body.push(s,";"):h.return_(s)}));break;case kn.Literal:c=this.escape(e.value),this.assign(t,c),n(t||c);break;case kn.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){s=e})),c=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),n(c);break;case kn.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){o=e})),this.recurse(e.right,void 0,void 0,(function(e){s=e})),c="+"===e.operator?this.plus(o,s):"-"===e.operator?this.ifDefined(o,0)+e.operator+this.ifDefined(s,0):"("+o+")"+e.operator+"("+s+")",this.assign(t,c),n(c);break;case kn.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),n(t);break;case kn.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),n(t);break;case kn.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),(function(){h.if_("inputs"===h.stage||"s",(function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))}))}),t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),n(t);break;case kn.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,o,void 0,(function(){h.if_(h.notNull(o),(function(){e.computed?(s=h.nextId(),h.recurse(e.property,s),h.getStringValue(s),i&&1!==i&&h.if_(h.not(h.computedMember(o,s)),h.lazyAssign(h.computedMember(o,s),"{}")),c=h.computedMember(o,s),h.assign(t,c),r&&(r.computed=!0,r.name=s)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(o,e.property.name)),h.lazyAssign(h.nonComputedMember(o,e.property.name),"{}")),c=h.nonComputedMember(o,e.property.name),h.assign(t,c),r&&(r.computed=!1,r.name=e.property.name))}),(function(){h.assign(t,"undefined")})),n(t)}),!!i);break;case kn.CallExpression:t=t||this.nextId(),e.filter?(s=h.filter(e.callee.name),l=[],k(e.arguments,(function(e){var t=h.nextId();h.recurse(e,t),l.push(t)})),c=s+"("+l.join(",")+")",h.assign(t,c),n(t)):(s=h.nextId(),o={},l=[],h.recurse(e.callee,s,o,(function(){h.if_(h.notNull(s),(function(){k(e.arguments,(function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,(function(e){l.push(e)}))})),c=o.name?h.member(o.context,o.name,o.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",h.assign(t,c)}),(function(){h.assign(t,"undefined")})),n(t)})));break;case kn.AssignmentExpression:s=this.nextId(),o={},this.recurse(e.left,void 0,o,(function(){h.if_(h.notNull(o.context),(function(){h.recurse(e.right,s),c=h.member(o.context,o.name,o.computed)+e.operator+s,h.assign(t,c),n(t||c)}))}),1);break;case kn.ArrayExpression:l=[],k(e.elements,(function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,(function(e){l.push(e)}))})),c="["+l.join(",")+"]",this.assign(t,c),n(t||c);break;case kn.ObjectExpression:l=[],u=!1,k(e.properties,(function(e){e.computed&&(u=!0)})),u?(t=t||this.nextId(),this.assign(t,"{}"),k(e.properties,(function(e){e.computed?(o=h.nextId(),h.recurse(e.key,o)):o=e.key.type===kn.Identifier?e.key.name:""+e.key.value,s=h.nextId(),h.recurse(e.value,s),h.assign(h.member(t,o,e.computed),s)}))):(k(e.properties,(function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,(function(e){l.push(h.escape(t.key.type===kn.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),c="{"+l.join(",")+"}",this.assign(t,c)),n(t||c);break;case kn.ThisExpression:this.assign(t,"s"),n(t||"s");break;case kn.LocalsExpression:this.assign(t,"l"),n(t||"l");break;case kn.NGValueParameter:this.assign(t,"v"),n(t||"v")}},getHasOwnProperty:function(e,t){var r=e+"."+t,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[r]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,r){if(!0===e)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,r){return r?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,r,n,i,a){var o=this;return function(){o.recurse(e,t,r,n,i,a)}},lazyAssign:function(e,t){var r=this;return function(){r.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(j(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(z(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw gn("esc","IMPOSSIBLE")},nextId:function(e,t){var r="v"+this.state.nextId++;return e||this.current().vars.push(r+(t?"="+t:"")),r},current:function(){return this.state[this.state.computing]}},An.prototype={compile:function(e){var t,r,n=this;Pn(e,n.$filter),(t=_n(e))&&(r=this.recurse(t));var i,a=Tn(e.body);a&&(i=[],k(a,(function(e,t){var r=n.recurse(e);r.isPure=e.isPure,e.input=r,i.push(r),e.watchId=t})));var o=[];k(e.body,(function(e){o.push(n.recurse(e.expression))}));var s=0===e.body.length?V:1===e.body.length?o[0]:function(e,t){var r;return k(o,(function(n){r=n(e,t)})),r};return r&&(s.assign=function(e,t,n){return r(e,n,t)}),i&&(s.inputs=i),s},recurse:function(e,t,r){var n,i,a,o=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case kn.Literal:return this.value(e.value,t);case kn.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case kn.BinaryExpression:case kn.LogicalExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case kn.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case kn.Identifier:return o.identifier(e.name,t,r);case kn.MemberExpression:return n=this.recurse(e.object,!1,!!r),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(n,i,t,r):this.nonComputedMember(n,i,t,r);case kn.CallExpression:return a=[],k(e.arguments,(function(e){a.push(o.recurse(e))})),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,r,n,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,r,n,o));var c=i.apply(void 0,s,o);return t?{context:void 0,name:void 0,value:c}:c}:function(e,r,n,o){var s,l=i(e,r,n,o);if(null!=l.value){for(var c=[],u=0;u<a.length;++u)c.push(a[u](e,r,n,o));s=l.value.apply(l.context,c)}return t?{value:s}:s};case kn.AssignmentExpression:return n=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,r,a,o){var s=n(e,r,a,o),l=i(e,r,a,o);return s.context[s.name]=l,t?{value:l}:l};case kn.ArrayExpression:return a=[],k(e.elements,(function(e){a.push(o.recurse(e))})),function(e,r,n,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,r,n,i));return t?{value:o}:o};case kn.ObjectExpression:return a=[],k(e.properties,(function(e){e.computed?a.push({key:o.recurse(e.key),computed:!0,value:o.recurse(e.value)}):a.push({key:e.key.type===kn.Identifier?e.key.name:""+e.key.value,computed:!1,value:o.recurse(e.value)})})),function(e,r,n,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,r,n,i)]=a[s].value(e,r,n,i):o[a[s].key]=a[s].value(e,r,n,i);return t?{value:o}:o};case kn.ThisExpression:return function(e){return t?{value:e}:e};case kn.LocalsExpression:return function(e,r){return t?{value:r}:r};case kn.NGValueParameter:return function(e,r,n){return t?{value:n}:n}}},"unary+":function(e,t){return function(r,n,i,a){var o=e(r,n,i,a);return o=F(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(r,n,i,a){var o=e(r,n,i,a);return o=F(o)?-o:-0,t?{value:o}:o}},"unary!":function(e,t){return function(r,n,i,a){var o=!e(r,n,i,a);return t?{value:o}:o}},"binary+":function(e,t,r){return function(n,i,a,o){var s=$n(e(n,i,a,o),t(n,i,a,o));return r?{value:s}:s}},"binary-":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o),l=t(n,i,a,o),c=(F(s)?s:0)-(F(l)?l:0);return r?{value:c}:c}},"binary*":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)*t(n,i,a,o);return r?{value:s}:s}},"binary/":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)/t(n,i,a,o);return r?{value:s}:s}},"binary%":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)%t(n,i,a,o);return r?{value:s}:s}},"binary===":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)===t(n,i,a,o);return r?{value:s}:s}},"binary!==":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)!==t(n,i,a,o);return r?{value:s}:s}},"binary==":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)==t(n,i,a,o);return r?{value:s}:s}},"binary!=":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)!=t(n,i,a,o);return r?{value:s}:s}},"binary<":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)<t(n,i,a,o);return r?{value:s}:s}},"binary>":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)>t(n,i,a,o);return r?{value:s}:s}},"binary<=":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)<=t(n,i,a,o);return r?{value:s}:s}},"binary>=":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)>=t(n,i,a,o);return r?{value:s}:s}},"binary&&":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)&&t(n,i,a,o);return r?{value:s}:s}},"binary||":function(e,t,r){return function(n,i,a,o){var s=e(n,i,a,o)||t(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(e,t,r,n){return function(i,a,o,s){var l=e(i,a,o,s)?t(i,a,o,s):r(i,a,o,s);return n?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,r){return function(n,i,a,o){var s=i&&e in i?i:n;r&&1!==r&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,r,n){return function(i,a,o,s){var l,c,u=e(i,a,o,s);return null!=u&&(l=wn(l=t(i,a,o,s)),n&&1!==n&&u&&!u[l]&&(u[l]={}),c=u[l]),r?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,r,n){return function(i,a,o,s){var l=e(i,a,o,s);n&&1!==n&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return r?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(r,n,i,a){return a?a[t]:e(r,n,i)}}},Dn.prototype={constructor:Dn,parse:function(e){var t=this.getAst(e),r=this.astCompiler.compile(t.ast);return r.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===kn.Literal||e.body[0].expression.type===kn.ArrayExpression||e.body[0].expression.type===kn.ObjectExpression)}(t.ast),r.constant=function(e){return e.constant}(t.ast),r.oneTime=t.oneTime,r},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Un=a("$sce"),Wn={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Gn=/_([a-z])/g;function qn(e){return e.replace(Gn,Je)}function Yn(e){var t=[];return F(e)&&k(e,(function(e){t.push(function(e){if("self"===e)return e;if(j(e)){if(e.indexOf("***")>-1)throw Un("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=te(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(Y(e))return new RegExp("^"+e.source+"$");throw Un("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Xn(){this.SCE_CONTEXTS=Wn;var e=["self"],r=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(r=Yn(e)),r},this.$get=["$injector","$$sanitizeUri",function(n,i){var a=function(e){throw Un("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,r){return"self"===e?ui(r,si)||function(e){return ui(e,function(){if(t.document.baseURI)return t.document.baseURI;ai||((ai=t.document.createElement("a")).href=".",ai=ai.cloneNode(!1));return ai.href}())}(r):!!e.exec(r.href)}function s(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(a=n.get("$sanitize"));var l=s(),c={};return c[Wn.HTML]=s(l),c[Wn.CSS]=s(l),c[Wn.MEDIA_URL]=s(l),c[Wn.URL]=s(c[Wn.MEDIA_URL]),c[Wn.JS]=s(l),c[Wn.RESOURCE_URL]=s(c[Wn.URL]),{trustAs:function(e,t){var r=c.hasOwnProperty(e)?c[e]:null;if(!r)throw Un("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||B(t)||""===t)return t;if("string"!=typeof t)throw Un("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)},getTrusted:function(t,n){if(null===n||B(n)||""===n)return n;var s=c.hasOwnProperty(t)?c[t]:null;if(s&&n instanceof s)return n.$$unwrapTrustedValue();if(q(n.$$unwrapTrustedValue)&&(n=n.$$unwrapTrustedValue()),t===Wn.MEDIA_URL||t===Wn.URL)return i(n.toString(),t===Wn.MEDIA_URL);if(t===Wn.RESOURCE_URL){if(function(t){var n,i,a=ci(t.toString()),s=!1;for(n=0,i=e.length;n<i;n++)if(o(e[n],a)){s=!0;break}if(s)for(n=0,i=r.length;n<i;n++)if(o(r[n],a)){s=!1;break}return s}(n))return n;throw Un("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",n.toString())}if(t===Wn.HTML)return a(n);throw Un("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function Zn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,r){if(e&&o<8)throw Un("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=ze(Wn);n.isEnabled=function(){return e},n.trustAs=r.trustAs,n.getTrusted=r.getTrusted,n.valueOf=r.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=I),n.parseAs=function(e,r){var i=t(r);return i.literal&&i.constant?i:t(r,(function(t){return n.getTrusted(e,t)}))};var i=n.parseAs,a=n.getTrusted,s=n.trustAs;return k(Wn,(function(e,t){var r=p(t);n[qn("parse_as_"+r)]=function(t){return i(e,t)},n[qn("get_trusted_"+r)]=function(t){return a(e,t)},n[qn("trust_as_"+r)]=function(t){return s(e,t)}})),n}]}function Kn(){this.$get=["$window","$document",function(e,t){var r={},n=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=A((/android (\d+)/.exec(p((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.body&&s.body.style,c=!1,u=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),u=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!n||i<4||a),hasEvent:function(e){if("input"===e&&o)return!1;if(B(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:ce(),transitions:c,animations:u,android:i}}]}function Jn(){this.$get=O((function(e){return new Qn(e)}))}function Qn(e){var t={},r=[],n=this.ALL_TASKS_TYPE="$$all$$",i=this.DEFAULT_TASK_TYPE="$$default$$";function a(){var e=r.pop();return e&&e.cb}function o(e){for(var t=r.length-1;t>=0;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}this.completeTask=function(r,s){s=s||i;try{r()}finally{!function(e){t[e=e||i]&&(t[e]--,t[n]--)}(s);var l=t[s],c=t[n];if(!c||!l)for(var u,h=c?o:a;u=h(s);)try{u()}catch(t){e.error(t)}}},this.incTaskCount=function(e){t[e=e||i]=(t[e]||0)+1,t[n]=(t[n]||0)+1},this.notifyWhenNoPendingTasks=function(e,i){t[i=i||n]?r.push({type:i,cb:e}):e()}}var ei=a("$templateRequest");function ti(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,r,n,i,a){function o(s,l){o.totalPendingRequests++,j(s)&&!B(r.get(s))||(s=a.getTrustedResourceUrl(s));var c=n.defaults&&n.defaults.transformResponse;return W(c)?c=c.filter((function(e){return e!==Br})):c===Br&&(c=null),n.get(s,_({cache:r,transformResponse:c},e)).finally((function(){o.totalPendingRequests--})).then((function(e){return r.put(s,e.data)}),(function(e){l||(e=ei("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e));return i.reject(e)}))}return o.totalPendingRequests=0,o}]}function ri(){this.$get=["$rootScope","$browser","$location",function(e,t,r){var n={findBindings:function(e,t,r){var n=e.getElementsByClassName("ng-binding"),i=[];return k(n,(function(e){var n=y.element(e).data("$binding");n&&k(n,(function(n){r?new RegExp("(^|\\s)"+te(t)+"(\\s|\\||$)").test(n)&&i.push(e):-1!==n.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,r){for(var n=["ng-","data-ng-","ng\\:"],i=0;i<n.length;++i){var a="["+n[i]+"model"+(r?"=":"*=")+'"'+t+'"]',o=e.querySelectorAll(a);if(o.length)return o}},getLocation:function(){return r.url()},setLocation:function(t){t!==r.url()&&(r.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return n}]}var ni=a("$timeout");function ii(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,r,n,i){var a={};function o(o,s,l){q(o)||(l=s,s=o,o=V);var c,u=pe(arguments,3),h=F(l)&&!l,p=(h?n:r).defer(),f=p.promise;return c=t.defer((function(){try{p.resolve(o.apply(null,u))}catch(e){p.reject(e),i(e)}finally{delete a[f.$$timeoutId]}h||e.$apply()}),s,"$timeout"),f.$$timeoutId=c,a[c]=p,f}return o.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ni("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!a.hasOwnProperty(e.$$timeoutId))return!1;var r=e.$$timeoutId,n=a[r];return Rn(n.promise),n.reject("canceled"),delete a[r],t.defer.cancel(r)},o}]}var ai,oi=t.document.createElement("a"),si=ci(t.location.href);oi.href="http://[::1]";var li="[::1]"===oi.hostname;function ci(e){if(!j(e))return e;var t=e;o&&(oi.setAttribute("href",t),t=oi.href),oi.setAttribute("href",t);var r=oi.hostname;return!li&&r.indexOf(":")>-1&&(r="["+r+"]"),{href:oi.href,protocol:oi.protocol?oi.protocol.replace(/:$/,""):"",host:oi.host,search:oi.search?oi.search.replace(/^\?/,""):"",hash:oi.hash?oi.hash.replace(/^#/,""):"",hostname:r,port:oi.port,pathname:"/"===oi.pathname.charAt(0)?oi.pathname:"/"+oi.pathname}}function ui(e,t){return e=ci(e),t=ci(t),e.protocol===t.protocol&&e.host===t.host}function hi(){this.$get=O(t)}function pi(e){var t=e[0]||{},r={},n="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,a,o,s,l,c=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(c!==n)for(e=(n=c).split("; "),r={},o=0;o<e.length;o++)(s=(a=e[o]).indexOf("="))>0&&(l=i(a.substring(0,s)),B(r[l])&&(r[l]=i(a.substring(s+1))));return r}}function fi(){this.$get=pi}function di(e){function t(r,n){if(R(r)){var i={};return k(r,(function(e,r){i[r]=t(r,e)})),i}return e.factory(r+"Filter",n)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",Si),t("date",Mi),t("filter",vi),t("json",Ai),t("limitTo",Vi),t("lowercase",Di),t("number",wi),t("orderBy",Oi),t("uppercase",Li)}function vi(){return function(e,t,r,n){if(!x(e)){if(null==e)return e;throw a("filter")("notarray","Expected array but received: {0}",e)}var i,o;switch(n=n||"$",gi(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=function(e,t,r,n){var i=R(e)&&r in e;!0===t?t=le:q(t)||(t=function(e,t){return!B(e)&&(null===e||null===t?e===t:!(R(t)||R(e)&&!N(e))&&(e=p(""+e),t=p(""+t),-1!==e.indexOf(t)))});return function(a){return i&&!R(a)?mi(a,e[r],t,r,!1):mi(a,e,t,r,n)}}(t,r,n,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function mi(e,t,r,n,i,a){var o=gi(e),s=gi(t);if("string"===s&&"!"===t.charAt(0))return!mi(e,t.substring(1),r,n,i);if(W(e))return e.some((function(e){return mi(e,t,r,n,i)}));switch(o){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&mi(e[l],t,r,n,!0))return!0;return!a&&mi(e,t,r,n,!1)}if("object"===s){for(l in t){var c=t[l];if(!q(c)&&!B(c)){var u=l===n;if(!mi(u?e:e[l],c,r,n,u,u))return!1}}return!0}return r(e,t);case"function":return!1;default:return r(e,t)}}function gi(e){return null===e?"null":typeof e}pi.$inject=["$document"],di.$inject=["$provide"];function Si(e){var t=e.NUMBER_FORMATS;return function(e,r,n){B(r)&&(r=t.CURRENCY_SYM),B(n)&&(n=t.PATTERNS[1].maxFrac);var i=r?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:yi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(i,r)}}function wi(e){var t=e.NUMBER_FORMATS;return function(e,r){return null==e?e:yi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,r)}}function yi(e,t,r,n,i){if(!j(e)&&!z(e)||isNaN(e))return"";var a,o=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(o)c="∞";else{(function(e,t,r,n){var i=e.d,a=i.length-e.i,o=(t=B(t)?Math.min(Math.max(r,a),n):+t)+e.i,s=i[o];if(o>0){i.splice(Math.max(e.i,o));for(var l=o;l<i.length;l++)i[l]=0}else{a=Math.max(0,a),e.i=1,i.length=Math.max(1,o=t+1),i[0]=0;for(var c=1;c<o;c++)i[c]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[o-1]++;for(;a<Math.max(0,t);a++)i.push(0);var h=i.reduceRight((function(e,t,r,n){return t+=e,n[r]=t%10,Math.floor(t/10)}),0);h&&(i.unshift(h),e.i++)})(a=function(e){var t,r,n,i,a,o=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;"0"===e.charAt(n);n++);if(n===(a=e.length))t=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=n,t=[],i=0;n<=a;n++,i++)t[i]=+e.charAt(n)}return r>22&&(t=t.splice(0,21),o=r-1,r=1),{d:t,e:o,i:r}}(l),i,t.minFrac,t.maxFrac);var u=a.d,h=a.i,p=a.e,f=[];for(s=u.reduce((function(e,t){return e&&!t}),!0);h<0;)u.unshift(0),h++;h>0?f=u.splice(h,u.length):(f=u,u=[0]);var d=[];for(u.length>=t.lgSize&&d.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)d.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&d.unshift(u.join("")),c=d.join(r),f.length&&(c+=n+f.join("")),p&&(c+="e+"+p)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function bi(e,t,r,n){var i="";for((e<0||n&&e<=0)&&(n?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e="0"+e;return r&&(e=e.substr(e.length-t)),i+e}function xi(e,t,r,n,i){return r=r||0,function(a){var o=a["get"+e]();return(r>0||o>-r)&&(o+=r),0===o&&-12===r&&(o=12),bi(o,t,n,i)}}function ki(e,t,r){return function(n,i){var a=n["get"+e]();return i[f((r?"STANDALONE":"")+(t?"SHORT":"")+e)][a]}}function Ci(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function $i(e){return function(t){var r,n=Ci(t.getFullYear()),i=+(r=t,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay())))-+n;return bi(1+Math.round(i/6048e5),e)}}function Pi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Si.$inject=["$locale"],wi.$inject=["$locale"];var Ti={yyyy:xi("FullYear",4,0,!1,!0),yy:xi("FullYear",2,0,!0,!0),y:xi("FullYear",1,0,!1,!0),MMMM:ki("Month"),MMM:ki("Month",!0),MM:xi("Month",2,1),M:xi("Month",1,1),LLLL:ki("Month",!1,!0),dd:xi("Date",2),d:xi("Date",1),HH:xi("Hours",2),H:xi("Hours",1),hh:xi("Hours",2,-12),h:xi("Hours",1,-12),mm:xi("Minutes",2),m:xi("Minutes",1),ss:xi("Seconds",2),s:xi("Seconds",1),sss:xi("Milliseconds",3),EEEE:ki("Day"),EEE:ki("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,r){var n=-1*r,i=n>=0?"+":"";return i+=bi(Math[n>0?"floor":"ceil"](n/60),2)+bi(Math.abs(n%60),2)},ww:$i(2),w:$i(1),G:Pi,GG:Pi,GGG:Pi,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Ei=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,_i=/^-?\d+$/;function Mi(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,n,i){var a,o,s="",l=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,j(r)&&(r=_i.test(r)?A(r):function(e){var r;if(r=e.match(t)){var n=new Date(0),i=0,a=0,o=r[8]?n.setUTCFullYear:n.setFullYear,s=r[8]?n.setUTCHours:n.setHours;r[9]&&(i=A(r[9]+r[10]),a=A(r[9]+r[11])),o.call(n,A(r[1]),A(r[2])-1,A(r[3]));var l=A(r[4]||0)-i,c=A(r[5]||0)-a,u=A(r[6]||0),h=Math.round(1e3*parseFloat("0."+(r[7]||0)));return s.call(n,l,c,u,h),n}return e}(r)),z(r)&&(r=new Date(r)),!U(r)||!isFinite(r.getTime()))return r;for(;n;)(o=Ei.exec(n))?n=(l=he(l,o,1)).pop():(l.push(n),n=null);var c=r.getTimezoneOffset();return i&&(c=Se(i,c),r=ye(r,i,!0)),k(l,(function(t){s+=(a=Ti[t])?a(r,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function Ai(){return function(e,t){return B(t)&&(t=2),ve(e,t)}}Mi.$inject=["$locale"];var Di=O(p),Li=O(f);function Vi(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):A(t),D(t)?e:(z(e)&&(e=e.toString()),x(e)?(r=(r=!r||isNaN(r)?0:A(r))<0?Math.max(0,e.length+r):r,t>=0?Ii(e,r,r+t):0===r?Ii(e,t,e.length):Ii(e,Math.max(0,r+t),r)):e)}}function Ii(e,t,r){return j(e)?e.slice(t,r):d.call(e,t,r)}function Oi(e){return function(n,i,o,s){if(null==n)return n;if(!x(n))throw a("orderBy")("notarray","Expected array but received: {0}",n);W(i)||(i=[i]),0===i.length&&(i=["+"]);var l=i.map((function(t){var r=1,n=I;if(q(t))n=t;else if(j(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(r="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=e(t)).constant)){var i=n();n=function(e){return e[i]}}return{get:n,descending:r}})),c=o?-1:1,u=q(s)?s:r,h=Array.prototype.map.call(n,(function(e,r){return{value:e,tieBreaker:{value:r,type:"number",index:r},predicateValues:l.map((function(n){return function(e,r){var n=typeof e;null===e?n="null":"object"===n&&(e=function(e){if(q(e.valueOf)&&t(e=e.valueOf()))return e;if(N(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:n,index:r}}(n.get(e),r)}))}}));return h.sort((function(e,t){for(var n=0,i=l.length;n<i;n++){var a=u(e.predicateValues[n],t.predicateValues[n]);if(a)return a*l[n].descending*c}return(u(e.tieBreaker,t.tieBreaker)||r(e.tieBreaker,t.tieBreaker))*c})),n=h.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){var r=0,n=e.type,i=t.type;if(n===i){var a=e.value,o=t.value;"string"===n?(a=a.toLowerCase(),o=o.toLowerCase()):"object"===n&&(R(a)&&(a=e.index),R(o)&&(o=t.index)),a!==o&&(r=a<o?-1:1)}else r="undefined"===n?1:"undefined"===i?-1:"null"===n?1:"null"===i||n<i?-1:1;return r}}function Ni(e){return q(e)&&(e={link:e}),e.restrict=e.restrict||"AC",O(e)}Oi.$inject=["$parse"];var Bi=O({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var r="[object SVGAnimatedString]"===g.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(r)||e.preventDefault()}))}}}}),Fi={};k(Dt,(function(e,t){if("multiple"!==e){var r=wr("ng-"+t),n=i;"checked"===e&&(n=function(e,t,n){n.ngModel!==n[r]&&i(e,0,n)}),Fi[r]=function(){return{restrict:"A",priority:100,link:n}}}function i(e,n,i){e.$watch(i[r],(function(e){i.$set(t,!!e)}))}})),k(Vt,(function(e,t){Fi[t]=function(){return{priority:100,link:function(e,r,n){if("ngPattern"===t&&"/"===n.ngPattern.charAt(0)){var i=n.ngPattern.match(u);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(n[t],(function(e){n.$set(t,e)}))}}}})),k(["src","srcset","href"],(function(e){var t=wr("ng-"+e);Fi[t]=["$sce",function(r){return{priority:99,link:function(n,i,a){var s=e,l=e;"href"===e&&"[object SVGAnimatedString]"===g.call(i.prop("href"))&&(l="xlinkHref",a.$attr[l]="xlink:href",s=null),a.$set(t,r.getTrustedMediaUrl(a[t])),a.$observe(t,(function(t){t?(a.$set(l,t),o&&s&&i.prop(s,a[l])):"href"===e&&a.$set(l,null)}))}}}]}));var Ri={$addControl:V,$getControls:O([]),$$renameControl:function(e,t){e.$name=t},$removeControl:V,$setValidity:V,$setDirty:V,$setPristine:V,$setSubmitted:V,$$setSubmitted:V};function Hi(e,t,r,n,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(r),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ri,this.$$element=e,this.$$animate=n,Wi(this)}Hi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Hi.prototype={$rollbackViewValue:function(){k(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){k(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){Be(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return ze(this.$$controls)},$$renameControl:function(e,t){var r=e.$name;this[r]===e&&delete this[r],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],k(this.$pending,(function(t,r){this.$setValidity(r,null,e)}),this),k(this.$error,(function(t,r){this.$setValidity(r,null,e)}),this),k(this.$$success,(function(t,r){this.$setValidity(r,null,e)}),this),ae(this.$$controls,e),e.$$parentForm=Ri},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,Ha),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ra,Ha+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,k(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){k(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Ri;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,k(this.$$controls,(function(e){e.$$setSubmitted&&e.$$setSubmitted()}))}},Gi({clazz:Hi,set:function(e,t,r){var n=e[t];n?-1===n.indexOf(r)&&n.push(r):e[t]=[r]},unset:function(e,t,r){var n=e[t];n&&(ae(n,r),0===n.length&&delete e[t])}});var ji=function(e){return["$timeout","$parse",function(t,r){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Hi,compile:function(r,i){r.addClass(Ra).addClass(Ba);var a=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,r,i,o){var s=o[0];if(!("action"in i)){var l=function(t){e.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),t.preventDefault()};r[0].addEventListener("submit",l),r.on("$destroy",(function(){t((function(){r[0].removeEventListener("submit",l)}),0,!1)}))}(o[1]||s.$$parentForm).$addControl(s);var c=a?n(s.$name):V;a&&(c(e,s),i.$observe(a,(function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=n(s.$name))(e,s))}))),r.on("$destroy",(function(){s.$$parentForm.$removeControl(s),c(e,void 0),_(s,Ri)}))}}}};function n(e){return""===e?r('this[""]').assign:r(e).assign||V}}]},zi=ji(),Ui=ji(!0);function Wi(e){e.$$classCache={},e.$$classCache[Fa]=!(e.$$classCache[Ba]=e.$$element.hasClass(Ba))}function Gi(e){var t=e.clazz,r=e.set,n=e.unset;function i(e,t,r){r&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!r&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function a(e,t,r){t=t?"-"+Le(t,"-"):"",i(e,Ba+t,!0===r),i(e,Fa+t,!1===r)}t.prototype.$setValidity=function(e,t,o){var s;B(t)?function(e,t,n,i){e[t]||(e[t]={});r(e[t],n,i)}(this,"$pending",e,o):function(e,t,r,i){e[t]&&n(e[t],r,i);qi(e[t])&&(e[t]=void 0)}(this,"$pending",e,o),K(t)?t?(n(this.$error,e,o),r(this.$$success,e,o)):(r(this.$error,e,o),n(this.$$success,e,o)):(n(this.$error,e,o),n(this.$$success,e,o)),this.$pending?(i(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,a(this,"",null)):(i(this,"ng-pending",!1),this.$valid=qi(this.$error),this.$invalid=!this.$valid,a(this,"",this.$valid)),a(this,e,s=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,s,this)}}function qi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Yi=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Xi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Zi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Ki=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ji=/^(\d{4,})-(\d{2})-(\d{2})$/,Qi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ea=/^(\d{4,})-W(\d\d)$/,ta=/^(\d{4,})-(\d\d)$/,ra=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,na=Re();k("date,datetime-local,month,time,week".split(","),(function(e){na[e]=!0}));var ia={text:function(e,t,r,n,i,a){oa(e,t,r,n,i,a),aa(n)},date:la("date",Ji,sa(Ji,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":la("datetimelocal",Qi,sa(Qi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:la("time",ra,sa(ra,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:la("week",ea,(function(e,t){if(U(e))return e;if(j(e)){ea.lastIndex=0;var r=ea.exec(e);if(r){var n=+r[1],i=+r[2],a=0,o=0,s=0,l=0,c=Ci(n),u=7*(i-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(n,0,c.getDate()+u,a,o,s,l)}}return NaN}),"yyyy-Www"),month:la("month",ta,sa(ta,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,r,n,i,a,o,s){var l;if(ca(e,t,r,n,"number"),ua(n),oa(e,t,r,n,i,a),F(r.min)||r.ngMin){var c=r.min||s(r.ngMin)(e);l=ha(c),n.$validators.min=function(e,t){return n.$isEmpty(t)||B(l)||t>=l},r.$observe("min",(function(e){e!==c&&(l=ha(e),c=e,n.$validate())}))}if(F(r.max)||r.ngMax){var u=r.max||s(r.ngMax)(e),h=ha(u);n.$validators.max=function(e,t){return n.$isEmpty(t)||B(h)||t<=h},r.$observe("max",(function(e){e!==u&&(h=ha(e),u=e,n.$validate())}))}if(F(r.step)||r.ngStep){var p=r.step||s(r.ngStep)(e),f=ha(p);n.$validators.step=function(e,t){return n.$isEmpty(t)||B(f)||da(t,l||0,f)},r.$observe("step",(function(e){e!==p&&(f=ha(e),p=e,n.$validate())}))}},url:function(e,t,r,n,i,a){oa(e,t,r,n,i,a),aa(n),n.$validators.url=function(e,t){var r=e||t;return n.$isEmpty(r)||Xi.test(r)}},email:function(e,t,r,n,i,a){oa(e,t,r,n,i,a),aa(n),n.$validators.email=function(e,t){var r=e||t;return n.$isEmpty(r)||Zi.test(r)}},radio:function(e,t,r,n){var i=!r.ngTrim||"false"!==ee(r.ngTrim);B(r.name)&&t.attr("name",P());t.on("change",(function(e){var a;t[0].checked&&(a=r.value,i&&(a=ee(a)),n.$setViewValue(a,e&&e.type))})),n.$render=function(){var e=r.value;i&&(e=ee(e)),t[0].checked=e===n.$viewValue},r.$observe("value",n.$render)},range:function(e,t,r,n,i,a){ca(e,t,r,n,"range"),ua(n),oa(e,t,r,n,i,a);var o=n.$$hasNativeValidators&&"range"===t[0].type,s=o?0:void 0,l=o?100:void 0,c=o?1:void 0,u=t[0].validity,h=F(r.min),p=F(r.max),f=F(r.step),d=n.$render;n.$render=o&&F(u.rangeUnderflow)&&F(u.rangeOverflow)?function(){d(),n.$setViewValue(t.val())}:d,h&&(s=ha(r.min),n.$validators.min=o?function(){return!0}:function(e,t){return n.$isEmpty(t)||B(s)||t>=s},v("min",(function(e){if(s=ha(e),D(n.$modelValue))return;if(o){var r=t.val();s>r&&(r=s,t.val(r)),n.$setViewValue(r)}else n.$validate()})));p&&(l=ha(r.max),n.$validators.max=o?function(){return!0}:function(e,t){return n.$isEmpty(t)||B(l)||t<=l},v("max",(function(e){if(l=ha(e),D(n.$modelValue))return;if(o){var r=t.val();l<r&&(t.val(l),r=l<s?s:l),n.$setViewValue(r)}else n.$validate()})));f&&(c=ha(r.step),n.$validators.step=o?function(){return!u.stepMismatch}:function(e,t){return n.$isEmpty(t)||B(c)||da(t,s||0,c)},v("step",(function(e){if(c=ha(e),D(n.$modelValue))return;o?n.$viewValue!==t.val()&&n.$setViewValue(t.val()):n.$validate()})));function v(e,n){t.attr(e,r[e]);var i=r[e];r.$observe(e,(function(e){e!==i&&(i=e,n(e))}))}},checkbox:function(e,t,r,n,i,a,o,s){var l=va(s,e,"ngTrueValue",r.ngTrueValue,!0),c=va(s,e,"ngFalseValue",r.ngFalseValue,!1);t.on("change",(function(e){n.$setViewValue(t[0].checked,e&&e.type)})),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return!1===e},n.$formatters.push((function(e){return le(e,l)})),n.$parsers.push((function(e){return e?l:c}))},hidden:V,button:V,submit:V,reset:V,file:V};function aa(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function oa(e,t,r,n,i,a){var o,s=p(t[0].type);if(!i.android){var l=!1;t.on("compositionstart",(function(){l=!0})),t.on("compositionupdate",(function(e){(B(e.data)||""===e.data)&&(l=!1)})),t.on("compositionend",(function(){l=!1,c()}))}var c=function(e){if(o&&(a.defer.cancel(o),o=null),!l){var i=t.val(),c=e&&e.type;"password"===s||r.ngTrim&&"false"===r.ngTrim||(i=ee(i)),(n.$viewValue!==i||""===i&&n.$$hasNativeValidators)&&n.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var u=function(e,t,r){o||(o=a.defer((function(){o=null,t&&t.value===r||c(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),na[s]&&n.$$hasNativeValidators&&s===r.type&&t.on("keydown wheel mousedown",(function(e){if(!o){var t=this.validity,r=t.badInput,n=t.typeMismatch;o=a.defer((function(){o=null,t.badInput===r&&t.typeMismatch===n||c(e)}))}})),n.$render=function(){var e=n.$isEmpty(n.$viewValue)?"":n.$viewValue;t.val()!==e&&t.val(e)}}function sa(e,t){return function(r,n){var i,a;if(U(r))return r;if(j(r)){if('"'===r.charAt(0)&&'"'===r.charAt(r.length-1)&&(r=r.substring(1,r.length-1)),Yi.test(r))return new Date(r);if(e.lastIndex=0,i=e.exec(r)){i.shift(),a=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},k(i,(function(e,r){r<t.length&&(a[t[r]]=+e)}));var o=new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0);return a.yyyy<100&&o.setFullYear(a.yyyy),o}}return NaN}}function la(e,t,r,n){return function(i,a,o,s,l,c,u,h){ca(i,a,o,s,e),oa(0,a,o,s,l,c);var p,f,d="time"===e||"datetimelocal"===e;if(s.$parsers.push((function(r){return s.$isEmpty(r)?null:t.test(r)?b(r,p):void(s.$$parserName=e)})),s.$formatters.push((function(e){if(e&&!U(e))throw ja("datefmt","Expected `{0}` to be a date",e);if(w(e)){p=e;var t=s.$options.getOption("timezone");return t&&(f=t,p=ye(p,t,!0)),function(e,t){var r=n;d&&j(s.$options.getOption("timeSecondsFormat"))&&(r=n.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=u("date")(e,r,t);d&&s.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(e,t)}return p=null,f=null,""})),F(o.min)||o.ngMin){var v=o.min||h(o.ngMin)(i),m=y(v);s.$validators.min=function(e){return!w(e)||B(m)||r(e)>=m},o.$observe("min",(function(e){e!==v&&(m=y(e),v=e,s.$validate())}))}if(F(o.max)||o.ngMax){var g=o.max||h(o.ngMax)(i),S=y(g);s.$validators.max=function(e){return!w(e)||B(S)||r(e)<=S},o.$observe("max",(function(e){e!==g&&(S=y(e),g=e,s.$validate())}))}function w(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function y(e){return F(e)&&!U(e)?b(e)||void 0:e}function b(e,t){var n=s.$options.getOption("timezone");f&&f!==n&&(t=we(t,Se(f)));var i=r(e,t);return!isNaN(i)&&n&&(i=ye(i,n)),i}}}function ca(e,t,r,n,i){var a=t[0];(n.$$hasNativeValidators=R(a.validity))&&n.$parsers.push((function(e){var r=t.prop("validity")||{};if(!r.badInput&&!r.typeMismatch)return e;n.$$parserName=i}))}function ua(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:Ki.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!z(t))throw ja("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function ha(e){return F(e)&&!z(e)&&(e=parseFloat(e)),D(e)?void 0:e}function pa(e){return(0|e)===e}function fa(e){var t=e.toString(),r=t.indexOf(".");if(-1===r){if(-1<e&&e<1){var n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}return t.length-r-1}function da(e,t,r){var n=Number(e),i=!pa(n),a=!pa(t),o=!pa(r);if(i||a||o){var s=i?fa(n):0,l=a?fa(t):0,c=o?fa(r):0,u=Math.max(s,l,c),h=Math.pow(10,u);n*=h,t*=h,r*=h,i&&(n=Math.round(n)),a&&(t=Math.round(t)),o&&(r=Math.round(r))}return(n-t)%r==0}function va(e,t,r,n,i){var a;if(F(n)){if(!(a=e(n)).constant)throw ja("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",r,n);return a(t)}return i}var ma=["$browser","$sniffer","$filter","$parse",function(e,t,r,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(ia[p(o.type)]||ia.text)(i,a,o,s[0],t,e,r,n)}}}}],ga=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,r){if("hidden"===p(r.type))return{pre:function(t,r,n,i){var a=r[0];a.parentNode&&a.parentNode.insertBefore(a,a.nextSibling),Object.defineProperty&&Object.defineProperty(a,"value",e)}}}}},Sa=/^(true|false|\d+)$/,wa=function(){function e(e,t,r){var n=F(r)?r:9===o?"":null;e.prop("value",n),t.$set("value",r)}return{restrict:"A",priority:100,compile:function(t,r){return Sa.test(r.ngValue)?function(t,r,n){e(r,n,t.$eval(n.ngValue))}:function(t,r,n){t.$watch(n.ngValue,(function(t){e(r,n,t)}))}}}},ya=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,n){e.$$addBindingInfo(r,n.ngBind),r=r[0],t.$watch(n.ngBind,(function(e){r.textContent=He(e)}))}}}}],ba=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,n,i){var a=e(n.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(n,a.expressions),n=n[0],i.$observe("ngBindTemplate",(function(e){n.textContent=B(e)?"":e}))}}}}],xa=["$sce","$parse","$compile",function(e,t,r){return{restrict:"A",compile:function(n,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,(function(t){return e.valueOf(t)}));return r.$$addBindingClass(n),function(t,n,i){r.$$addBindingInfo(n,i.ngBindHtml),t.$watch(o,(function(){var r=a(t);n.html(e.getTrustedHtml(r)||"")}))}}}}],ka=O({restrict:"A",require:"ngModel",link:function(e,t,r,n){n.$viewChangeListeners.push((function(){e.$eval(r.ngChange)}))}});function Ca(e,t){var r;return e="ngClass"+e,["$parse",function(o){return{restrict:"AC",link:function(s,l,c){var u,h=l.data("$classCounts"),p=!0;function f(e,t){var r=[];return k(e,(function(e){(t>0||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(t>0)&&r.push(e))})),r.join(" ")}h||(h=Re(),l.data("$classCounts",h)),"ngClass"!==e&&(r||(r=o("$index",(function(e){return 1&e}))),s.$watch(r,(function(e){e===t?(r=f(i(r=u),1),c.$addClass(r)):function(e){e=f(i(e),-1),c.$removeClass(e)}(u);var r;p=e}))),s.$watch(o(c[e],a),(function(e){p===t&&function(e,t){var r=i(e),a=i(t),o=n(r,a),s=n(a,r),l=f(o,-1),u=f(s,1);c.$addClass(u),c.$removeClass(l)}(u,e);u=e}))}}}];function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var r=[];e:for(var n=0;n<e.length;n++){for(var i=e[n],a=0;a<t.length;a++)if(i===t[a])continue e;r.push(i)}return r}function i(e){return e&&e.split(" ")}function a(e){if(!e)return e;var t=e;return W(e)?t=e.map(a).join(" "):R(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):j(e)||(t=e+""),t}}var $a=Ca("",!0),Pa=Ca("Odd",0),Ta=Ca("Even",1),Ea=Ni({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),_a=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ma={},Aa={blur:!0,focus:!0};function Da(e,t,r,n,i,a){return{restrict:"A",compile:function(o,s){var l=e(s[n]);return function(e,n){n.on(i,(function(n){var i=function(){l(e,{$event:n})};if(t.$$phase)if(a)e.$evalAsync(i);else try{i()}catch(e){r(e)}else e.$apply(i)}))}}}}k("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=wr("ng-"+e);Ma[t]=["$parse","$rootScope","$exceptionHandler",function(r,n,i){return Da(r,n,i,t,e,Aa[e])}]}));var La=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(r,n,i,a,o){var s,l,c;r.$watch(i.ngIf,(function(r){r?l||o((function(r,a){l=a,r[r.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:r},e.enter(r,n.parent(),n)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=Fe(s.clone),e.leave(c).done((function(e){!1!==e&&(c=null)})),s=null))}))}}}],Va=["$templateRequest","$anchorScroll","$animate",function(e,t,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(n,i){var a=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(n,i,l,c,u){var h,p,f,d=0,v=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),f&&(r.leave(f).done((function(e){!1!==e&&(p=null)})),p=f,f=null)};n.$watch(a,(function(a){var l=function(e){!1===e||!F(s)||s&&!n.$eval(s)||t()},p=++d;a?(e(a,!0).then((function(e){if(!n.$$destroyed&&p===d){var t=n.$new();c.template=e;var s=u(t,(function(e){v(),r.enter(e,null,i).done(l)}));f=s,(h=t).$emit("$includeContentLoaded",a),n.$eval(o)}}),(function(){n.$$destroyed||p===d&&(v(),n.$emit("$includeContentError",a))})),n.$emit("$includeContentRequested",a)):(v(),c.template=null)}))}}}}],Ia=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(r,n,i,a){if(g.call(n[0]).match(/SVG/))return n.empty(),void e(ht(a.template,t.document).childNodes)(r,(function(e){n.append(e)}),{futureParentElement:n});n.html(a.template),e(n.contents())(r)}}}],Oa=Ni({priority:450,compile:function(){return{pre:function(e,t,r){e.$eval(r.ngInit)}}}}),Na=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,n){var i=r.ngList||", ",a="false"!==r.ngTrim,o=a?ee(i):i;n.$parsers.push((function(e){if(!B(e)){var t=[];return e&&k(e.split(o),(function(e){e&&t.push(a?ee(e):e)})),t}})),n.$formatters.push((function(e){if(W(e))return e.join(i)})),n.$isEmpty=function(e){return!e||!e.length}}}},Ba="ng-valid",Fa="ng-invalid",Ra="ng-pristine",Ha="ng-dirty",ja=a("ngModel");function za(e,t,r,n,i,a,o,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(r.name||"",!1)(e),this.$$parentForm=Ri,this.$options=Ua,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(r.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=r,this.$$element=n,this.$$animate=a,this.$$timeout=o,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,Wi(this),(c=this).$$scope.$watch((function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t}))}za.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],za.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var r=this.$$parsedNgModel(t);return q(r)&&(r=e(t)),r},this.$$ngModelSet=function(e,r){q(this.$$parsedNgModel(e))?t(e,{$$$p:r}):this.$$parsedNgModelAssign(e,r)}}else if(!this.$$parsedNgModel.assign)throw ja("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,be(this.$$element))},$render:V,$isEmpty:function(e){return B(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ha),this.$$animate.addClass(this.$$element,Ra)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,Ha),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!D(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,r=this.$valid,n=this.$modelValue,i=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(t,e,(function(e){i||r===e||(a.$modelValue=e?t:void 0,a.$modelValue!==n&&a.$$writeModelToScope())}))}},$$runValidators:function(e,t,r){this.$$currentValidationRunId++;var n,i,a=this.$$currentValidationRunId,o=this;(function(){var e=o.$$parserName;if(!B(o.$$parserValid))return o.$$parserValid||(k(o.$validators,(function(e,t){s(t,null)})),k(o.$asyncValidators,(function(e,t){s(t,null)}))),s(e,o.$$parserValid),o.$$parserValid;s(e,null);return!0})()?!function(){var r=!0;if(k(o.$validators,(function(n,i){var a=Boolean(n(e,t));r=r&&a,s(i,a)})),!r)return k(o.$asyncValidators,(function(e,t){s(t,null)})),!1;return!0}()?l(!1):(n=[],i=!0,k(o.$asyncValidators,(function(r,a){var o=r(e,t);if(!J(o))throw ja("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",o);s(a,void 0),n.push(o.then((function(){s(a,!0)}),(function(){i=!1,s(a,!1)})))})),n.length?o.$$q.all(n).then((function(){l(i)}),V):l(!0)):l(!1);function s(e,t){a===o.$$currentValidationRunId&&o.$setValidity(e,t)}function l(e){a===o.$$currentValidationRunId&&r(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!B(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(B(e=this.$parsers[r](e))){this.$$parserValid=!1;break}D(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var n=this.$modelValue,i=this.$options.getOption("allowInvalid");function a(){t.$modelValue!==n&&t.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,a()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(r){i||(t.$modelValue=r?e:void 0,a())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),k(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");z(t[e])?t=t[e]:z(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:z(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var r=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){r.$commitViewValue()}),t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){r.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,V))},$$format:function(){for(var e=this.$formatters,t=e.length,r=this.$modelValue;t--;)r=e[t](r);return r},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Gi({clazz:za,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Ua,Wa=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:za,priority:1,compile:function(t){return t.addClass(Ra).addClass("ng-untouched").addClass(Ba),{pre:function(e,t,r,n){var i=n[0],a=n[1]||i.$$parentForm,o=n[2];o&&(i.$options=o.$options),i.$$initGetterSetters(),a.$addControl(i),r.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,r,n,i){var a=i[0];function o(){a.$setTouched()}a.$$setUpdateOnEvents(),r.on("blur",(function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))}))}}}}}],Ga=/(\s+|^)default(\s+|$)/;function qa(e){this.$$options=e}qa.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return k(e=_({},e),(function(r,n){"$inherit"===r?"*"===n?t=!0:(e[n]=this.$$options[n],"updateOn"===n&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===n&&(e.updateOnDefault=!1,e[n]=ee(r.replace(Ga,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],Xa(e,this.$$options)),Xa(e,Ua.$$options),new qa(e)}},Ua=new qa({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ya=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Ua,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function Xa(e,t){k(t,(function(t,r){F(e[r])||(e[r]=t)}))}var Za=Ni({terminal:!0,priority:1e3}),Ka=a("ngOptions"),Ja=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Qa=["$compile","$document","$parse",function(e,r,n){var i=t.document.createElement("option"),a=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,r,n){n[0].registerOption=V},post:function(t,o,l,c){for(var u=c[0],h=c[1],p=l.multiple,f=0,d=o.children(),v=d.length;f<v;f++)if(""===d[f].value){u.hasEmptyOption=!0,u.emptyOption=d.eq(f);break}o.empty();var m,g=!!u.emptyOption;s(i.cloneNode(!1)).val("?");var S=function(e,t,r){var i=e.match(Ja);if(!i)throw Ka("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,be(t));var a=i[5]||i[7],o=i[6],s=/ as /.test(i[0])&&i[1],l=i[9],c=n(i[2]?i[1]:a),u=s&&n(s)||c,h=l&&n(l),p=l?function(e,t){return h(r,t)}:function(e){return Ft(e)},f=function(e,t){return p(e,w(e,t))},d=n(i[2]||i[1]),v=n(i[3]||""),m=n(i[4]||""),g=n(i[8]),S={},w=o?function(e,t){return S[o]=t,S[a]=e,S}:function(e){return S[a]=e,S};function y(e,t,r,n,i){this.selectValue=e,this.viewValue=t,this.label=r,this.group=n,this.disabled=i}function b(e){var t;if(!o&&x(e))t=e;else for(var r in t=[],e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r);return t}return{trackBy:l,getTrackByValue:f,getWatchables:n(g,(function(e){for(var t=[],n=b(e=e||[]),a=n.length,o=0;o<a;o++){var s=e===n?o:n[o],l=e[s],c=w(l,s),u=p(l,c);if(t.push(u),i[2]||i[1]){var h=d(r,c);t.push(h)}if(i[4]){var f=m(r,c);t.push(f)}}return t})),getOptions:function(){for(var e=[],t={},n=g(r)||[],i=b(n),a=i.length,o=0;o<a;o++){var s=n===i?o:i[o],c=n[s],h=w(c,s),S=u(r,h),x=p(S,h),k=new y(x,S,d(r,h),v(r,h),m(r,h));e.push(k),t[x]=k}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return l?oe(e.viewValue):e.viewValue}}}}}(l.ngOptions,o,t),w=r[0].createDocumentFragment();function y(e,t){var r=i.cloneNode(!1);t.appendChild(r),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,r)}function b(e){var t=m.getOptionFromViewValue(e),r=t&&t.element;return r&&!r.selected&&(r.selected=!0),t}u.generateUnknownOptionValue=function(e){return"?"},p?(u.writeValue=function(e){if(m){var t=e&&e.map(b)||[];m.items.forEach((function(e){e.element.selected&&!ie(t,e)&&(e.element.selected=!1)}))}},u.readValue=function(){var e=o.val()||[],t=[];return k(e,(function(e){var r=m.selectValueMap[e];r&&!r.disabled&&t.push(m.getViewValueFromOption(r))})),t},S.trackBy&&t.$watchCollection((function(){if(W(h.$viewValue))return h.$viewValue.map((function(e){return S.getTrackByValue(e)}))}),(function(){h.$render()}))):(u.writeValue=function(e){if(m){var t=o[0].options[o[0].selectedIndex],r=m.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),r?(o[0].value!==r.selectValue&&(u.removeUnknownOption(),o[0].value=r.selectValue,r.element.selected=!0),r.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=m.selectValueMap[o.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),m.getViewValueFromOption(e)):null},S.trackBy&&t.$watch((function(){return S.getTrackByValue(h.$viewValue)}),(function(){h.$render()}))),g&&(e(u.emptyOption)(t),o.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",(function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&h.$render()})))}):u.emptyOption.removeClass("ng-scope")),t.$watchCollection(S.getWatchables,(function(){var e=m&&u.readValue();if(m)for(var t=m.items.length-1;t>=0;t--){var r=m.items[t];F(r.group)?_t(r.element.parentNode):_t(r.element)}m=S.getOptions();var n={};if(m.items.forEach((function(e){var t;F(e.group)?((t=n[e.group])||(t=a.cloneNode(!1),w.appendChild(t),t.label=null===e.group?"null":e.group,n[e.group]=t),y(e,t)):y(e,w)})),o[0].appendChild(w),h.$render(),!h.$isEmpty(e)){var i=u.readValue();(S.trackBy||p?le(e,i):e===i)||(h.$setViewValue(i),h.$render())}}))}}}}],eo=["$locale","$interpolate","$log",function(e,t,r){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,o,s){var l,c=s.count,u=s.$attr.when&&o.attr(s.$attr.when),h=s.offset||0,f=a.$eval(u)||{},d={},v=t.startSymbol(),m=t.endSymbol(),g=v+c+"-"+h+m,S=y.noop;function w(e){o.text(e||"")}k(s,(function(e,t){var r=i.exec(t);if(r){var n=(r[1]?"-":"")+p(r[2]);f[n]=o.attr(s.$attr[t])}})),k(f,(function(e,r){d[r]=t(e.replace(n,g))})),a.$watch(c,(function(t){var n=parseFloat(t),i=D(n);if(i||n in f||(n=e.pluralCat(n-h)),!(n===l||i&&D(l))){S();var o=d[n];B(o)?(null!=t&&r.debug("ngPluralize: no rule defined for '"+n+"' in "+u),S=V,w()):S=a.$watch(o,w),l=n}}))}}}],to=a("ngRef"),ro=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,r){var n=wr(ne(t)),i=e(r.ngRef),a=i.assign||function(){throw to("nonassign",'Expression in ngRef="{0}" is non-assignable!',r.ngRef)};return function(e,t,o){var s;if(o.hasOwnProperty("ngRefRead")){if("$element"===o.ngRefRead)s=t;else if(!(s=t.data("$"+o.ngRefRead+"Controller")))throw to("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',o.ngRefRead,r.ngRef)}else s=t.data("$"+n+"Controller");a(e,s=s||t),t.on("$destroy",(function(){i(e)===s&&a(e,null)}))}}}}],no=["$parse","$animate","$compile",function(e,t,r){var n=a("ngRepeat"),i=function(e,t,r,n,i,a,o){e[r]=n,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},o=function(e){return e.clone[0]},s=function(e){return e.clone[e.clone.length-1]},l=function(e,t,r){return Ft(r)},c=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(a,u){var p=u.ngRepeat,f=r.$$createComment("end ngRepeat",p),d=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw n("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var v=d[1],m=d[2],g=d[3],S=d[4];if(!(d=v.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw n("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var w,y=d[3]||d[1],b=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw n("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);if(S){var C={$id:Ft},$=e(S);w=function(e,t,r,n){return b&&(C[b]=t),C[y]=r,C.$index=n,$(e,C)}}return function(e,r,a,u,d){var v=Re();e.$watchCollection(m,(function(a){var u,m,S,$,P,T,E,_,M,A,D,L,V=r[0],I=Re();if(g&&(e[g]=a),x(a))M=a,_=w||l;else for(var O in _=w||c,M=[],a)h.call(a,O)&&"$"!==O.charAt(0)&&M.push(O);for($=M.length,D=new Array($),u=0;u<$;u++)if(P=a===M?u:M[u],T=a[P],E=_(e,P,T,u),v[E])A=v[E],delete v[E],I[E]=A,D[u]=A;else{if(I[E])throw k(D,(function(e){e&&e.scope&&(v[e.id]=e)})),n("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,E,T);D[u]={id:E,scope:void 0,clone:void 0},I[E]=!0}for(var N in C&&(C[y]=void 0),v){if(L=Fe((A=v[N]).clone),t.leave(L),L[0].parentNode)for(u=0,m=L.length;u<m;u++)L[u].$$NG_REMOVED=!0;A.scope.$destroy()}for(u=0;u<$;u++)if(P=a===M?u:M[u],T=a[P],(A=D[u]).scope){S=V;do{S=S.nextSibling}while(S&&S.$$NG_REMOVED);o(A)!==S&&t.move(Fe(A.clone),null,V),V=s(A),i(A.scope,u,y,T,b,P,$)}else d((function(e,r){A.scope=r;var n=f.cloneNode(!1);e[e.length++]=n,t.enter(e,null,V),V=n,A.clone=e,I[A.id]=A,i(A.scope,u,y,T,b,P,$)}));v=I}))}}}}],io=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,r,n){t.$watch(n.ngShow,(function(t){e[t?"removeClass":"addClass"](r,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],ao=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,r,n){t.$watch(n.ngHide,(function(t){e[t?"addClass":"removeClass"](r,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],oo=Ni((function(e,t,r){e.$watchCollection(r.ngStyle,(function(e,r){r&&e!==r&&k(r,(function(e,r){t.css(r,"")})),e&&t.css(e)}))})),so=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,n,i,a){var o=i.ngSwitch||i.on,s=[],l=[],c=[],u=[],h=function(e,t){return function(r){!1!==r&&e.splice(t,1)}};r.$watch(o,(function(r){for(var n,i;c.length;)e.cancel(c.pop());for(n=0,i=u.length;n<i;++n){var o=Fe(l[n].clone);u[n].$destroy(),(c[n]=e.leave(o)).done(h(c,n))}l.length=0,u.length=0,(s=a.cases["!"+r]||a.cases["?"])&&k(s,(function(r){r.transclude((function(n,i){u.push(i);var a=r.element;n[n.length++]=t.$$createComment("end ngSwitchWhen");var o={clone:n};l.push(o),e.enter(n,a.parent(),a)}))}))}))}}}],lo=Ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,r,n,i){k(r.ngSwitchWhen.split(r.ngSwitchWhenSeparator).sort().filter((function(e,t,r){return r[t-1]!==e})),(function(e){n.cases["!"+e]=n.cases["!"+e]||[],n.cases["!"+e].push({transclude:i,element:t})}))}}),co=Ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,r,n,i){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:i,element:t})}}),uo=a("ngTransclude"),ho=["$compile",function(e){return{restrict:"EAC",compile:function(t){var r=e(t.contents());return t.empty(),function(e,t,n,i,a){if(!a)throw uo("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",be(t));n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude="");var o=n.ngTransclude||n.ngTranscludeSlot;function s(){r(e,(function(e){t.append(e)}))}a((function(e,r){e.length&&function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t];if(n.nodeType!==je||n.nodeValue.trim())return!0}}(e)?t.append(e):(s(),r.$destroy())}),null,o),o&&!a.isSlotFilled(o)&&s()}}}}],po=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,r){if("text/ng-template"===r.type){var n=r.id,i=t[0].text;e.put(n,i)}}}}],fo={$setViewValue:V,$render:V};function vo(e,t){e.prop("selected",t),e.attr("selected",t)}var mo=["$element","$scope",function(e,r){var n=this,i=new jt;n.selectValueMap={},n.ngModelCtrl=fo,n.multiple=!1,n.unknownOption=s(t.document.createElement("option")),n.hasEmptyOption=!1,n.emptyOption=void 0,n.renderUnknownOption=function(t){var r=n.generateUnknownOptionValue(t);n.unknownOption.val(r),e.prepend(n.unknownOption),vo(n.unknownOption,!0),e.val(r)},n.updateUnknownOption=function(t){var r=n.generateUnknownOptionValue(t);n.unknownOption.val(r),vo(n.unknownOption,!0),e.val(r)},n.generateUnknownOptionValue=function(e){return"? "+Ft(e)+" ?"},n.removeUnknownOption=function(){n.unknownOption.parent()&&n.unknownOption.remove()},n.selectEmptyOption=function(){n.emptyOption&&(e.val(""),vo(n.emptyOption,!0))},n.unselectEmptyOption=function(){n.hasEmptyOption&&vo(n.emptyOption,!1)},r.$on("$destroy",(function(){n.renderUnknownOption=V})),n.readValue=function(){var t=e.val(),r=t in n.selectValueMap?n.selectValueMap[t]:t;return n.hasOption(r)?r:null},n.writeValue=function(t){var r=e[0].options[e[0].selectedIndex];if(r&&vo(s(r),!1),n.hasOption(t)){n.removeUnknownOption();var i=Ft(t);e.val(i in n.selectValueMap?i:t);var a=e[0].options[e[0].selectedIndex];vo(s(a),!0)}else n.selectUnknownOrEmptyOption(t)},n.addOption=function(e,t){if(8!==t[0].nodeType){Be(e,'"option value"'),""===e&&(n.hasEmptyOption=!0,n.emptyOption=t);var r=i.get(e)||0;i.set(e,r+1),o()}},n.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(n.hasEmptyOption=!1,n.emptyOption=void 0)):i.set(e,t-1))},n.hasOption=function(e){return!!i.get(e)},n.$hasEmptyOption=function(){return n.hasEmptyOption},n.$isUnknownOptionSelected=function(){return e[0].options[0]===n.unknownOption[0]},n.$isEmptyOptionSelected=function(){return n.hasEmptyOption&&e[0].options[e[0].selectedIndex]===n.emptyOption[0]},n.selectUnknownOrEmptyOption=function(e){null==e&&n.emptyOption?(n.removeUnknownOption(),n.selectEmptyOption()):n.unknownOption.parent().length?n.updateUnknownOption(e):n.renderUnknownOption(e)};var a=!1;function o(){a||(a=!0,r.$$postDigest((function(){a=!1,n.ngModelCtrl.$render()})))}var l=!1;function c(e){l||(l=!0,r.$$postDigest((function(){r.$$destroyed||(l=!1,n.ngModelCtrl.$setViewValue(n.readValue()),e&&n.ngModelCtrl.$render())})))}n.registerOption=function(e,t,r,i,a){var s,l;r.$attr.ngValue?r.$observe("value",(function(e){var r,i=t.prop("selected");F(l)&&(n.removeOption(s),delete n.selectValueMap[l],r=!0),l=Ft(e),s=e,n.selectValueMap[l]=e,n.addOption(e,t),t.attr("value",l),r&&i&&c()})):i?r.$observe("value",(function(e){var r;n.readValue();var i=t.prop("selected");F(s)&&(n.removeOption(s),r=!0),s=e,n.addOption(e,t),r&&i&&c()})):a?e.$watch(a,(function(e,i){r.$set("value",e);var a=t.prop("selected");i!==e&&n.removeOption(i),n.addOption(e,t),i&&a&&c()})):n.addOption(r.value,t);r.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(n.multiple?c(!0):(n.ngModelCtrl.$setViewValue(null),n.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=n.readValue(),t=r.value;n.removeOption(t),o(),(n.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)}))}}],go=function(){return{restrict:"E",require:["select","?ngModel"],controller:mo,priority:1,link:{pre:function(e,t,r,n){var i=n[0],a=n[1];if(!a)return void(i.registerOption=V);if(i.ngModelCtrl=a,t.on("change",(function(){i.removeUnknownOption(),e.$apply((function(){a.$setViewValue(i.readValue())}))})),r.multiple){i.multiple=!0,i.readValue=function(){var e=[];return k(t.find("option"),(function(t){if(t.selected&&!t.disabled){var r=t.value;e.push(r in i.selectValueMap?i.selectValueMap[r]:r)}})),e},i.writeValue=function(e){k(t.find("option"),(function(t){var r=!!e&&(ie(e,t.value)||ie(e,i.selectValueMap[t.value]));r!==t.selected&&vo(s(t),r)}))};var o,l=NaN;e.$watch((function(){l!==a.$viewValue||le(o,a.$viewValue)||(o=ze(a.$viewValue),a.$render()),l=a.$viewValue})),a.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,r,n){var i=n[1];if(!i)return;var a=n[0];i.$render=function(){a.writeValue(i.$viewValue)}}}}},So=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,r){var n,i;return F(r.ngValue)||(F(r.value)?n=e(r.value,!0):(i=e(t.text(),!0))||r.$set("value",t.text())),function(e,t,r){var a=t.parent(),o=a.data("$selectController")||a.parent().data("$selectController");o&&o.registerOption(e,t,r,n,i)}}}}],wo=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,r,n,i){if(i){var a=n.hasOwnProperty("required")||e(n.ngRequired)(t);n.ngRequired||(n.required=!0),i.$validators.required=function(e,t){return!a||!i.$isEmpty(t)},n.$observe("required",(function(e){a!==e&&(a=e,i.$validate())}))}}}}],yo=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,r){var n,i;return r.ngPattern&&(n=r.ngPattern,i="/"===r.ngPattern.charAt(0)&&u.test(r.ngPattern)?function(){return r.ngPattern}:e(r.ngPattern)),function(e,t,r,a){if(a){var o=r.pattern;r.ngPattern?o=i(e):n=r.pattern;var s=ko(o,n,t);r.$observe("pattern",(function(e){var r=s;s=ko(e,n,t),(r&&r.toString())!==(s&&s.toString())&&a.$validate()})),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||B(s)||s.test(t)}}}}}}],bo=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,r,n,i){if(i){var a=n.maxlength||e(n.ngMaxlength)(t),o=Co(a);n.$observe("maxlength",(function(e){a!==e&&(o=Co(e),a=e,i.$validate())})),i.$validators.maxlength=function(e,t){return o<0||i.$isEmpty(t)||t.length<=o}}}}}],xo=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,r,n,i){if(i){var a=n.minlength||e(n.ngMinlength)(t),o=Co(a)||-1;n.$observe("minlength",(function(e){a!==e&&(o=Co(e)||-1,a=e,i.$validate())})),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=o}}}}}];function ko(e,t,r){if(e){if(j(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw a("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,be(r));return e}}function Co(e){var t=A(e);return D(t)?-1:t}t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var r;if(!Ve){var n=ue();(l=B(n)?e:n?t[n]:void 0)&&l.fn.on?(s=l,_(l.fn,{scope:At.scope,isolateScope:At.isolateScope,controller:At.controller,injector:At.injector,inheritedData:At.inheritedData})):s=ft,r=s.cleanData,s.cleanData=function(e){for(var t,n,i=0;null!=(n=e[i]);i++)(t=(s._data(n)||{}).events)&&t.$destroy&&s(n).triggerHandler("$destroy");r(e)},y.element=s,Ve=!0}}(),function(e){_(e,{errorHandlingConfig:n,bootstrap:_e,copy:oe,extend:_,merge:M,equals:le,element:s,forEach:k,injector:Jt,noop:V,bind:fe,toJson:ve,fromJson:me,identity:I,isUndefined:B,isDefined:F,isString:j,isFunction:q,isObject:R,isNumber:z,isElement:re,isArray:W,version:We,isDate:U,callbacks:{$$counter:0},getTestability:Ae,reloadWithDebugInfo:Me,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Ie,$$minErr:a,$$csp:ce,$$encodeUriSegment:Ce,$$encodeUriQuery:$e,$$lowercase:p,$$stringify:He,$$uppercase:f}),(c=function(e){var t=a("$injector"),r=a("ng");function n(e,t,r){return e[t]||(e[t]=r())}var i=n(e,"angular",Object);return i.$$minErr=i.$$minErr||a,n(i,"module",(function(){var e={};return function(i,a,o){var s={};return function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)}(i,"module"),a&&e.hasOwnProperty(i)&&(e[i]=null),n(e,i,(function(){if(!a)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],n=[],l=[],c=h("$injector","invoke","push",n),u={_invokeQueue:e,_configBlocks:n,_runBlocks:l,info:function(e){if(F(e)){if(!R(e))throw r("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:a,name:i,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:p("$provide","decorator",n),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return o&&c(o),u;function h(t,r,n,i){return i||(i=e),function(){return i[n||"push"]([t,r,arguments]),u}}function p(t,r,n){return n||(n=e),function(e,a){return a&&q(a)&&(a.$$moduleName=i),n.push([t,r,arguments]),u}}}))}}))}(t))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:zn}),e.provider("$compile",vr).directive({a:Bi,input:ma,textarea:ma,form:zi,script:po,select:go,option:So,ngBind:ya,ngBindHtml:xa,ngBindTemplate:ba,ngClass:$a,ngClassEven:Ta,ngClassOdd:Pa,ngCloak:Ea,ngController:_a,ngForm:Ui,ngHide:ao,ngIf:La,ngInclude:Va,ngInit:Oa,ngNonBindable:Za,ngPluralize:eo,ngRef:ro,ngRepeat:no,ngShow:io,ngStyle:oo,ngSwitch:so,ngSwitchWhen:lo,ngSwitchDefault:co,ngOptions:Qa,ngTransclude:ho,ngModel:Wa,ngList:Na,ngChange:ka,pattern:yo,ngPattern:yo,required:wo,ngRequired:wo,minlength:xo,ngMinlength:xo,maxlength:bo,ngMaxlength:bo,ngValue:wa,ngModelOptions:Ya}).directive({ngInclude:Ia,input:ga}).directive(Fi).directive(Ma),e.provider({$anchorScroll:Qt,$animate:ar,$animateCss:lr,$$animateJs:nr,$$animateQueue:ir,$$AnimateRunner:sr,$$animateAsyncRun:or,$browser:ur,$cacheFactory:hr,$controller:$r,$document:Pr,$$isDocumentHidden:Tr,$exceptionHandler:Er,$filter:di,$$forceReflow:_r,$interpolate:qr,$interval:Xr,$$intervalFactory:Zr,$http:zr,$httpParamSerializer:Or,$httpParamSerializerJQLike:Nr,$httpBackend:Wr,$xhrFactory:Ur,$jsonpCallbacks:Kr,$location:vn,$log:mn,$parse:Vn,$rootScope:jn,$q:In,$$q:On,$sce:Zn,$sceDelegate:Xn,$sniffer:Kn,$$taskTrackerFactory:Jn,$templateCache:pr,$templateRequest:ti,$$testability:ri,$timeout:ii,$window:hi,$$rAF:Hn,$$jqLite:Bt,$$Map:zt,$$cookieReader:fi})}]).info({angularVersion:"1.8.0"})}(y),y.module("ngLocale",[],["$provide",function(e){var t="one",r="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var i=0|e,a=function(e,t){var r=t;void 0===r&&(r=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var n=Math.pow(10,r);return{v:r,f:(e*n|0)%n}}(e,n);return 1==i&&0==a.v?t:r}})}]),s((function(){Ee(t.document,_e)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))}).call(this,r(19))},function(e,t,r){r(194),e.exports="ngAnimate"},function(e,t){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";var r,n,i,a;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",r="WebkitTransition",n="webkitTransitionEnd transitionend"):(r="transition",n="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",i="WebkitAnimation",a="webkitAnimationEnd animationend"):(i="animation",a="animationend");var o=i+"Delay",s=i+"Duration",l=r+"Delay",c=r+"Duration",u=t.$$minErr("ng");function h(e,t,r){if(!e)throw u("areq","Argument '{0}' is {1}",t||"?",r||"required");return e}function p(e,t){return e||t?e?t?(B(e)&&(e=e.join(" ")),B(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function f(e,t,r){var n="";return e=B(e)?e:e&&z(e)&&e.length?e.split(/\s+/):[],N(e,(function(e,i){e&&e.length>0&&(n+=i>0?" ":"",n+=r?t+e:e+t)})),n}function d(e){if(e instanceof W)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return W(v(e))}if(1===e.nodeType)return W(e)}function v(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var r=e[t];if(1===r.nodeType)return r}}function m(e){return function(t,r){r.addClass&&(!function(e,t,r){N(t,(function(t){e.addClass(t,r)}))}(e,t,r.addClass),r.addClass=null),r.removeClass&&(!function(e,t,r){N(t,(function(t){e.removeClass(t,r)}))}(e,t,r.removeClass),r.removeClass=null)}}function g(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||G;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=G},e.$$prepared=!0}return e}function S(e,t){w(e,t),y(e,t)}function w(e,t){t.from&&(e.css(t.from),t.from=null)}function y(e,t){t.to&&(e.css(t.to),t.to=null)}function b(e,t,r){var n=t.options||{},i=r.options||{},a=(n.addClass||"")+" "+(i.addClass||""),o=(n.removeClass||"")+" "+(i.removeClass||""),s=function(e,t,r){var n={};e=a(e),t=a(t),N(t,(function(e,t){n[t]=1})),r=a(r),N(r,(function(e,t){n[t]=1===n[t]?null:-1}));var i={addClass:"",removeClass:""};function a(e){z(e)&&(e=e.split(" "));var t={};return N(e,(function(e){e.length&&(t[e]=!0)})),t}return N(n,(function(t,r){var n,a;1===t?(n="addClass",a=!e[r]||e[r+"-remove"]):-1===t&&(n="removeClass",a=e[r]||e[r+"-add"]),a&&(i[n].length&&(i[n]+=" "),i[n]+=r)})),i}(e.attr("class"),a,o);i.preparationClasses&&(n.preparationClasses=$(i.preparationClasses,n.preparationClasses),delete i.preparationClasses);var l=n.domOperation!==G?n.domOperation:null;return O(n,i),l&&(n.domOperation=l),s.addClass?n.addClass=s.addClass:n.addClass=null,s.removeClass?n.removeClass=s.removeClass:n.removeClass=null,t.addClass=n.addClass,t.removeClass=n.removeClass,n}function x(e){return e instanceof W?e[0]:e}function k(e,t){var r=t?"paused":"",n=i+"PlayState";return C(e,[n,r]),[n,r]}function C(e,t){var r=t[0],n=t[1];e.style[r]=n}function $(e,t){return e?t?e+" "+t:e:t}var P=function(e,t){var r=t?"-"+t+"s":"";return C(e,[l,r]),[l,r]},T=["$interpolate",function(e){return{link:function(t,r,n){var i=n.ngAnimateChildren;function a(e){e="on"===e||"true"===e,r.data("$$ngAnimateChildren",e)}z(i)&&0===i.length?r.data("$$ngAnimateChildren",!0):(a(e(i)(t)),n.$observe("ngAnimateChildren",a))}}}],E={transitionDuration:c,transitionDelay:l,transitionProperty:r+"Property",animationDuration:s,animationDelay:o,animationIterationCount:i+"IterationCount"},_={transitionDuration:c,transitionDelay:l,animationDuration:s,animationDelay:o};function M(e,t){return[t?o:l,e+"s"]}function A(e,t,r){var n=Object.create(null),i=e.getComputedStyle(t)||{};return N(r,(function(e,t){var r,a,o=i[e];if(o){var s=o.charAt(0);("-"===s||"+"===s||s>=0)&&(r=0,a=o.split(/\s*,\s*/),N(a,(function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,r=r?Math.max(e,r):e})),o=r),0===o&&(o=null),n[t]=o}})),n}function D(e){return 0===e||null!=e}function L(e,t){var n=r,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function V(e,t,r){N(r,(function(r){e[r]=F(e[r])?e[r]:t.style.getPropertyValue(r)}))}var I,O,N,B,F,R,H,j,z,U,W,G,q=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,t,o,l,c,u,h,p,d){var v=m(t);var b=[];function $(e){b.push(e),p.waitUntilQuiet((function(){c.flush();for(var e=u(),t=0;t<b.length;t++)b[t](e);b.length=0}))}function T(t,r,n,i){var a=function(t,r,n,i,a){var o=c.get(n);o||"infinite"===(o=A(e,t,a)).animationIterationCount&&(o.animationIterationCount=1);var s=i||o.transitionDuration>0||o.animationDuration>0;return c.put(n,o,s),o}(t,0,n,i,E),o=a.animationDelay,s=a.transitionDelay;return a.maxDelay=o&&s?Math.max(o,s):o||s,a.maxDuration=Math.max(a.animationDuration*a.animationIterationCount,a.transitionDuration),a}return function(u,p){var m=p||{};m.$$prepared||(m=g(I(m)));var b={},E=x(u);if(!E||!E.parentNode||!d.enabled())return xe();var O,F,R,H,j,z,U,W,q,Y,X=[],Z=(u.attr("class"),function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(m)),K=[];if(0===m.duration||!h.animations&&!h.transitions)return xe();var J=m.event&&B(m.event)?m.event.join(" "):m.event,Q=J&&m.structural,ee="",te="";Q?ee=f(J,"ng-",!0):J&&(ee=J),m.addClass&&(te+=f(m.addClass,"-add")),m.removeClass&&(te.length&&(te+=" "),te+=f(m.removeClass,"-remove")),m.applyClassesEarly&&te.length&&v(u,m);var re=[ee,te].join(" ").trim(),ne=Z.to&&Object.keys(Z.to).length>0;if(!((m.keyframeStyle||"").length>0)&&!ne&&!re)return xe();var ie,ae,oe=c.cacheKey(E,J,m.addClass,m.removeClass);if(c.containsCachedAnimationWithoutDuration(oe))return re=null,xe();if(m.stagger>0){var se=parseFloat(m.stagger);ie={transitionDelay:se,animationDelay:se,transitionDuration:0,animationDuration:0}}else ie=function(r,n,i,a){var o,s="stagger-"+i;if(c.count(i)>0&&!(o=c.get(s))){var l=f(n,"-stagger");t.addClass(r,l),(o=A(e,r,a)).animationDuration=Math.max(o.animationDuration,0),o.transitionDuration=Math.max(o.transitionDuration,0),t.removeClass(r,l),c.put(s,o,!0)}return o||{}}(E,re,oe,_);if(m.$$skipPreparationClasses||t.addClass(u,re),m.transitionStyle){var le=[r,m.transitionStyle];C(E,le),X.push(le)}if(m.duration>=0){ae=E.style[r].length>0;var ce=L(m.duration,ae);C(E,ce),X.push(ce)}if(m.keyframeStyle){var ue=[i,m.keyframeStyle];C(E,ue),X.push(ue)}var he=ie?m.staggerIndex>=0?m.staggerIndex:c.count(oe):0,pe=0===he;pe&&!m.skipBlocking&&P(E,9999);var fe=T(E,0,oe,!Q),de=fe.maxDelay;z=Math.max(de,0),W=fe.maxDuration;var ve={};if(ve.hasTransitions=fe.transitionDuration>0,ve.hasAnimations=fe.animationDuration>0,ve.hasTransitionAll=ve.hasTransitions&&"all"===fe.transitionProperty,ve.applyTransitionDuration=ne&&(ve.hasTransitions&&!ve.hasTransitionAll||ve.hasAnimations&&!ve.hasTransitions),ve.applyAnimationDuration=m.duration&&ve.hasAnimations,ve.applyTransitionDelay=D(m.delay)&&(ve.applyTransitionDuration||ve.hasTransitions),ve.applyAnimationDelay=D(m.delay)&&ve.hasAnimations,ve.recalculateTimingStyles=te.length>0,(ve.applyTransitionDuration||ve.applyAnimationDuration)&&(W=m.duration?parseFloat(m.duration):W,ve.applyTransitionDuration&&(ve.hasTransitions=!0,fe.transitionDuration=W,ae=E.style[r+"Property"].length>0,X.push(L(W,ae))),ve.applyAnimationDuration&&(ve.hasAnimations=!0,fe.animationDuration=W,X.push([s,W+"s"]))),0===W&&!ve.recalculateTimingStyles)return xe();var me,ge=f(re,"-active");null!=m.delay&&("boolean"!=typeof m.delay&&(me=parseFloat(m.delay),z=Math.max(me,0)),ve.applyTransitionDelay&&X.push(M(me)),ve.applyAnimationDelay&&X.push(M(me,!0)));return null==m.duration&&fe.transitionDuration>0&&(ve.recalculateTimingStyles=ve.recalculateTimingStyles||pe),U=1e3*z,q=1e3*W,m.skipBlocking||(ve.blockTransition=fe.transitionDuration>0,ve.blockKeyframeAnimation=fe.animationDuration>0&&ie.animationDelay>0&&0===ie.animationDuration),m.from&&(m.cleanupStyles&&V(b,E,Object.keys(m.from)),w(u,m)),ve.blockTransition||ve.blockKeyframeAnimation?be(W):m.skipBlocking||P(E,!1),{$$willAnimate:!0,end:Se,start:function(){if(!O)return H=new o(j={end:Se,cancel:we,resume:null,pause:null}),$(Ce),H}};function Se(){ye()}function we(){ye(!0)}function ye(e){if(!(O||R&&F)){O=!0,F=!1,re&&!m.$$skipPreparationClasses&&t.removeClass(u,re),ge&&t.removeClass(u,ge),k(E,!1),P(E,!1),N(X,(function(e){E.style[e[0]]=""})),v(u,m),S(u,m),Object.keys(b).length&&N(b,(function(e,t){e?E.style.setProperty(t,e):E.style.removeProperty(t)})),m.onDone&&m.onDone(),K&&K.length&&u.off(K.join(" "),ke);var r=u.data("$$animateCss");r&&(l.cancel(r[0].timer),u.removeData("$$animateCss")),H&&H.complete(!e)}}function be(e){ve.blockTransition&&P(E,e),ve.blockKeyframeAnimation&&k(E,!!e)}function xe(){return H=new o({end:Se,cancel:we}),$(G),ye(),{$$willAnimate:!1,start:function(){return H},end:Se}}function ke(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===E){var r=t.$manualTimeStamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(3));Math.max(r-Y,0)>=U&&n>=W&&(R=!0,ye())}}function Ce(){if(!O)if(E.parentNode){var e=function(e){if(R)F&&e&&(F=!1,ye());else if(F=!e,fe.animationDuration){var t=k(E,F);F?X.push(t):(n=t,i=(r=X).indexOf(n),n>=0&&r.splice(i,1))}var r,n,i},o=he>0&&(fe.transitionDuration&&0===ie.transitionDuration||fe.animationDuration&&0===ie.animationDuration)&&Math.max(ie.animationDelay,ie.transitionDelay);o?l(s,Math.floor(o*he*1e3),!1):s(),j.resume=function(){e(!0)},j.pause=function(){e(!1)}}else ye();function s(){if(!O){if(be(!1),N(X,(function(e){var t=e[0],r=e[1];E.style[t]=r})),v(u,m),t.addClass(u,ge),ve.recalculateTimingStyles){if(E.getAttribute("class")+" "+re,oe=c.cacheKey(E,J,m.addClass,m.removeClass),fe=T(E,0,oe,!1),de=fe.maxDelay,z=Math.max(de,0),0===(W=fe.maxDuration))return void ye();ve.hasTransitions=fe.transitionDuration>0,ve.hasAnimations=fe.animationDuration>0}if(ve.applyAnimationDelay&&(de="boolean"!=typeof m.delay&&D(m.delay)?parseFloat(m.delay):de,z=Math.max(de,0),fe.animationDelay=de,me=M(de,!0),X.push(me),E.style[me[0]]=me[1]),U=1e3*z,q=1e3*W,m.easing){var e,o=m.easing;ve.hasTransitions&&(e=r+"TimingFunction",X.push([e,o]),E.style[e]=o),ve.hasAnimations&&(e=i+"TimingFunction",X.push([e,o]),E.style[e]=o)}fe.transitionDuration&&K.push(n),fe.animationDuration&&K.push(a),Y=Date.now();var s=U+1.5*q,p=Y+s,f=u.data("$$animateCss")||[],d=!0;if(f.length){var g=f[0];(d=p>g.expectedEndTime)?l.cancel(g.timer):f.push(ye)}if(d){var S=l(h,s,!1);f[0]={timer:S,expectedEndTime:p},f.push(ye),u.data("$$animateCss",f)}K.length&&u.on(K.join(" "),ke),m.to&&(m.cleanupStyles&&V(b,E,Object.keys(m.to)),y(u,m))}}function h(){var e=u.data("$$animateCss");if(e){for(var t=1;t<e.length;t++)e[t]();u.removeData("$$animateCss")}}}}}]}],Y=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,r,n,i,a,o){if(!i.animations&&!i.transitions)return G;var s,l=o[0].body,c=x(n),u=W((s=c).parentNode&&11===s.parentNode.nodeType||l.contains(c)?c:l);return function(t){return t.from&&t.to?function(t,n,i,a){var o=f(t),s=f(n),c=[];if(N(a,(function(t){var n=function(t,n,i){var a=W(x(n).cloneNode(!0)),o=h(v(a));n.addClass("ng-animate-shim"),i.addClass("ng-animate-shim"),a.addClass("ng-anchor"),u.append(a);var s,c=function(){var t=e(a,{addClass:"ng-anchor-out",delay:!0,from:d(n)});return t.$$willAnimate?t:null}();if(!c&&!(s=m()))return g();var f=c||s;return{start:function(){var e,t=f.start();return t.done((function(){if(t=null,!s&&(s=m()))return(t=s.start()).done((function(){t=null,g(),e.complete()})),t;g(),e.complete()})),e=new r({end:n,cancel:n});function n(){t&&t.end()}}};function d(e){var t={},r=x(e).getBoundingClientRect();return N(["width","height","top","left"],(function(e){var n=r[e];switch(e){case"top":n+=l.scrollTop;break;case"left":n+=l.scrollLeft}t[e]=Math.floor(n)+"px"})),t}function v(e){return e.attr("class")||""}function m(){var t=h(v(i)),r=p(t,o),n=p(o,t),s=e(a,{to:d(i),addClass:"ng-anchor-in "+r,removeClass:"ng-anchor-out "+n,delay:!0});return s.$$willAnimate?s:null}function g(){a.remove(),n.removeClass("ng-animate-shim"),i.removeClass("ng-animate-shim")}}(0,t.out,t.in);n&&c.push(n)})),!o&&!s&&0===c.length)return;return{start:function(){var e=[];o&&e.push(o.start()),s&&e.push(s.start()),N(c,(function(t){e.push(t.start())}));var t=new r({end:n,cancel:n});return r.all(e,(function(e){t.complete(e)})),t;function n(){N(e,(function(e){e.end()}))}}}}(t.from,t.to,t.classes,t.anchors):f(t)};function h(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return z(e)&&(e=e.split(" ")),z(t)&&(t=t.split(" ")),e.filter((function(e){return-1===t.indexOf(e)})).join(" ")}function f(t){var r=t.element,n=t.options||{};t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=$(n.event,n.preparationClasses));var i=e(r,n);return i.$$willAnimate?i:null}}]}],X=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,r,n){var i=m(n);return function(e,t,n,o){var s=!1;3===arguments.length&&j(n)&&(o=n,n=null),o=g(o),n||(n=e.attr("class")||"",o.addClass&&(n+=" "+o.addClass),o.removeClass&&(n+=" "+o.removeClass));var l,c,u,h,p,f=o.addClass,d=o.removeClass,v=a(n);v.length&&("leave"===t?(h="leave",u="afterLeave"):(h="before"+t.charAt(0).toUpperCase()+t.substr(1),u=t),"enter"!==t&&"move"!==t&&(l=x(e,t,o,v,h)),c=x(e,t,o,v,u));if(l||c)return{$$willAnimate:!0,end:function(){return p?p.end():(w(),(p=new r).complete(!0)),p},start:function(){if(p)return p;var e;p=new r;var t=[];return l&&t.push((function(t){e=l(t)})),t.length?t.push((function(e){m(),e(!0)})):m(),c&&t.push((function(t){e=c(t)})),p.setHost({end:function(){i()},cancel:function(){i(!0)}}),r.chain(t,n),p;function n(e){w(),p.complete(e)}function i(t){s||((e||G)(t),n(t))}}};function m(){o.domOperation(),i(e,o)}function w(){s=!0,m(),S(e,o)}function y(e,t,n,i,a){var o;switch(n){case"animate":o=[t,i.from,i.to,a];break;case"setClass":o=[t,f,d,a];break;case"addClass":o=[t,f,a];break;case"removeClass":o=[t,d,a];break;default:o=[t,a]}o.push(i);var s=e.apply(e,o);if(s)if(H(s.start)&&(s=s.start()),s instanceof r)s.done(a);else if(H(s))return s;return G}function b(e,t,n,i,a){var o=[];return N(i,(function(i){var s=i[a];s&&o.push((function(){var i,a,o=!1,l=function(e){o||(o=!0,(a||G)(e),i.complete(!e))};return i=new r({end:function(){l()},cancel:function(){l(!0)}}),a=y(s,e,t,n,(function(e){l(!1===e)})),i}))})),o}function x(e,t,n,i,a){var o,s,l=b(e,t,n,i,a);0===l.length&&("beforeSetClass"===a?(o=b(e,"removeClass",n,i,"beforeRemoveClass"),s=b(e,"addClass",n,i,"beforeAddClass")):"setClass"===a&&(o=b(e,"removeClass",n,i,"removeClass"),s=b(e,"addClass",n,i,"addClass")),o&&(l=l.concat(o)),s&&(l=l.concat(s)));if(0!==l.length)return function(e){var t=[];return l.length&&N(l,(function(e){t.push(e())})),t.length?r.all(t,e):e(),function(e){N(t,(function(t){e?t.cancel():t.end()}))}}}};function a(r){r=B(r)?r:r.split(" ");for(var n=[],i={},a=0;a<r.length;a++){var o=r[a],s=e.$$registeredAnimations[o];s&&!i[o]&&(n.push(t.get(s)),i[o]=!0)}return n}}]}],Z=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function(e){if(e.from&&e.to){var n=r(e.from),i=r(e.to);if(!n&&!i)return;return{start:function(){var e=[];n&&e.push(n.start()),i&&e.push(i.start()),t.all(e,(function(e){r.complete(e)}));var r=new t({end:a(),cancel:a()});return r;function a(){return function(){N(e,(function(e){e.end()}))}}}}}return r(e)};function r(t){var r=t.element,n=t.event,i=t.options,a=t.classes;return e(r,n,a,i)}}]}],K=["$animateProvider",function(t){var r=this.rules={skip:[],cancel:[],join:[]};function n(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function i(e,t){if(e&&t){var r=function(e){if(!e)return null;var t=e.split(" "),r=Object.create(null);return N(t,(function(e){r[e]=!0})),r}(t);return e.split(" ").some((function(e){return r[e]}))}}function a(e,t,n){return r[e].some((function(e){return e(t,n)}))}function o(e,t){var r=(e.addClass||"").length>0,n=(e.removeClass||"").length>0;return t?r&&n:r||n}r.join.push((function(e,t){return!e.structural&&o(e)})),r.skip.push((function(e,t){return!e.structural&&!o(e)})),r.skip.push((function(e,t){return"leave"===t.event&&e.structural})),r.skip.push((function(e,t){return t.structural&&2===t.state&&!e.structural})),r.cancel.push((function(e,t){return t.structural&&e.structural})),r.cancel.push((function(e,t){return 2===t.state&&e.structural})),r.cancel.push((function(e,t){if(t.structural)return!1;var r=e.addClass,n=e.removeClass,a=t.addClass,o=t.removeClass;return!(U(r)&&U(n)||U(a)&&U(o))&&(i(r,o)||i(n,a))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,i,s,l,c,u,p,w,y,k,C){var P=new c,T=new c,E=null;function _(e){T.delete(e.target)}var M=i.$watch((function(){return 0===w.totalPendingRequests}),(function(e){e&&(M(),i.$$postDigest((function(){i.$$postDigest((function(){null===E&&(E=!0)}))})))})),A=Object.create(null),D=t.customFilter(),L=t.classNameFilter(),V=function(){return!0},H=D||V,G=L?function(e,t){var r=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return L.test(r)}:V,q=m(y);function Y(e,t){return b(e,t,{})}var X=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function Z(e,t,r){var n=v(t);return e.filter((function(e){return!(e.node===n&&(!r||e.callback===r))}))}function K(e,t){"close"!==e||t.parentNode||J.off(t)}var J={on:function(e,t,r){var n=v(t);A[e]=A[e]||[],A[e].push({node:n,callback:r}),W(t).on("$destroy",(function(){P.get(n)||J.off(e,t,r)}))},off:function(e,t,r){if(1!==arguments.length||z(arguments[0])){var n=A[e];n&&(A[e]=1===arguments.length?null:Z(n,t,r))}else for(var i in t=arguments[0],A)A[i]=Z(A[i],t)},pin:function(e,t){h(R(e),"element","not an element"),h(R(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,c,h){return(c=c||{}).domOperation=h,function(e,t,c){var h=I(c),v=d(e),m=x(v),w=m&&m.parentNode;h=g(h);var y=new p,k=(_=!1,function(e){_?e():i.$$postDigest((function(){_=!0,e()}))});var _;B(h.addClass)&&(h.addClass=h.addClass.join(" "));h.addClass&&!z(h.addClass)&&(h.addClass=null);B(h.removeClass)&&(h.removeClass=h.removeClass.join(" "));h.removeClass&&!z(h.removeClass)&&(h.removeClass=null);h.from&&!j(h.from)&&(h.from=null);h.to&&!j(h.to)&&(h.to=null);if(!(E&&m&&H(m,t,c)&&G(m,h)))return re(),y;var M=["enter","move","leave"].indexOf(t)>=0,D=C(),L=D||T.get(m),V=!L&&P.get(m)||{},O=!!V.state;L||O&&1===V.state||(L=!function(e,t,r){var n,i=l[0].body,a=x(s),o=e===i||"HTML"===e.nodeName,c=e===a,u=!1,h=T.get(e),p=W.data(e,"$ngAnimatePin");p&&(t=x(p));for(;t&&(c||(c=t===a),1===t.nodeType);){var f=P.get(t)||{};if(!u){var d=T.get(t);if(!0===d&&!1!==h){h=!0;break}!1===d&&(h=!1),u=f.structural}if(U(n)||!0===n){var v=W.data(t,"$$ngAnimateChildren");F(v)&&(n=v)}if(u&&!1===n)break;if(o||(o=t===i),o&&c)break;t=c||!(p=W.data(t,"$ngAnimatePin"))?t.parentNode:x(p)}return(!u||n)&&!0!==h&&c&&o}(m,w));if(L)return D&&te(y,t,"start",n(h)),re(),D&&te(y,t,"close",n(h)),y;M&&function(e){var t=e.querySelectorAll("[data-ng-animate]");N(t,(function(e){var t=parseInt(e.getAttribute("data-ng-animate"),10),r=P.get(e);if(r)switch(t){case 2:r.runner.end();case 1:P.delete(e)}}))}(m);var R={structural:M,element:v,event:t,addClass:h.addClass,removeClass:h.removeClass,close:re,options:h,runner:y};if(O){if(a("skip",R,V))return 2===V.state?(re(),y):(b(v,V,R),V.runner);if(a("cancel",R,V))if(2===V.state)V.runner.end();else{if(!V.structural)return b(v,V,R),V.runner;V.close()}else if(a("join",R,V)){if(2!==V.state)return function(e,t,r,n){var i="";r&&(i=f(r,"ng-",!0)),n.addClass&&(i=$(i,f(n.addClass,"-add"))),n.removeClass&&(i=$(i,f(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,t.addClass(i))}(0,v,M?t:null,h),t=R.event=V.event,h=b(v,V,R),V.runner;Y(v,R)}}else Y(v,R);var Z=R.structural;Z||(Z="animate"===R.event&&Object.keys(R.options.to||{}).length>0||o(R));if(!Z)return re(),Q(m),y;var J=(V.counter||0)+1;return R.counter=J,ee(m,1,R),i.$$postDigest((function(){v=d(e);var r=P.get(m),i=!r;r=r||{};var a=(v.parent()||[]).length>0&&("animate"===r.event||r.structural||o(r));if(i||r.counter!==J||!a)return i&&(q(v,h),S(v,h)),(i||M&&r.event!==t)&&(h.domOperation(),y.end()),void(a||Q(m));t=!r.structural&&o(r,!0)?"setClass":r.event,ee(m,2);var s=u(v,t,r.options);y.setHost(s),te(y,t,"start",n(h)),s.done((function(e){re(!e);var r=P.get(m);r&&r.counter===J&&Q(m),te(y,t,"close",n(h))}))})),y;function te(e,t,n,i){k((function(){var e=function(e,t,r){var n=[],i=A[r];return i&&N(i,(function(i){(X.call(i.node,t)||"leave"===r&&X.call(i.node,e))&&n.push(i.callback)})),n}(w,m,t);e.length?r((function(){N(e,(function(e){e(v,n,i)})),K(n,m)})):K(n,m)})),e.progress(t,n,i)}function re(e){!function(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}(v,h),q(v,h),S(v,h),h.domOperation(),y.complete(!e)}}(e,t,c)},enabled:function(e,t){var r=arguments.length;if(0===r)t=!!E;else{var n=R(e);if(n){var i=x(e);1===r?t=!T.get(i):(T.has(i)||W(e).on("$destroy",_),T.set(i,!t))}else t=E=!!e}return t}};return J;function Q(e){e.removeAttribute("data-ng-animate"),P.delete(e)}function ee(e,t,r){(r=r||{}).state=t,e.setAttribute("data-ng-animate",t);var n=P.get(e),i=n?O(n,r):r;P.set(e,i)}}]}],J=["$animateProvider",function(e){var t=this.drivers=[];function r(e){return e.data("$$animationRunner")}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(e,n,i,a,o,s,l){var c=[],u=m(e);return function(h,f,d){d=g(d);var v=["enter","move","leave"].indexOf(f)>=0,m=new a({end:function(){C()},cancel:function(){C(!0)}});if(!t.length)return C(),m;var w=p(h.attr("class"),p(d.addClass,d.removeClass)),y=d.tempClasses;return y&&(w+=" "+y,d.tempClasses=null),v&&h.data("$$animatePrepareClasses","ng-"+f+"-prepare"),function(e,t){e.data("$$animationRunner",t)}(h,m),c.push({element:h,classes:w,event:f,structural:v,options:d,beforeStart:function(){y=(y?y+" ":"")+"ng-animate",e.addClass(h,y);var t=h.data("$$animatePrepareClasses");t&&(e.removeClass(h,t),t=null)},close:C}),h.on("$destroy",k),c.length>1||n.$$postDigest((function(){var n=[];N(c,(function(e){r(e.element)?n.push(e):e.close()})),c.length=0;var a=function(e){var t=[],r={};N(e,(function(e,n){var i=x(e.element),a=e.event,o=["enter","move"].indexOf(a)>=0,s=e.structural?function(e){var t=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]"),r=[];return N(t,(function(e){var t=e.getAttribute("ng-animate-ref");t&&t.length&&r.push(e)})),r}(i):[];if(s.length){var l=o?"to":"from";N(s,(function(e){var t=e.getAttribute("ng-animate-ref");r[t]=r[t]||{},r[t][l]={animationID:n,element:W(e)}}))}else t.push(e)}));var n={},i={};return N(r,(function(r,a){var o=r.from,s=r.to;if(o&&s){var l=e[o.animationID],c=e[s.animationID],u=o.animationID.toString();if(!i[u]){var h=i[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:b(l.classes,c.classes),from:l,to:c,anchors:[]};h.classes.length?t.push(h):(t.push(l),t.push(c))}i[u].anchors.push({out:o.element,in:s.element})}else{var p=o?o.animationID:s.animationID,f=p.toString();n[f]||(n[f]=!0,t.push(e[p]))}})),t}(n),u=[];N(a,(function(e){var n=e.from?e.from.element:e.element,a=d.addClass;a=(a?a+" ":"")+"ng-animate";var o=l.cacheKey(n[0],e.event,a,d.removeClass);u.push({element:n,domNode:x(n),fn:function(){var n,a=e.close;if(l.containsCachedAnimationWithoutDuration(o))a();else{if(e.beforeStart(),r(e.anchors?e.from.element||e.to.element:e.element)){var s=function(e){for(var r=t.length-1;r>=0;r--){var n=t[r],a=i.get(n)(e);if(a)return a}}(e);s&&(n=s.start)}if(n){var c=n();c.done((function(e){a(!e)})),function(e,t){e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element);function n(e){var n=r(e);n&&n.setHost(t)}}(e,c)}else a()}}})}));for(var h=function(e){var t,r={children:[]},n=new o;for(t=0;t<e.length;t++){var i=e[t];n.set(i.domNode,e[t]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(t=0;t<e.length;t++)a(e[t]);return function(e){var t,r=[],n=[];for(t=0;t<e.children.length;t++)n.push(e.children[t]);var i=n.length,a=0,o=[];for(t=0;t<n.length;t++){var s=n[t];i<=0&&(i=a,a=0,r.push(o),o=[]),o.push(s),s.children.forEach((function(e){a++,n.push(e)})),i--}o.length&&r.push(o);return r}(r);function a(e){if(e.processed)return e;e.processed=!0;var t,i=e.domNode,o=i.parentNode;for(n.set(i,e);o;){if(t=n.get(o)){t.processed||(t=a(t));break}o=o.parentNode}return(t||r).children.push(e),e}}(u),p=0;p<h.length;p++)for(var f=h[p],v=0;v<f.length;v++){var m=f[v],g=m.element;if(h[p][v]=m.fn,0!==p){var S=g.data("$$animatePrepareClasses");S&&e.addClass(g,S)}else g.removeData("$$animatePrepareClasses")}s(h)})),m;function b(e,t){e=e.split(" "),t=t.split(" ");for(var r=[],n=0;n<e.length;n++){var i=e[n];if("ng-"!==i.substring(0,3))for(var a=0;a<t.length;a++)if(i===t[a]){r.push(i);break}}return r.join(" ")}function k(){var e=r(h);!e||"leave"===f&&d.$$domOperationFired||e.end()}function C(t){h.off("$destroy",k),function(e){e.removeData("$$animationRunner")}(h),u(h,d),S(h,d),d.domOperation(),y&&e.removeClass(h,y),m.complete(!t)}}}]}];t.module("ngAnimate",[],(function(){G=t.noop,I=t.copy,O=t.extend,W=t.element,N=t.forEach,B=t.isArray,z=t.isString,j=t.isObject,U=t.isUndefined,F=t.isDefined,H=t.isFunction,R=t.isElement})).info({angularVersion:"1.8.0"}).directive("ngAnimateSwap",["$animate",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,r,n,i,a){var o,s;t.$watchCollection(n.ngAnimateSwap||n.for,(function(t){o&&e.leave(o),s&&(s.$destroy(),s=null),(t||0===t)&&a((function(t,n){o=t,s=n,e.enter(t,null,r)}))}))}}}]).directive("ngAnimateChildren",T).factory("$$rAFScheduler",["$$rAF",function(e){var t,r;function n(e){t=t.concat(e),i()}return t=n.queue=[],n.waitUntilQuiet=function(t){r&&r(),r=e((function(){r=null,t(),i()}))},n;function i(){if(t.length){for(var n=t.shift(),a=0;a<n.length;a++)n[a]();r||e((function(){r||i()}))}}}]).provider("$$animateQueue",K).provider("$$animateCache",(function(){var e="$$ngAnimateParentKey",t=0,r=Object.create(null);this.$get=[function(){return{cacheKey:function(r,n,i,a){var o=r.parentNode,s=[o[e]||(o[e]=++t),n,r.getAttribute("class")];return i&&s.push(i),a&&s.push(a),s.join(" ")},containsCachedAnimationWithoutDuration:function(e){var t=r[e];return t&&!t.isValid||!1},flush:function(){r=Object.create(null)},count:function(e){var t=r[e];return t?t.total:0},get:function(e){var t=r[e];return t&&t.value},put:function(e,t,n){r[e]?(r[e].total++,r[e].value=t):r[e]={total:1,value:t,isValid:n}}}}]})).provider("$$animation",J).provider("$animateCss",q).provider("$$animateCssDriver",Y).provider("$$animateJs",X).provider("$$animateJsDriver",Z)}(window,window.angular)},function(e,t,r){r(196),e.exports="ngCookies"},function(e,t){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";function r(e,r,n){var i=n.baseHref(),a=e[0];return function(e,n,o){a.cookie=function(e,n,a){var o,s;s=(a=a||{}).expires,o=t.isDefined(a.path)?a.path:i,t.isUndefined(n)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",n=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(n);l+=o?";path="+o:"",l+=a.domain?";domain="+a.domain:"",l+=s?";expires="+s.toUTCString():"",l+=a.secure?";secure":"";var c=(l+=a.samesite?";samesite="+a.samesite:"").length+1;return c>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}(e,n,o)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.8.0"}).provider("$cookies",[function(){var e=this.defaults={};function r(r){return r?t.extend({},e,r):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,n){return{get:function(t){return e()[t]},getObject:function(e){var r=this.get(e);return r?t.fromJson(r):r},getAll:function(){return e()},put:function(e,t,i){n(e,t,r(i))},putObject:function(e,r,n){this.put(e,t.toJson(r),n)},remove:function(e,t){n(e,void 0,r(t))}}}]}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=r}))}(window,window.angular)},function(e,t,r){r(198),e.exports="ngResource"},function(e,t){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";var r=t.$$minErr("$resource"),n=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function i(e,i){if(!function(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&n.test("."+e)}(i))throw r("badmember",'Dotted member path "@{0}" is invalid.',i);for(var a=i.split("."),o=0,s=a.length;o<s&&t.isDefined(e);o++){var l=a[o];e=null!==e?e[l]:void 0}return e}function a(e,r){for(var n in r=r||{},t.forEach(r,(function(e,t){delete r[t]})),e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(r[n]=e[n]);return r}t.module("ngResource",["ng"]).info({angularVersion:"1.8.0"}).provider("$resource",(function(){var e=/^https?:\/\/\[[^\]]*][^/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(o,s,l,c){var u=t.noop,h=t.forEach,p=t.extend,f=t.copy,d=t.isArray,v=t.isDefined,m=t.isFunction,g=t.isNumber,S=t.$$encodeUriQuery,w=t.$$encodeUriSegment;function y(e,t){this.template=e,this.defaults=p({},n.defaults,t),this.urlParams={}}return y.prototype={setUrlParams:function(t,n,i){var a,o,s=this,l=i||s.template,c="",u=s.urlParams=Object.create(null);h(l.split(/\W/),(function(e){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(u[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})})),l=(l=l.replace(/\\:/g,":")).replace(e,(function(e){return c=e,""})),n=n||{},h(s.urlParams,(function(e,t){a=n.hasOwnProperty(t)?n[t]:s.defaults[t],v(a)&&null!==a?(o=e.isQueryParamValue?S(a,!0):w(a),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),(function(e,t){return o+t}))):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),(function(e,t,r){return"/"===r.charAt(0)?r:t+r}))})),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=c+l.replace(/\/(\\|%5C)\./,"/."),h(n,(function(e,r){s.urlParams[r]||(t.params=t.params||{},t.params[r]=e)}))}},function(e,t,S,w){var b=new y(e,w);function x(e,r){var n={};return r=p({},t,r),h(r,(function(t,r){m(t)&&(t=t(e)),n[r]=t&&t.charAt&&"@"===t.charAt(0)?i(e,t.substr(1)):t})),n}function k(e){return e.resource}function C(e){a(e||{},this)}return S=p({},n.defaults.actions,S),C.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},h(S,(function(e,t){var n=!0===e.hasBody||!1!==e.hasBody&&/^(POST|PUT|PATCH)$/i.test(e.method),i=e.timeout,S=v(e.cancellable)?e.cancellable:b.defaults.cancellable;i&&!g(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,i=null),C[t]=function(s,v,g,w){var y,$,P,T={};switch(arguments.length){case 4:P=w,$=g;case 3:case 2:if(!m(v)){T=s,y=v,$=g;break}if(m(s)){$=s,P=v;break}$=v,P=g;case 1:m(s)?$=s:n?y=s:T=s;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var E,_,M,A=this instanceof C,D=A?y:e.isArray?[]:new C(y),L={},V=e.interceptor&&e.interceptor.request||void 0,I=e.interceptor&&e.interceptor.requestError||void 0,O=e.interceptor&&e.interceptor.response||k,N=e.interceptor&&e.interceptor.responseError||l.reject,B=$?function(e){$(e,M.headers,M.status,M.statusText)}:void 0,F=P||void 0;h(e,(function(e,t){switch(t){default:L[t]=f(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}})),!A&&S&&(E=l.defer(),L.timeout=E.promise,i&&(_=c(E.resolve,i))),n&&(L.data=y),b.setUrlParams(L,p({},x(y,e.params||{}),T),e.url);var R=l.resolve(L).then(V).catch(I).then(o);return(R=(R=R.then((function(n){var i=n.data;if(i){if(d(i)!==!!e.isArray)throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",d(i)?"array":"object",L.method,L.url);if(e.isArray)D.length=0,h(i,(function(e){"object"==typeof e?D.push(new C(e)):D.push(e)}));else{var o=D.$promise;a(i,D),D.$promise=o}}return n.resource=D,M=n,O(n)}),(function(e){return e.resource=D,M=e,N(e)}))).finally((function(){D.$resolved=!0,!A&&S&&(D.$cancelRequest=u,c.cancel(_),E=_=L.timeout=null)}))).then(B,F),A?R:(D.$promise=R,D.$resolved=!1,S&&(D.$cancelRequest=H),D);function H(e){R.catch(u),null!==E&&E.resolve(e)}},C.prototype["$"+t]=function(e,r,n){m(e)&&(n=r,r=e,e={});var i=C[t].call(this,e,this,r,n);return i.$promise||i}})),C}}]}))}(window,window.angular)},function(e,t,r){r(200),e.exports="ngRoute"},function(e,t){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";function r(e,t){var r=[],n=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(e,t,n,i){var a="?"===i||"*?"===i,o="*"===i||"*?"===i;return r.push({name:n,optional:a}),t=t||"",(a?"(?:"+t:t+"(?:")+(o?"(.+?)":"([^/]+)")+(a?"?)?":")")})).replace(/([/$*])/g,"\\$1");return t.ignoreTrailingSlashes&&(n=n.replace(/\/+$/,"")+"/*"),{keys:r,regexp:new RegExp("^"+n+"(?:[?#]|$)",t.caseInsensitiveMatch?"i":"")}}var n,i,a,o,s,l=t.module("ngRoute",[]).info({angularVersion:"1.8.0"}).provider("$route",(function(){function e(e,r){return t.extend(Object.create(e),r)}n=t.isArray,i=t.isObject,a=t.isDefined,o=t.noop;var l={};this.when=function(e,a){var o=function(e,t){if(n(e)){t=t||[];for(var r=0,a=e.length;r<a;r++)t[r]=e[r]}else if(i(e))for(var o in t=t||{},e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o]);return t||e}(a);if(t.isUndefined(o.reloadOnUrl)&&(o.reloadOnUrl=!0),t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),l[e]=t.extend(o,{originalPath:e},e&&r(e,o)),e){var s="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";l[s]=t.extend({originalPath:e,redirectTo:e},r(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},s=!0,this.eagerInstantiationEnabled=function(e){return a(e)?(s=e,this):s},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(r,n,i,a,s,u,h,p){var f,d,v=!1,m={routes:l,reload:function(){v=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,v=!1}};r.$evalAsync((function(){g(e),e.defaultPrevented||S()}))},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route with no current route");e=t.extend({},this.current.params,e),n.path(x(this.current.$$route.originalPath,e)),n.search(e)}};return r.$on("$locationChangeStart",g),r.$on("$locationChangeSuccess",S),m;function g(i){var a,o,s,c,u=m.current;t.forEach(l,(function(r,i){!o&&(a=function(e,t){var r=t.keys,n={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var a=1,o=i.length;a<o;++a){var s=r[a-1],l=i[a];s&&l&&(n[s.name]=l)}return n}(n.path(),r))&&((o=e(r,{params:t.extend({},n.search(),a),pathParams:a})).$$route=r)})),f=o||l.null&&e(l.null,{params:{},pathParams:{}}),s=f,c=u,(d=!v&&s&&c&&s.$$route===c.$$route&&(!s.reloadOnUrl||!s.reloadOnSearch&&t.equals(s.pathParams,c.pathParams)))||!u&&!f||r.$broadcast("$routeChangeStart",f,u).defaultPrevented&&i&&i.preventDefault()}function S(){var e=m.current,n=f;if(d)e.params=n.params,t.copy(e.params,i),r.$broadcast("$routeUpdate",e);else if(n||e){v=!1,m.current=n;var s=a.resolve(n);p.$$incOutstandingRequestCount("$route"),s.then(w).then(y).then((function(a){return a&&s.then(b).then((function(a){n===m.current&&(n&&(n.locals=a,t.copy(n.params,i)),r.$broadcast("$routeChangeSuccess",n,e))}))})).catch((function(t){n===m.current&&r.$broadcast("$routeChangeError",n,e,t)})).finally((function(){p.$$completeOutstandingRequest(o,"$route")}))}}function w(e){var r={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))r.path=x(e.redirectTo,e.params),r.search=e.params,r.hasRedirection=!0;else{var i=n.path(),o=n.search(),l=e.redirectTo(e.pathParams,i,o);t.isDefined(l)&&(r.url=l,r.hasRedirection=!0)}else if(e.resolveRedirectTo)return a.resolve(s.invoke(e.resolveRedirectTo)).then((function(e){return t.isDefined(e)&&(r.url=e,r.hasRedirection=!0),r}));return r}function y(e){var t=!0;if(e.route!==m.current)t=!1;else if(e.hasRedirection){var r=n.url(),i=e.url;i?n.url(i).replace():i=n.path(e.path).search(e.search).replace().url(),i!==r&&(t=!1)}return t}function b(e){if(e){var r=t.extend({},e.resolve);t.forEach(r,(function(e,n){r[n]=t.isString(e)?s.get(e):s.invoke(e,null,null,n)}));var n=function(e){var r,n;t.isDefined(r=e.template)?t.isFunction(r)&&(r=r(e.params)):t.isDefined(n=e.templateUrl)&&(t.isFunction(n)&&(n=n(e.params)),t.isDefined(n)&&(e.loadedTemplateUrl=h.valueOf(n),r=u(n)));return r}(e);return t.isDefined(n)&&(r.$template=n),a.all(r)}}function x(e,r){var n=[];return t.forEach((e||"").split(":"),(function(e,t){if(0===t)n.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),a=i[1];n.push(r[a]),n.push(i[2]||""),delete r[a]}})),n.join("")}}]})).run(u),c=t.$$minErr("ngRoute");function u(e){s&&e.get("$route")}function h(e,r,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,a,o,s,l){var c,u,h,p=o.autoscroll,f=o.onload||"";function d(){h&&(n.cancel(h),h=null),c&&(c.$destroy(),c=null),u&&((h=n.leave(u)).done((function(e){!1!==e&&(h=null)})),u=null)}function v(){var o=e.current&&e.current.locals,s=o&&o.$template;if(t.isDefined(s)){var h=i.$new(),v=e.current,m=l(h,(function(e){n.enter(e,null,u||a).done((function(e){!1===e||!t.isDefined(p)||p&&!i.$eval(p)||r()})),d()}));u=m,(c=v.scope=h).$emit("$viewContentLoaded"),c.$eval(f)}else d()}i.$on("$routeChangeSuccess",v),v()}}}function p(e,t,r){return{restrict:"ECA",priority:-400,link:function(n,i){var a=r.current,o=a.locals;i.html(o.$template);var s=e(i.contents());if(a.controller){o.$scope=n;var l=t(a.controller,o);a.controllerAs&&(n[a.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}n[a.resolveAs||"$resolve"]=o,s(n)}}}u.$inject=["$injector"],l.provider("$routeParams",(function(){this.$get=function(){return{}}})),l.directive("ngView",h),l.directive("ngView",p),h.$inject=["$route","$anchorScroll","$animate"],p.$inject=["$compile","$controller","$route"]}(window,window.angular)},function(e,t,r){r(202),e.exports="ngSanitize"},function(e,t){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";var r,n,i,a,o,s,l,c,u,h,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",(function(){var f=!1,d=!1;this.$get=["$$sanitizeUri",function(e){return f=!0,d&&n($,k),function(t){var r=[];return u(t,h(r,(function(t,r){return!/^unsafe:/.test(e(t,r))}))),r.join("")}}],this.enableSvg=function(e){return o(e)?(d=e,this):d},this.addValidElements=function(e){return f||(a(e)&&(e={htmlElements:e}),D(k,e.svgElements),D(g,e.htmlVoidElements),D($,e.htmlVoidElements),D($,e.htmlElements)),this},this.addValidAttrs=function(e){return f||n(_,A(e,!0)),this},r=t.bind,n=t.extend,i=t.forEach,a=t.isArray,o=t.isDefined,s=t.$$lowercase,l=t.noop,u=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var r=L(e);if(!r)return"";var n=5;do{if(0===n)throw p("uinput","Failed to sanitize html because the input is unstable");n--,e=r.innerHTML,r=L(e)}while(e!==r.innerHTML);var i=r.firstChild;for(;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),V(i.attributes));break;case 3:t.chars(i.textContent)}var a;if(!((a=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),a=N("nextSibling",i))))for(;null==a&&(i=N("parentNode",i))!==r;)a=N("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=a}for(;i=r.firstChild;)r.removeChild(i)},h=function(e,t){var n=!1,a=r(e,e.push);return{start:function(e,r){e=s(e),!n&&C[e]&&(n=e),n||!0!==$[e]||(a("<"),a(e),i(r,(function(r,n){var i=s(n),o="img"===e&&"src"===i||"background"===i;!0!==_[i]||!0===P[i]&&!t(r,o)||(a(" "),a(n),a('="'),a(I(r)),a('"'))})),a(">"))},end:function(e){e=s(e),n||!0!==$[e]||!0===g[e]||(a("</"),a(e),a(">")),e==n&&(n=!1)},chars:function(e){n||a(I(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g,g=M("area,br,col,hr,img,wbr"),S=M("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=M("rp,rt"),y=n({},w,S),b=n({},S,M("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),x=n({},w,M("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=M("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=M("script,style"),$=n({},g,b,x,y),P=M("background,cite,href,longdesc,src,xlink:href,xml:base"),T=M("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),E=M("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),_=n({},P,E,T);function M(e,t){return A(e.split(","),t)}function A(e,t){var r,n={};for(r=0;r<e.length;r++)n[t?s(e[r]):e[r]]=!0;return n}function D(e,t){t&&t.length&&n(e,A(t))}var L=function(e,t){var r;if(!t||!t.implementation)throw p("noinert","Can't create an inert html document");var n=((r=t.implementation.createHTMLDocument("inert")).documentElement||r.getDocumentElement()).querySelector("body");return n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',n.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var r=(new e.DOMParser).parseFromString(t,"text/html").body;return r.firstChild.remove(),r}catch(e){return}}:function(e){n.innerHTML=e,t.documentMode&&O(n);return n}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var r=new e.XMLHttpRequest;r.responseType="document",r.open("GET","data:text/html;charset=utf-8,"+t,!1),r.send(null);var n=r.response.body;return n.firstChild.remove(),n}}(e,e.document);function V(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r];t[i.name]=i.value}return t}function I(e){return e.replace(/&/g,"&amp;").replace(v,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(m,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function O(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var r=t.attributes,n=0,i=r.length;n<i;n++){var a=r[n],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),n--,i--)}var s=t.firstChild;s&&O(s),t=N("nextSibling",t)}}function N(e,t){var r=t[e];if(r&&c.call(t,r))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return r}})).info({angularVersion:"1.8.0"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var r=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i,i=t.$$minErr("linky"),a=t.isDefined,o=t.isFunction,s=t.isObject,c=t.isString;return function(t,u,p){if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var f,d,v,m=o(p)?p:s(p)?function(){return p}:function(){return{}},g=t,S=[];f=g.match(r);)d=f[0],f[2]||f[4]||(d=(f[3]?"http://":"mailto:")+d),v=f.index,w(g.substr(0,v)),y(d,f[0].replace(n,"")),g=g.substring(v+f[0].length);return w(g),e(S.join(""));function w(e){var t,r;e&&S.push((t=e,h(r=[],l).chars(t),r.join("")))}function y(e,t){var r,n=m(e);for(r in S.push("<a "),n)S.push(r+'="'+n[r]+'" ');a(u)&&!("target"in n)&&S.push('target="',u,'" '),S.push('href="',e.replace(/"/g,"&quot;"),'">'),w(t),S.push("</a>")}}}])}(window,window.angular)},function(e,t,r){r(204),e.exports="ngTouch"},function(e,t){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";var r=t.module("ngTouch",[]);function n(e,n,i){r.directive(e,["$parse","$swipe",function(r,a){return function(o,s,l){var c,u,h=r(l[e]);var p=["touch"];t.isDefined(l.ngSwipeDisableMouse)||p.push("mouse"),a.bind(s,{start:function(e,t){c=e,u=!0},cancel:function(e){u=!1},end:function(e,t){(function(e){if(!c)return!1;var t=Math.abs(e.y-c.y),r=(e.x-c.x)*n;return u&&t<75&&r>0&&r>30&&t/r<.3})(e)&&o.$apply((function(){s.triggerHandler(i),h(o,{$event:t})}))}},p)}}])}r.info({angularVersion:"1.8.0"}),r.factory("$swipe",[function(){var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function r(e){var t=e.originalEvent||e,r=t.touches&&t.touches.length?t.touches:[t],n=t.changedTouches&&t.changedTouches[0]||r[0];return{x:n.clientX,y:n.clientY}}function n(r,n){var i=[];return t.forEach(r,(function(t){var r=e[t][n];r&&i.push(r)})),i.join(" ")}return{bind:function(e,t,i){var a,o,s,l,c=!1;i=i||["mouse","touch","pointer"],e.on(n(i,"start"),(function(e){s=r(e),c=!0,a=0,o=0,l=s,t.start&&t.start(s,e)}));var u=n(i,"cancel");u&&e.on(u,(function(e){c=!1,t.cancel&&t.cancel(e)})),e.on(n(i,"move"),(function(e){if(c&&s){var n=r(e);if(a+=Math.abs(n.x-l.x),o+=Math.abs(n.y-l.y),l=n,!(a<10&&o<10))return o>a?(c=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(n,e)))}})),e.on(n(i,"end"),(function(e){c&&(c=!1,t.end&&t.end(r(e),e))}))}}}]),n("ngSwipeLeft",-1,"swipeleft"),n("ngSwipeRight",1,"swiperight")}(window,window.angular)},function(e,t,r){r(206),e.exports="angular.filter"},function(e,t){
/**
 * Bunch of useful filters for angularJS(with no external dependencies!)
 * @version v0.5.17 - 2017-09-22 * @link https://github.com/a8m/angular-filter
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t,r){"use strict";var n=t.isDefined,i=t.isUndefined,a=t.isFunction,o=t.isString,s=t.isNumber,l=t.isObject,c=t.isArray,u=t.forEach,h=t.extend,p=t.copy,f=t.equals;function d(e){return c(e)?e:Object.keys(e).map((function(t){return e[t]}))}function v(e){return null===e}function m(e,t){return-1==Object.keys(e).map((function(r){return void 0!==t[r]&&t[r]==e[r]})).indexOf(!1)}function g(e,t){function r(e,t,r){for(var n=0;t+n<=e.length;){if(e.charAt(t+n)==r)return n;n++}return-1}for(var n=0,i=0;i<=t.length;i++){var a=r(e,n,t.charAt(i));if(-1==a)return!1;n+=a+1}return!0}function S(e,t,r){var i=0;return e.filter((function(e){var a=n(r)?i<t&&r(e):i<t;return i=a?i+1:i,a}))}function w(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function y(e){return e&&e.$evalAsync&&e.$watch}function b(){return function(e,t){return e>t}}function x(){return function(e,t){return e>=t}}function k(){return function(e,t){return e<t}}function C(){return function(e,t){return e<=t}}function $(){return function(e,t){return e==t}}function P(){return function(e,t){return e!=t}}function T(){return function(e,t){return e===t}}function E(){return function(e,t){return e!==t}}function _(e){return function(t,r){return t=l(t)?d(t):t,!(!c(t)||i(r))&&t.some((function(t){return o(r)&&l(t)||a(r)?e(r)(t):t===r}))}}function M(e){return function(t,r){if(t=l(t)?d(t):t,!c(t))return t;var n=[],a=e(r);return i(r)?t.filter((function(e,t,r){return r.indexOf(e)===t})):t.filter((function(e){var t=a(e);return!function(e,t){if(i(t))return!1;return e.some((function(e){return f(e,t)}))}(n,t)&&(n.push(t),!0)}))}}function A(){return function(e){return o(e)?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "):e}}String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",(function(){return function(e){return t.isUndefined(e)}})).filter("isDefined",(function(){return function(e){return t.isDefined(e)}})).filter("isFunction",(function(){return function(e){return t.isFunction(e)}})).filter("isString",(function(){return function(e){return t.isString(e)}})).filter("isNumber",(function(){return function(e){return t.isNumber(e)}})).filter("isArray",(function(){return function(e){return t.isArray(e)}})).filter("isObject",(function(){return function(e){return t.isObject(e)}})).filter("isEqual",(function(){return function(e,r){return t.equals(e,r)}})),t.module("a8m.conditions",[]).filter({isGreaterThan:b,">":b,isGreaterThanOrEqualTo:x,">=":x,isLessThan:k,"<":k,isLessThanOrEqualTo:C,"<=":C,isEqualTo:$,"==":$,isNotEqualTo:P,"!=":P,isIdenticalTo:T,"===":T,isNotIdenticalTo:E,"!==":E}),t.module("a8m.is-null",[]).filter("isNull",(function(){return function(e){return v(e)}})),t.module("a8m.after-where",[]).filter("afterWhere",(function(){return function(e,t){if(e=l(e)?d(e):e,!c(e)||i(t))return e;var r=e.map((function(e){return m(t,e)})).indexOf(!0);return e.slice(-1===r?0:r)}})),t.module("a8m.after",[]).filter("after",(function(){return function(e,t){return e=l(e)?d(e):e,c(e)?e.slice(t):e}})),t.module("a8m.before-where",[]).filter("beforeWhere",(function(){return function(e,t){if(e=l(e)?d(e):e,!c(e)||i(t))return e;var r=e.map((function(e){return m(t,e)})).indexOf(!0);return e.slice(0,-1===r?e.length:++r)}})),t.module("a8m.before",[]).filter("before",(function(){return function(e,t){return e=l(e)?d(e):e,c(e)?e.slice(0,t?--t:t):e}})),t.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(e){return function(t,r,n){return e.isMemoized("chunkBy",arguments)||e.memoize("chunkBy",arguments,this,o(t,r,n));function a(e,t){for(var r=[];e--;)r[e]=t;return r}function o(e,t,r){return c(e)?e.map((function(e,n,o){return n*=t,e=o.slice(n,n+t),!i(r)&&e.length<t?e.concat(a(t-e.length,r)):e})).slice(0,Math.ceil(e.length/t)):e}}}]),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(i(t))return e;if(c(e))return l(t)?e.concat(d(t)):e.concat(t);if(l(e)){var r=d(e);return l(t)?r.concat(d(t)):r.concat(t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",_],some:["$parse",_]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,r){var n,a={},o=e(r);return t=l(t)?d(t):t,!c(t)||i(r)?t:(t.forEach((function(e){n=o(e),a[n]||(a[n]=0),a[n]++})),a)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,r){if(t=l(t)?d(t):t,!c(t)||!l(r))return t;var n=function e(t,r,n){return r=r||[],Object.keys(t).forEach((function(i){if(l(t[i])&&!c(t[i])){var a=n?n+"."+i:n;e(t[i],r,a||i)}else{var o=n?n+"."+i:i;r.push(o)}})),r}(r);return t.forEach((function(t){n.forEach((function(n){var a=e(n),o=a.assign;i(a(t))&&o(t,a(r))}))})),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,r){return t=l(t)?d(t):t,!(c(t)&&!i(r))||t.every((function(t){return l(t)||a(r)?e(r)(t):t===r}))}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,r,n,a){var u;return n=o(n)||s(n)?String(n).toLowerCase():void 0,t=l(t)?d(t):t,!c(t)||i(n)?t:t.filter((function(t){return r.some((function(r){if(~r.indexOf("+")){var i=r.replace(/\s+/g,"").split("+");u=i.map((function(r){return e(r)(t)})).join(" ")}else u=e(r)(t);return!(!o(u)&&!s(u))&&(u=String(u).toLowerCase(),a?u===n:u.contains(n))}))}))}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var r,n,i;return t=l(t)?d(t):t,c(t)?(i=Array.prototype.slice.call(arguments,1),r=s(i[0])?i[0]:1,n=s(i[0])?s(i[1])?void 0:i[1]:i[0],i.length?S(t,r,n?e(n):n):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",(function(){return function(e,t){return t=t||!1,e=l(e)?d(e):e,c(e)?t?[].concat.apply([],e):function e(t,r){if((r=r||0)>=t.length)return t;if(c(t[r]))return e(t.slice(0,r).concat(t[r],t.slice(r+1)),r);return e(t,r+1)}(e,0):e}})),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,r,n,a){var s,u,h=a||!1;return t=l(t)?d(t):t,!c(t)||i(r)||i(n)?t:(u=e(r),t.filter((function(e){return s=u(e),!!o(s)&&(s=h?s:s.toLowerCase(),n=h?n:n.toLowerCase(),!1!==g(s,n))})))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",(function(){return function(e,t,r){var n=r||!1;return e=l(e)?d(e):e,!c(e)||i(t)?e:(t=n?t:t.toLowerCase(),e.filter((function(e){return o(e)?!1!==g(e=n?e:e.toLowerCase(),t):!!l(e)&&function(e,t){var r,i;return 0<Object.keys(e).filter((function(a){return r=e[a],!!i||!!o(r)&&(r=n?r:r.toLowerCase(),i=!1!==g(r,t))})).length}(e,t)})))}})),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(r,n){return!l(r)||i(n)?r:t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,a(r,e(n)));function a(e,t){var r,n={};return u(e,(function(e){r=t(e),n[r]||(n[r]=[]),n[r].push(e)})),n}}}]),t.module("a8m.is-empty",[]).filter("isEmpty",(function(){return function(e){return l(e)?!d(e).length:!e.length}})),t.module("a8m.join",[]).filter("join",(function(){return function(e,t){return i(e)||!c(e)?e:(i(t)&&(t=" "),e.join(t))}})),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var r,n,i,a=p(t);return a=l(a)?d(a):a,c(a)?(i=Array.prototype.slice.call(arguments,1),r=s(i[0])?i[0]:1,n=s(i[0])?s(i[1])?void 0:i[1]:i[0],i.length?S(a.reverse(),r,n?e(n):n).reverse():a[a.length-1]):a}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,r){return t=l(t)?d(t):t,!c(t)||i(r)?t:t.map((function(t){return e(r)(t)}))}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,r){return t=l(t)?d(t):t,!c(t)||i(r)?t:t.filter((function(t){return!e(r)(t)}))}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,r){return t=l(t)?d(t):t,!c(t)||i(r)?t:t.filter((function(t){return e(r)(t)}))}}]),t.module("a8m.range",[]).filter("range",(function(){return function(e,t,r,n,i){r=r||0,n=n||1;for(var o=0;o<parseInt(t);o++){var s=r+o*n;e.push(a(i)?i(s):s)}return e}})),t.module("a8m.remove-with",[]).filter("removeWith",(function(){return function(e,t){return i(t)?e:(e=l(e)?d(e):e).filter((function(e){return!m(t,e)}))}})),t.module("a8m.remove",[]).filter("remove",(function(){return function(e){e=l(e)?d(e):e;var t=Array.prototype.slice.call(arguments,1);return c(e)?e.filter((function(e){return!t.some((function(t){return f(t,e)}))})):e}})),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=l(e)?d(e):e,o(e)?e.split("").reverse().join(""):c(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var r;t=l(t)?d(t):t;var n=Array.prototype.slice.call(arguments,1);return c(t)&&n.length?t.map((function(t){return r=n.map((function(r){return e(r)(t)})).join(" "),h(t,{searchField:r})})):t}}]),t.module("a8m.to-array",[]).filter("toArray",(function(){return function(e,t){return l(e)?t?Object.keys(e).map((function(t){return h(e[t],{$key:t})})):d(e):e}})),t.module("a8m.unique",[]).filter({unique:["$parse",M],uniq:["$parse",M]}),t.module("a8m.where",[]).filter("where",(function(){return function(e,t){return i(t)?e:(e=l(e)?d(e):e).filter((function(e){return m(t,e)}))}})),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,r,n){return n=n||!1,t=l(t)?d(t):t,r=l(r)?d(r):r,c(t)&&c(r)?t.concat(r).filter((function(e){return!(i(e,t)&&i(e,r))})):t;function i(t,r){var i=e(n);return r.some((function(e){return n?f(i(e),i(t)):f(e,t)}))}}}]),t.module("a8m.math.abs",[]).filter("abs",(function(){return function(e){return Math.abs(e)}})),t.module("a8m.math.byteFmt",[]).filter("byteFmt",(function(){var e=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach((function(t,r){e.push({str:t,val:1024*e[r].val})})),function(t,r){if(s(r)&&isFinite(r)&&r%1==0&&r>=0&&s(t)&&isFinite(t)){for(var n=0;n<e.length-1&&t>=e[n].val;)n++;return w(t/=n>0?e[n-1].val:1,r)+" "+e[n].str}return"NaN"}})),t.module("a8m.math.degrees",[]).filter("degrees",(function(){return function(e,t){if(s(t)&&isFinite(t)&&t%1==0&&t>=0&&s(e)&&isFinite(e)){var r=180*e/Math.PI;return Math.round(r*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}})),t.module("a8m.math.kbFmt",[]).filter("kbFmt",(function(){var e=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach((function(t,r){e.push({str:t,val:1024*e[r].val})})),function(t,r){if(s(r)&&isFinite(r)&&r%1==0&&r>=0&&s(t)&&isFinite(t)){for(var n=0;n<e.length-1&&t>=e[n].val;)n++;return w(t/=n>0?e[n-1].val:1,r)+" "+e[n].str}return"NaN"}})),t.module("a8m.math.max",[]).filter("max",["$parse",function(e){return function(t,r){return c(t)?i(r)?Math.max.apply(Math,t):t[(n=t,a=r,o=n.map((function(t){return e(a)(t)})),o.indexOf(Math.max.apply(Math,o)))]:t;var n,a,o}}]),t.module("a8m.math.min",[]).filter("min",["$parse",function(e){return function(t,r){return c(t)?i(r)?Math.min.apply(Math,t):t[(n=t,a=r,o=n.map((function(t){return e(a)(t)})),o.indexOf(Math.min.apply(Math,o)))]:t;var n,a,o}}]),t.module("a8m.math.percent",[]).filter("percent",(function(){return function(e,t,r){var n=o(e)?Number(e):e;return t=t||100,r=r||!1,!s(n)||isNaN(n)?e:r?Math.round(n/t*100):n/t*100}})),t.module("a8m.math.radians",[]).filter("radians",(function(){return function(e,t){if(s(t)&&isFinite(t)&&t%1==0&&t>=0&&s(e)&&isFinite(e)){var r=3.14159265359*e/180;return Math.round(r*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}})),t.module("a8m.math.radix",[]).filter("radix",(function(){return function(e,t){return s(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}})),t.module("a8m.math.shortFmt",[]).filter("shortFmt",(function(){return function(e,t){return s(t)&&isFinite(t)&&t%1==0&&t>=0&&s(e)&&isFinite(e)?e<1e3?""+e:e<1e6?w(e/1e3,t)+" K":e<1e9?w(e/1e6,t)+" M":w(e/1e9,t)+" B":"NaN"}})),t.module("a8m.math.sum",[]).filter("sum",(function(){return function(e,t){return c(e)?e.reduce((function(e,t){return e+t}),t||0):e}})),t.module("a8m.ends-with",[]).filter("endsWith",(function(){return function(e,t,r){var n,a=r||!1;return!o(e)||i(t)?e:(n=(e=a?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(a?t:t.toLowerCase(),n))}})),t.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},r=0;r<e.length;r++)for(var n=e[r].letters.split(""),i=0;i<n.length;i++)t[n[i]]=e[r].base;return function(e){return o(e)?e.replace(/[^\u0000-\u007E]/g,(function(e){return t[e]||e})):e}}]),t.module("a8m.ltrim",[]).filter("ltrim",(function(){return function(e,t){var r=t||"\\s";return o(e)?e.replace(new RegExp("^"+r+"+"),""):e}})),t.module("a8m.match",[]).filter("match",(function(){return function(e,t,r){var n=new RegExp(t,r);return o(e)?e.match(n):null}})),t.module("a8m.phoneUS",[]).filter("phoneUS",(function(){return function(e){return"("+(e+="").slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}})),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,r){var n=~~t;return o(e)&&n?function e(t,r,n){if(!r)return t;return t+n+e(t,--r,n)}(e,--t,r||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",(function(){return function(e,t){var r=t||"\\s";return o(e)?e.replace(new RegExp(r+"+$"),""):e}})),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var r=i(t)?"-":t;return o(e)?e.toLowerCase().replace(/\s+/g,r):e}}]),t.module("a8m.split",[]).filter("split",(function(){return function(e,t,r){var n,a,s,l;return i(e)||!o(e)?null:(i(t)&&(t=""),isNaN(r)&&(r=0),n=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g"),v(a=e.match(n))||r>=a.length?[e]:0===r?e.split(t):(l=(s=e.split(t)).splice(0,r+1),s.unshift(l.join(t)),s))}})),t.module("a8m.starts-with",[]).filter("startsWith",(function(){return function(e,t,r){var n=r||!1;return!o(e)||i(t)?e:!(e=n?e:e.toLowerCase()).indexOf(n?t:t.toLowerCase())}})),t.module("a8m.stringular",[]).filter("stringular",(function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,(function(e,r){return i(t[r])?e:t[r]}))}})),t.module("a8m.strip-tags",[]).filter("stripTags",(function(){return function(e){return o(e)?e.replace(/<\S[^><]*>/g,""):e}})),t.module("a8m.test",[]).filter("test",(function(){return function(e,t,r){var n=new RegExp(t,r);return o(e)?n.test(e):e}})),t.module("a8m.trim",[]).filter("trim",(function(){return function(e,t){var r=t||"\\s";return o(e)?e.replace(new RegExp("^"+r+"+|"+r+"+$","g"),""):e}})),t.module("a8m.truncate",[]).filter("truncate",(function(){return function(e,t,r,n){return t=i(t)?e.length:t,n=n||!1,r=r||"",!o(e)||e.length<=t?e:e.substring(0,n?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+r}})),t.module("a8m.ucfirst",[]).filter({ucfirst:A,titleize:A}),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return o(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return o(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",(function(){return function(e,t,r){return o(e)&&n(t)?[t,e,r||t].join(""):e}})),t.module("a8m.filter-watcher",[]).provider("filterWatcher",(function(){this.$get=["$window","$rootScope",function(e,t){var r={},n={},a=e.setTimeout;function o(t,r){return[t,JSON.stringify(r,(n=[],function(t,r){if(l(r)&&!v(r)){if(~n.indexOf(r))return"[Circular]";n.push(r)}return e==r?"$WINDOW":e.document==r?"$DOCUMENT":y(r)?"$SCOPE":r}))].join("#").replace(/"/g,"");var n}function s(e){var t=e.targetScope.$id;u(n[t],(function(e){delete r[e]})),delete n[t]}return{isMemoized:function(e,t){var n=o(e,t);return r[n]},memoize:function(e,l,c,u){var h=o(e,l);return r[h]=u,y(c)?function(e,t){var r=e.$id;i(n[r])&&(e.$on("$destroy",s),n[r]=[]),n[r].push(t)}(c,h):a((function(){t.$$phase||(r={})}),2e3),u}}}]})),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular)},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(145),i=r(146),a=r(69),o=r(0),s=r.n(o),l=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},c=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u={selector:"hierarchyPathCanvas",template:'\n    \x3c!-- non editable hierarchy path which includes times --\x3e\n    <div \n    class="emuwebapp-level" \n    style="height: 256px"\n    ng-show="$ctrl.selectedCanvasIdx == 0">\n    <div class="emuwebapp-level-container">\n    <canvas \n    class="emuwebapp-level-canvas" \n    id="levelCanvas" \n    width="4096" \n    height="1024" \n    ng-style="$ctrl.backgroundCanvas"\n    ></canvas>\n    \n    <canvas \n    class="emuwebapp-level-markup"\n    style="background-color: rgba(200, 200, 200, 0.3); filter: blur(1px);"\n    id="levelMarkupCanvas" \n    width="4096" \n    height="1024" \n    level-name="$ctrl.level.name"\n    level-type="$ctrl.level.type"></canvas>\n    </div>\n    </div>\n    \x3c!-- hierachy tree editable --\x3e\n    \x3c!--\n    <div style="background-color: pink;">\n    <emuhierarchy \n    ng-show="$ctrl.selectedCanvasIdx == 1;"\n    playing="getPlaying();" \n    vertical="true"\n    cur-level-attr-defs="vs.curLevelAttrDefs"\n    hierarchy-path="vs.hierarchyState.path"\n    moves-away-from-last-save="HistoryService.movesAwayFromLastSave"\n    new-link-from-id="vs.hierarchyState.newLinkFromID"\n    is-shown="vs.hierarchyState.isShown()"\n    context-menu-id="vs.hierarchyState.contextMenuID"\n    hierarchy-resize="vs.hierarchyState.resize"\n    attribute-definition-click-counter="attributeDefinitionClickCounter"\n    ></emuhierarchy>\n    </div>\n    --\x3e\n    \x3c!-- selectors --\x3e\n    \x3c!-- <div \n    ng-if="true" \n    class="emuwebapp-canvasSelectors"\n    >\n    <div>\n        <ul>\n        <li>\n            <button \n            ng-click="$ctrl.changeSelectedCanvas(0);" \n            ng-style="$ctrl.getSelectedCanvasColor(0);"\n            ></button>\n            <button \n            ng-click="$ctrl.changeSelectedCanvas(1);" \n            ng-style="$ctrl.getSelectedCanvasColor(1);"\n            ></button>\n        </li>\n        </ul>\n    </div>\n    </div> --\x3e\n    ',bindings:{annotation:"<",path:"<",idx:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",viewPortSelectStart:"<",viewPortSelectEnd:"<",curMouseX:"<",curClickLevelName:"<",movingBoundarySample:"<",movingBoundary:"<",movesAwayFromLastSave:"<",curPerspectiveIdx:"<",curBndl:"<"},controller:["$scope","$element","$animate","ViewStateService","ConfigProviderService","DrawHelperService","HistoryService","FontScaleService","ModalService","LevelService","LoadedMetaDataService","HierarchyLayoutService","DataService",function(){function t(t,r,a,o,u,h,p,f,d,v,m,g,S){this.$postLink=function(){var e=this;this.canvas=this.$element.find("canvas"),this.levelCanvasContainer=this.$element.find("div"),this.$element.bind("mouseleave",(function(){e.ViewStateService.setcurMouseItem(void 0,void 0,void 0),e.drawLevelMarkup()})),this.redrawAll()},this.$onChanges=function(e){this._inited&&(e.viewPortSampleStart&&e.viewPortSampleStart.currentValue!==e.viewPortSampleStart.previousValue&&this.redrawAll(),e.viewPortSampleEnd&&e.viewPortSampleEnd.currentValue!==e.viewPortSampleEnd.previousValue&&this.redrawAll(),e.viewPortSelectStart&&e.viewPortSelectStart.currentValue!==e.viewPortSelectStart.previousValue&&this.drawLevelMarkup(),e.viewPortSelectEnd&&e.viewPortSelectEnd.currentValue!==e.viewPortSelectEnd.previousValue&&this.drawLevelMarkup(),e.curMouseX&&e.curMouseX.currentValue!==e.curMouseX.previousValue&&this.drawLevelMarkup(),e.curClickLevelName&&e.curClickLevelName.currentValue!==e.curClickLevelName.previousValue&&this.drawLevelMarkup(),e.movingBoundarySample&&e.movingBoundarySample.currentValue!==e.movingBoundarySample.previousValue&&this.drawLevelMarkup(),e.movingBoundary&&e.movingBoundary.currentValue!==e.movingBoundary.previousValue&&this.drawLevelMarkup(),e.movesAwayFromLastSave&&e.movesAwayFromLastSave.currentValue!==e.movesAwayFromLastSave.previousValue&&this.redrawAll(),e.curPerspectiveIdx&&e.curPerspectiveIdx.currentValue!==e.curPerspectiveIdx.previousValue&&this.redrawAll(),e.curBndl&&e.curBndl.currentValue!==e.curBndl.previousValue&&this.redrawAll())},this.$onInit=function(){var e=this;this._inited=!0,this.resizeObservable$=Object(n.a)(window,"resize"),this.resizeObservable$.pipe(Object(i.a)(1e3)).subscribe((function(t){e.redrawAll()}))},this.changeSelectedCanvas=function(e){this.selectedCanvasIdx=e},this.getSelectedCanvasColor=function(e){return e===this.selectedCanvasIdx?{background:"-webkit-radial-gradient(50% 50%, closest-corner, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0) 60%)","border-color":s.a.colorYellow}:{"background-color":s.a.colorWhite}},this.drawLevelDetails=function(t,r,n,i){return void 0===n&&(n=0),void 0===i&&(i=1024),l(this,void 0,void 0,(function(){var a,o,l,u,h,p,f,d,v,m,g,S,w,y=this;return c(this,(function(c){return o=s.a.fontSmallFamily,a=void 0===this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontFamily?s.a.fontSmallFamily:this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontFamily,0===(l=Number(localStorage.getItem("levelCanvasesFontScalingFactor")))&&(l=100),l/=100,h=parseInt(s.a.fontSmallSize.slice(0,-2)),u=void 0===this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.fontPxSize?parseInt(s.a.fontSmallSize.slice(0,-2))*l:this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontPxSize*l,p=this.ViewStateService.getCurAttrDef(r.name),f="25px"!==this.$element.parent().css("height"),e.isEmptyObject(r)||e.isEmptyObject(this.ViewStateService)||e.isEmptyObject(this.ConfigProviderService)||((d=t[0].getContext("2d")).clearRect(0,n,d.canvas.width,i),v=this.ViewStateService.getSampleDist(d.canvas.width),d.canvas.height/d.canvas.offsetHeight,r.name===p?(h-=2,this.FontScaleService.drawUndistortedText(d,r.name,h,o,4,n+(i-n)/2,s.a.colorBlue,!0)):this.FontScaleService.drawUndistortedTextTwoLines(d,r.name+":"+p,"("+r.type+")",h,o,4,n+(i-n)/2,s.a.colorYellow,!0),-1,S=d.measureText("m").width*this.FontScaleService.scaleX,d.measureText("0").width*this.FontScaleService.scaleX,"SEGMENT"===r.type||"ITEM"===r.type?(d.fillStyle=s.a.colorWhite,r.items.forEach((function(e){var t;if((e.sampleStart>=y.viewPortSampleStart&&e.sampleStart<=y.viewPortSampleEnd||e.sampleStart+e.sampleDur>y.viewPortSampleStart&&e.sampleStart+e.sampleDur<y.viewPortSampleEnd||e.sampleStart<y.viewPortSampleStart&&e.sampleStart+e.sampleDur>y.viewPortSampleEnd)&&(e.labels.forEach((function(e){e.name===p&&(t=e.value)})),m=y.ViewStateService.getPos(d.canvas.width,e.sampleStart),g=y.ViewStateService.getPos(d.canvas.width,e.sampleStart+e.sampleDur+1),d.fillStyle=s.a.colorWhite,d.fillRect(m,n,2,(i-n)/2),d.fillStyle=s.a.colorGrey,d.fillRect(g,n+(i-n)/2,2,(i-n)/2),d.font=h-2+"px "+a,void 0!==t&&g-m>S*t.length&&y.FontScaleService.drawUndistortedText(d,t,u-2,a,m+(g-m)/2,n+(i-n)/2-(h-2)+2,s.a.colorWhite,!1),void 0!==t&&0!==t.length)){var r=m+(g-m)/2,o=n+(i-n)/4;d.strokeStyle=s.a.colorWhite,d.beginPath(),d.moveTo(m,o),d.lineTo(r,o),d.lineTo(r,o+5),d.stroke(),o=n+(i-n)/4*3,d.strokeStyle=s.a.colorGrey,d.beginPath(),d.moveTo(g,o),d.lineTo(r,o),d.lineTo(r,o-5),d.stroke()}}))):"EVENT"===r.type?(d.fillStyle=s.a.colorWhite,r.items.forEach((function(e){var t;e.samplePoint>y.viewPortSampleStart&&e.samplePoint<y.viewPortSampleEnd&&(w=Math.round(y.ViewStateService.getPos(d.canvas.width,e.samplePoint)+v/2),e.labels.forEach((function(e){e.name===p&&(t=e.value)})),d.fillStyle=s.a.colorWhite,d.fillRect(w,0,1,(i-n)/2-(i-n)/5),d.fillRect(w,(i-n)/2+(i-n)/5,1,(i-n)/2-(i-n)/5),y.FontScaleService.drawUndistortedText(d,t,u-2,a,w,(i-n)/2-(h-2)+2,s.a.colorWhite,!1),f&&y.FontScaleService.drawUndistortedText(d,e.samplePoint,h-2,a,w+5,0,s.a.colorBlue,!0))}))):console.error("bad level type")),[2]}))}))},this.drawLevelMarkup=function(){var e=this.canvas[1].getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height),this.DrawHelperService.drawMovingBoundaryLine(e),this.DrawHelperService.drawCurViewPortSelected(e),this.ViewStateService.getPos(e.canvas.width,this.ViewStateService.curViewPort.selectS),this.ViewStateService.getPos(e.canvas.width,this.ViewStateService.curViewPort.selectE),this.ViewStateService.getSampleDist(e.canvas.width);this.ViewStateService.getcurMouseItem(),this.ViewStateService.getcurMouseisFirst(),this.ViewStateService.getcurMouseisLast(),this.ViewStateService.getcurClickItems(),this.ViewStateService.getcurClickLevelName();this.ViewStateService.getcurMouseItem(),this.DrawHelperService.drawCrossHairX(e,this.ViewStateService.curMouseX)},this.$scope=t,this.$element=r,this.$animate=a,this.ViewStateService=o,this.ConfigProviderService=u,this.DrawHelperService=h,this.HistoryService=p,this.FontScaleService=f,this.ModalService=d,this.LevelService=v,this.LoadedMetaDataService=m,this.HierarchyLayoutService=g,this.DataService=S,this.open=!0,this._inited=!1,this.backgroundCanvas={background:s.a.colorBlack},this.hierPaths=this.HierarchyLayoutService.findAllNonPartialPaths(),this.selectedCanvasIdx=0}return t.prototype.redrawAll=function(){return l(this,void 0,void 0,(function(){var e,t,r,n,i,o,s,u=this;return c(this,(function(h){switch(h.label){case 0:return this.annotation.levels.length>0?((e=this.canvas[0].getContext("2d")).clearRect(0,0,e.canvas.width,e.canvas.height),0==this.path.length&&(t=this.HierarchyLayoutService.findAllNonPartialPaths(),this.ViewStateService.hierarchyState.path=t.possible[0],this.ViewStateService.hierarchyState.curPathIdx=0),[4,new a.HierarchyWorker]):[3,4];case 1:return[4,(r=h.sent()).reduceAnnotationToViewableTimeAndPath(this.annotation,this.path,this.viewPortSampleStart,this.viewPortSampleEnd)];case 2:return n=h.sent(),i=1024/this.path.length,o=0,s=i,[4,JSON.parse(JSON.stringify(this.path)).reverse().forEach((function(e){return l(u,void 0,void 0,(function(){var t;return c(this,(function(a){switch(a.label){case 0:return[4,r.getLevelDetails(e,n)];case 1:return t=a.sent(),this.drawLevelDetails(this.canvas,t,o,s),this.drawLevelMarkup(),o+=i,s+=i,[2]}}))}))}))];case 3:h.sent(),h.label=4;case 4:return[2]}}))}))},t}()]};t.module("emuwebApp").component(u.selector,u)}).call(this,r(19))},function(e,t,r){"use strict";r.r(t),r.d(t,"createEndpoint",(function(){return i})),r.d(t,"expose",(function(){return l})),r.d(t,"proxy",(function(){return v})),r.d(t,"proxyMarker",(function(){return n})),r.d(t,"releaseProxy",(function(){return a})),r.d(t,"transfer",(function(){return d})),r.d(t,"transferHandlers",(function(){return s})),r.d(t,"windowEndpoint",(function(){return m})),r.d(t,"wrap",(function(){return u}));const n=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),o=new WeakSet,s=new Map([["proxy",{canHandle:e=>e&&e[n],serialize(e){const{port1:t,port2:r}=new MessageChannel;return l(e,t),[r,[r]]},deserialize:e=>(e.start(),u(e))}],["throw",{canHandle:e=>o.has(e),serialize(e){const t=e instanceof Error;let r=e;return t&&(r={isError:t,message:e.message,stack:e.stack}),[r,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error,e);throw e}}]]);function l(e,t=self){t.addEventListener("message",(function r(n){if(!n||!n.data)return;const{id:i,type:a,path:s}=Object.assign({path:[]},n.data),u=(n.data.argumentList||[]).map(S);let h;try{const t=s.slice(0,-1).reduce((e,t)=>e[t],e),r=s.reduce((e,t)=>e[t],e);switch(a){case 0:h=r;break;case 1:t[s.slice(-1)[0]]=S(n.data.value),h=!0;break;case 2:h=r.apply(t,u);break;case 3:h=v(new r(...u));break;case 4:{const{port1:t,port2:r}=new MessageChannel;l(e,r),h=d(t,[t])}break;case 5:h=void 0}}catch(e){h=e,o.add(e)}Promise.resolve(h).catch(e=>(o.add(e),e)).then(e=>{const[n,o]=g(e);t.postMessage(Object.assign(Object.assign({},n),{id:i}),o),5===a&&(t.removeEventListener("message",r),c(t))})})),t.start&&t.start()}function c(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function u(e,t){return function e(t,r=[],n=function(){}){let o=!1;const s=new Proxy(n,{get(n,i){if(h(o),i===a)return()=>w(t,{type:5,path:r.map(e=>e.toString())}).then(()=>{c(t),o=!0});if("then"===i){if(0===r.length)return{then:()=>s};const e=w(t,{type:0,path:r.map(e=>e.toString())}).then(S);return e.then.bind(e)}return e(t,[...r,i])},set(e,n,i){h(o);const[a,s]=g(i);return w(t,{type:1,path:[...r,n].map(e=>e.toString()),value:a},s).then(S)},apply(n,a,s){h(o);const l=r[r.length-1];if(l===i)return w(t,{type:4}).then(S);if("bind"===l)return e(t,r.slice(0,-1));const[c,u]=p(s);return w(t,{type:2,path:r.map(e=>e.toString()),argumentList:c},u).then(S)},construct(e,n){h(o);const[i,a]=p(n);return w(t,{type:3,path:r.map(e=>e.toString()),argumentList:i},a).then(S)}});return s}(e,[],t)}function h(e){if(e)throw new Error("Proxy has been released and is not useable")}function p(e){const t=e.map(g);return[t.map(e=>e[0]),(r=t.map(e=>e[1]),Array.prototype.concat.apply([],r))];var r}const f=new WeakMap;function d(e,t){return f.set(e,t),e}function v(e){return Object.assign(e,{[n]:!0})}function m(e,t=self,r="*"){return{postMessage:(t,n)=>e.postMessage(t,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function g(e){for(const[t,r]of s)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:3,name:t,value:n},i]}return[{type:0,value:e},f.get(e)||[]]}function S(e){switch(e.type){case 3:return s.get(e.name).deserialize(e.value);case 0:return e.value}}function w(e,t,r){return new Promise(n=>{const i=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)})}},function(e,t,r){e.exports=function(){return new Worker(r.p+"49aaa111085d27051cf8.worker.js")}},function(e,t,r){(t=r(6)(!1)).push([e.i,"",""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(145),i=r(146),a=r(0),o=r.n(a),s={selector:"level",template:'\n<div class="emuwebapp-level">\n<div class="emuwebapp-level-container">\n    <canvas \n    class="emuwebapp-level-canvas" \n    id="levelCanvas" \n    width="4096" \n    height="256" \n    ng-style="$ctrl.backgroundCanvas"\n    ></canvas>\n\n    <level-canvas-markup-canvas\n    level="$ctrl.level"\n    idx="$ctrl.idx"\n    play-head-current-sample="$ctrl.playHeadCurrentSample"\n    moving-boundary-sample="$ctrl.movingBoundarySample"\n    cur-mouse-x="$ctrl.curMouseX" \n    moving-boundary="$ctrl.movingBoundary"\n    view-port-sample-start="$ctrl.viewPortSampleStart"\n    view-port-sample-end="$ctrl.viewPortSampleEnd"\n    view-port-select-start="$ctrl.viewPortSelectStart"\n    view-port-select-end="$ctrl.viewPortSelectEnd"\n    ></level-canvas-markup-canvas>\n    \x3c!-- track-mouse-in-level="{{idx}}"\n    level-name="$ctrl.level.name"\n    level-type="$ctrl.level.type" --\x3e\n</div>\n</div>\n\n<div \nng-if="$ctrl.levelDef.attributeDefinitions.length > 1" \nclass="emuwebapp-canvasSelectors"\n>\n<div>\n    <ul>\n    <li ng-repeat="attrDef in $ctrl.levelDef.attributeDefinitions">\n        <button \n        ng-click="$ctrl.changeCurAttrDef(attrDef.name, $index);" \n        ng-style="$ctrl.getAttrDefBtnColor(attrDef.name)"\n        ></button>\n    </li>\n    </ul>\n</div>\n</div>  \n    ',bindings:{level:"<",idx:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",viewPortSelectStart:"<",viewPortSelectEnd:"<",curMouseX:"<",curClickLevelName:"<",movingBoundarySample:"<",movingBoundary:"<",movesAwayFromLastSave:"<",curPerspectiveIdx:"<",curBndl:"<"},controller:["$scope","$element","$animate","ViewStateService","SoundHandlerService","ConfigProviderService","DrawHelperService","HistoryService","FontScaleService","ModalService","LevelService","LoadedMetaDataService","HierarchyLayoutService","DataService",function(){function t(e,t,r,n,i,a,s,l,c,u,h,p,f,d){this.$scope=e,this.$element=t,this.$animate=r,this.ViewStateService=n,this.SoundHandlerService=i,this.ConfigProviderService=a,this.DrawHelperService=s,this.HistoryService=l,this.FontScaleService=c,this.ModalService=u,this.LevelService=h,this.LoadedMetaDataService=p,this.HierarchyLayoutService=f,this.DataService=d,this.open=!0,this._inited=!1,this.backgroundCanvas={background:o.a.colorBlack}}return t.prototype.$postLink=function(){var e=this;this.levelDef=this.ConfigProviderService.getLevelDefinition(this.level.name),this.canvases=this.$element.find("canvas"),this.levelCanvasContainer=this.$element.find("div"),this._inited&&(this.drawLevelDetails(),this.drawLevelMarkup()),this.$element.bind("mouseleave",(function(){e.ViewStateService.setcurMouseItem(void 0,void 0,void 0),e.drawLevelMarkup()}))},t.prototype.$onChanges=function(e){e.viewPortSampleStart&&e.viewPortSampleStart.currentValue!==e.viewPortSampleStart.previousValue&&this._inited&&(this.drawLevelDetails(),this.drawLevelMarkup()),e.viewPortSampleEnd&&e.viewPortSampleEnd.currentValue!==e.viewPortSampleEnd.previousValue&&this._inited&&(this.drawLevelDetails(),this.drawLevelMarkup()),e.viewPortSelectStart&&e.viewPortSelectStart.currentValue!==e.viewPortSelectStart.previousValue&&this._inited&&this.drawLevelMarkup(),e.viewPortSelectEnd&&e.viewPortSelectEnd.currentValue!==e.viewPortSelectEnd.previousValue&&this._inited&&this.drawLevelMarkup(),e.curMouseX&&e.curMouseX.currentValue!==e.curMouseX.previousValue&&this._inited&&this.drawLevelMarkup(),e.curClickLevelName&&e.curClickLevelName.currentValue!==e.curClickLevelName.previousValue&&this._inited&&this.drawLevelMarkup(),e.movingBoundarySample&&e.movingBoundarySample.currentValue!==e.movingBoundarySample.previousValue&&this._inited&&(this.drawLevelMarkup(),this.level.name===this.ViewStateService.curMouseLevelName&&this.drawLevelDetails()),e.movingBoundary&&e.movingBoundary.currentValue!==e.movingBoundary.previousValue&&this._inited&&this.drawLevelMarkup(),e.movesAwayFromLastSave&&e.movesAwayFromLastSave.currentValue!==e.movesAwayFromLastSave.previousValue&&this._inited&&(this.drawLevelDetails(),this.drawLevelMarkup()),e.curPerspectiveIdx&&e.curPerspectiveIdx.currentValue!==e.curPerspectiveIdx.previousValue&&this._inited&&(this.drawLevelDetails(),this.drawLevelMarkup()),e.curBndl&&e.curBndl.currentValue!==e.curBndl.previousValue&&this._inited&&(this.drawLevelDetails(),this.drawLevelMarkup())},t.prototype.$onInit=function(){var e=this;this._inited=!0,this.resizeObservable$=Object(n.a)(window,"resize"),this.resizeObservable$.pipe(Object(i.a)(500)).subscribe((function(t){e.drawLevelDetails(),e.drawLevelMarkup()}))},t.prototype.changeCurAttrDef=function(e,t){var r=this;this.ViewStateService.getCurAttrDef(this.level.name)!==e&&(this.ViewStateService.setCurAttrDef(this.level.name,e,t),this.$element.hasClass("emuwebapp-level-animation")||(this.ViewStateService.setEditing(!1),this.LevelService.deleteEditArea(),this.$animate.addClass(this.levelCanvasContainer,"emuwebapp-level-animation").then((function(){r.$animate.removeClass(r.levelCanvasContainer,"emuwebapp-level-animation"),r.drawLevelDetails(),r.drawLevelMarkup()}))))},t.prototype.getAttrDefBtnColor=function(e){return e===this.ViewStateService.getCurAttrDef(this.level.name)?{background:"-webkit-radial-gradient(50% 50%, closest-corner, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0) 60%)","border-color":o.a.colorYellow}:{"background-color":o.a.colorWhite}},t.prototype.drawLevelDetails=function(){var t,r=this,n=o.a.fontSmallFamily;t=void 0===this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontFamily?o.a.fontSmallFamily:this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontFamily;var i,a=Number(localStorage.getItem("levelCanvasesFontScalingFactor"));0===a&&(a=100),a/=100;var s=parseInt(o.a.fontSmallSize.slice(0,-2));i=void 0===this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.fontPxSize?parseInt(o.a.fontSmallSize.slice(0,-2))*a:this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontPxSize*a;var l=this.ViewStateService.getCurAttrDef(this.level.name),c="25px"!==this.$element.parent().css("height");if(!e.isEmptyObject(this.level)&&!e.isEmptyObject(this.ViewStateService)&&!e.isEmptyObject(this.ConfigProviderService)){var u,h,p,f=this.canvases[0].getContext("2d");f.clearRect(0,0,f.canvas.width,f.canvas.height),u=this.ViewStateService.getSampleDist(f.canvas.width);var d=f.canvas.height/f.canvas.offsetHeight;this.level.name===l?this.FontScaleService.drawUndistortedText(f,this.level.name,s,n,4,f.canvas.height/2,o.a.colorBlue,!0):this.FontScaleService.drawUndistortedTextTwoLines(f,this.level.name+":"+l,"("+this.level.type+")",s,n,4,f.canvas.height/2-s*d,o.a.colorWhite,!0);var v=f.measureText("m").width*this.FontScaleService.scaleX,m=f.measureText("0").width*this.FontScaleService.scaleX;if("SEGMENT"===this.level.type)f.fillStyle=o.a.colorWhite,this.level.items.forEach((function(e){if(e.sampleStart>=r.ViewStateService.curViewPort.sS&&e.sampleStart<=r.ViewStateService.curViewPort.eS||e.sampleStart+e.sampleDur>r.ViewStateService.curViewPort.sS&&e.sampleStart+e.sampleDur<r.ViewStateService.curViewPort.eS||e.sampleStart<r.ViewStateService.curViewPort.sS&&e.sampleStart+e.sampleDur>r.ViewStateService.curViewPort.eS){var a;if(e.labels.forEach((function(e){e.name===l&&(a=e.value)})),h=r.ViewStateService.getPos(f.canvas.width,e.sampleStart),p=r.ViewStateService.getPos(f.canvas.width,e.sampleStart+e.sampleDur+1),f.fillStyle=o.a.colorWhite,f.fillRect(h,0,2,f.canvas.height/2),f.fillStyle=o.a.colorGrey,f.fillRect(p,f.canvas.height/2,2,f.canvas.height),f.font=s-2+"px "+t,void 0!==a&&p-h>v*a.length&&(c?r.FontScaleService.drawUndistortedText(f,a,i-2,t,h+(p-h)/2,f.canvas.height/2-(s-2)+2,o.a.colorWhite,!1):r.FontScaleService.drawUndistortedText(f,a,i-2,t,h+(p-h)/2,f.canvas.height/2-s+2,o.a.colorWhite,!1)),r.open&&void 0!==a&&0!==a.length){var u=h+(p-h)/2,g=f.canvas.height/4;f.strokeStyle=o.a.colorWhite,f.lineWidth=4,f.beginPath(),f.moveTo(h,g),f.lineTo(u,g),f.lineTo(u,g+5),f.stroke(),g=f.canvas.height/4*3,f.strokeStyle=o.a.colorGrey,f.beginPath(),f.moveTo(p,g),f.lineTo(u,g),f.lineTo(u,g-5),f.stroke(),f.lineWidth=1}if(r.open){p-h>m*e.sampleStart.toString().length&&c&&r.FontScaleService.drawUndistortedText(f,e.sampleStart,s-2,n,h+3,s*d/2,o.a.colorBlue,!0);var S="dur: "+e.sampleDur+" ";p-h>m*S.length&&c&&r.FontScaleService.drawUndistortedText(f,S,s-2,n,p-f.measureText(S).width*r.FontScaleService.scaleX,f.canvas.height/4*3+s*d/2,o.a.colorBlue,!0)}}}));else if("EVENT"===this.level.type){var g;f.fillStyle=o.a.colorWhite,this.level.items.forEach((function(e){var n;e.samplePoint>r.ViewStateService.curViewPort.sS&&e.samplePoint<r.ViewStateService.curViewPort.eS&&(g=Math.round(r.ViewStateService.getPos(f.canvas.width,e.samplePoint)+u/2),e.labels.forEach((function(e){e.name===l&&(n=e.value)})),f.fillStyle=o.a.colorWhite,f.fillRect(g,0,3,f.canvas.height/2-f.canvas.height/5),f.fillRect(g,f.canvas.height/2+f.canvas.height/5,3,f.canvas.height/2-f.canvas.height/5),r.FontScaleService.drawUndistortedText(f,n,i-2,t,g,f.canvas.height/2-(s-2)+2,o.a.colorWhite,!1),c&&r.FontScaleService.drawUndistortedText(f,e.samplePoint,s-2,t,g+5,s*d/2,o.a.colorBlue,!0))}))}}},t.prototype.drawLevelMarkup=function(){var e,t,r,n,i,a=this,s=this.canvases[1].getContext("2d");s.clearRect(0,0,s.canvas.width,s.canvas.height),this.level.name===this.ViewStateService.getcurClickLevelName()&&(s.fillStyle=o.a.colorTransparentGrey,s.fillRect(0,0,s.canvas.width,s.canvas.height)),this.DrawHelperService.drawMovingBoundaryLine(s),this.DrawHelperService.drawCurViewPortSelected(s),e=this.ViewStateService.getPos(s.canvas.width,this.ViewStateService.curViewPort.selectS),t=this.ViewStateService.getPos(s.canvas.width,this.ViewStateService.curViewPort.selectE),r=this.ViewStateService.getSampleDist(s.canvas.width);var l=this.ViewStateService.getcurMouseItem(),c=this.ViewStateService.getcurMouseisFirst(),u=this.ViewStateService.getcurMouseisLast(),h=this.ViewStateService.getcurClickItems(),p=this.ViewStateService.getcurClickLevelName();void 0!==h&&this.level.name===p&&h.length>0&&h.forEach((function(n){void 0!==n&&(void 0!==n.sampleStart?(e=Math.round(a.ViewStateService.getPos(s.canvas.width,n.sampleStart)),t=Math.round(a.ViewStateService.getPos(s.canvas.width,n.sampleStart+n.sampleDur+1))):(e=Math.round(a.ViewStateService.getPos(s.canvas.width,n.samplePoint)+r/2),t=(e-=5)+10),s.fillStyle=o.a.colorTransparentYellow,s.fillRect(e,0,t-e,s.canvas.height),s.fillStyle=o.a.colorWhite)})),i=this.ViewStateService.getcurMouseItem(),this.level.items.length>0&&void 0!==i&&void 0!==l&&this.level.name===this.ViewStateService.getcurMouseLevelName()&&(s.fillStyle=o.a.colorBlue,!0===c?"SEGMENT"===this.ViewStateService.getcurMouseLevelType()&&(i=this.level.items[0],e=Math.round(this.ViewStateService.getPos(s.canvas.width,i.sampleStart)),s.fillRect(e,0,3,s.canvas.height)):!0===u?"SEGMENT"===this.ViewStateService.getcurMouseLevelType()&&(i=this.level.items[this.level.items.length-1],e=Math.round(this.ViewStateService.getPos(s.canvas.width,i.sampleStart+i.sampleDur+1)),s.fillRect(e,0,3,s.canvas.height)):"SEGMENT"===this.ViewStateService.getcurMouseLevelType()?(e=Math.round(this.ViewStateService.getPos(s.canvas.width,i.sampleStart)),s.fillRect(e,0,3,s.canvas.height)):(e=Math.round(this.ViewStateService.getPos(s.canvas.width,i.samplePoint)),n=r/2,s.fillRect(e+n,0,3,s.canvas.height)),s.fillStyle=o.a.colorWhite),this.DrawHelperService.drawCrossHairX(s,this.ViewStateService.curMouseX)},t}()]};t.module("emuwebApp").component(s.selector,s)}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(100),i=r(0),a=r.n(i),o={selector:"spectro",template:'\n    <div class="emuwebapp-timeline">\n    \x3c!-- width is now up to 4k --\x3e\n    <div class="emuwebapp-timelineCanvasContainer">\n        <canvas \n        class="emuwebapp-timelineCanvasMain" \n        width="4096"></canvas>\n        \n       \x3c!-- \n       <canvas \n        class="emuwebapp-timelineCanvasSSFF" \n        width="4096" \n        drawssff \n        ssff-trackname="{{$ctrl.trackName}}"></canvas>\n        --\x3e\n        \n        <ssff-canvas\n        track-name="$ctrl.trackName"\n        all-ssff-data="$ctrl.SsffDataService.data"\n        view-port-sample-start="$ctrl.viewPortSampleStart"\n        view-port-sample-end="$ctrl.viewPortSampleEnd"\n        cur-bndl="$ctrl.curBundl"\n        cur-mouse-x="$ctrl.curMouseX"\n        cur-mouse-y="$ctrl.curMouseY"\n        moves-away-from-last-save="$ctrl.HistoryService.movesAwayFromLastSave"\n        ></ssff-canvas>\n\n        <signal-canvas-markup-canvas\n        track-name="$ctrl.trackName"\n        play-head-current-sample="$ctrl.playHeadCurrentSample"\n        moving-boundary-sample="$ctrl.movingBoundarySample"\n        cur-mouse-x="$ctrl.curMouseX"\n        cur-mouse-y="$ctrl.curMouseY"\n        moving-boundary="$ctrl.movingBoundary"\n        view-port-sample-start="$ctrl.viewPortSampleStart"\n        view-port-sample-end="$ctrl.viewPortSampleEnd"\n        view-port-select-start="$ctrl.viewPortSelectStart"\n        view-port-select-end="$ctrl.viewPortSelectEnd"\n        cur-bndl="$ctrl.curBundl"\n        ></signal-canvas-markup-canvas>\n    </div>\n    </div>',bindings:{trackName:"<",windowSizeInSecs:"<",rangeFrom:"<",rangeTo:"<",dynamicRange:"<",window:"<",drawHeatMapColors:"<",preEmphasisFilterFactor:"<",heatMapColorAnchors:"<",invert:"<",osciSettings:"<",lastUpdate:"<",movingBoundarySample:"<",curMouseX:"<",curMouseY:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",viewPortSelectStart:"<",viewPortSelectEnd:"<",curBndl:"<"},controller:["$element","$timeout","ViewStateService","ConfigProviderService","SsffDataService","DrawHelperService","FontScaleService","SoundHandlerService","MathHelperService","HistoryService",function(){function t(e,t,r,i,a,o,s,l,c,u){this.$element=e,this.$timeout=t,this.ViewStateService=r,this.ConfigProviderService=i,this.SsffDataService=a,this.DrawHelperService=o,this.FontScaleService=s,this.SoundHandlerService=l,this.MathHelperService=c,this.HistoryService=u,this._inited=!1,this.primeWorker=new n.a,this.alpha=.16,this.devicePixelRatio=window.devicePixelRatio||1}return t.prototype.$postLink=function(){this.canvas0=this.$element.find("canvas")[0],this.context=this.canvas0.getContext("2d")},t.prototype.$onChanges=function(t){this._inited&&(t.viewPortSampleStart||t.viewPortSampleEnd||t.curBndl||t.osciSettings||t.windowSizeInSecs||t.rangeFrom||t.rangeTo||t.dynamicRange||t.window||t.drawHeatMapColors||t.preEmphasisFilterFactor||t.heatMapColorAnchors||t.invert)&&(e.isEmptyObject(this.SoundHandlerService)||e.isEmptyObject(this.SoundHandlerService.audioBuffer)||(t.spectroSettings&&this.setupEvent(),this.redraw()))},t.prototype.$onInit=function(){this._inited=!0},t.prototype.redraw=function(){this.drawSpectro(this.SoundHandlerService.audioBuffer.getChannelData(this.ViewStateService.osciSettings.curChannel))},t.prototype.drawSpectro=function(e){this.killSpectroRenderingThread(),this.startSpectroRenderingThread(e)},t.prototype.calcSamplesPerPxl=function(){return(this.ViewStateService.curViewPort.eS+1-this.ViewStateService.curViewPort.sS)/this.canvas0.width},t.prototype.killSpectroRenderingThread=function(){this.context.fillStyle=a.a.colorBlack,this.context.fillRect(0,0,this.canvas0.width,this.canvas0.height),this.FontScaleService.drawUndistortedText(this.context,"rendering...",.75*parseInt(a.a.fontSmallSize.slice(0,-2)),a.a.fontSmallFamily,10,50,a.a.colorBlack,!0),null!==this.primeWorker&&(this.primeWorker.kill(),this.primeWorker=null)},t.prototype.setupEvent=function(){var e=this,t=this.context.createImageData(this.canvas0.width,this.canvas0.height);this.primeWorker.says((function(r){if(void 0===r.status){if(e.calcSamplesPerPxl()===r.samplesPerPxl){var n=new Uint8ClampedArray(r.img);t.data.set(n),e.context.putImageData(t,0,0)}}else console.error("Error rendering spectrogram:",r.status.message)}))},t.prototype.startSpectroRenderingThread=function(e){if(e.length>0){this.primeWorker=new n.a;var t=[],r=this.MathHelperService.calcClosestPowerOf2Gt(this.SoundHandlerService.audioBuffer.sampleRate*this.ViewStateService.spectroSettings.windowSizeInSecs);r<512&&(r=512),t=e.subarray(this.ViewStateService.curViewPort.sS,this.ViewStateService.curViewPort.eS);var i=[],a=[],o=this.SoundHandlerService.audioBuffer.sampleRate*this.ViewStateService.spectroSettings.windowSizeInSecs;this.ViewStateService.curViewPort.sS<o/2||(i=e.subarray(this.ViewStateService.curViewPort.sS-o/2,this.ViewStateService.curViewPort.sS)),this.ViewStateService.curViewPort.eS+r/2-1>=this.SoundHandlerService.audioBuffer.length||(a=e.subarray(this.ViewStateService.curViewPort.eS,this.ViewStateService.curViewPort.eS+r/2-1));var s=new Float32Array(i.length+t.length+a.length);s.set(i),s.set(t,i.length),s.set(a,i.length+t.length),t=this.ViewStateService.curViewPort.sS>=r/2?e.subarray(this.ViewStateService.curViewPort.sS-r/2,this.ViewStateService.curViewPort.eS+r):e.subarray(this.ViewStateService.curViewPort.sS,this.ViewStateService.curViewPort.eS+r),this.setupEvent(),this.primeWorker.tell({windowSizeInSecs:this.ViewStateService.spectroSettings.windowSizeInSecs,fftN:r,alpha:this.alpha,upperFreq:this.ViewStateService.spectroSettings.rangeTo,lowerFreq:this.ViewStateService.spectroSettings.rangeFrom,samplesPerPxl:this.calcSamplesPerPxl(),window:this.ViewStateService.spectroSettings.window,imgWidth:this.canvas0.width,imgHeight:this.canvas0.height,dynRangeInDB:this.ViewStateService.spectroSettings.dynamicRange,pixelRatio:this.devicePixelRatio,sampleRate:this.SoundHandlerService.audioBuffer.sampleRate,transparency:this.ConfigProviderService.vals.spectrogramSettings.transparency,audioBuffer:s,audioBufferChannels:this.SoundHandlerService.audioBuffer.numberOfChannels,drawHeatMapColors:this.ViewStateService.spectroSettings.drawHeatMapColors,preEmphasisFilterFactor:this.ViewStateService.spectroSettings.preEmphasisFilterFactor,heatMapColorAnchors:this.ViewStateService.spectroSettings.heatMapColorAnchors,invert:this.ViewStateService.spectroSettings.invert},[s.buffer])}},t}()]};t.module("emuwebApp").component(o.selector,o)}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(0),i=r.n(n),a={selector:"ssffCanvas",template:'\n    <canvas \n    class="emuwebapp-timelineCanvasSSFF" \n    width="4096"\n    ></canvas>\n    ',bindings:{trackName:"<",allSsffData:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",curBndl:"<",curMouseX:"<",curMouseY:"<",movesAwayFromLastSave:"<"},controller:["$scope","$element","ViewStateService","ConfigProviderService","SsffDataService","FontScaleService","LoadedMetaDataService",function(){function r(e,t,r,n,i,a,o){this.assignmentTrackName="",this._inited=!1,this.$scope=e,this.$element=t,this.ViewStateService=r,this.ConfigProviderService=n,this.SsffDataService=i,this.FontScaleService=a,this.LoadedMetaDataService=o}return r.prototype.$postLink=function(){this.canvas=this.$element.find("canvas")[0],this.ctx=this.canvas.getContext("2d")},r.prototype.$onChanges=function(e){this._inited&&((e.viewPortSampleStart||e.viewPortSampleEnd||e.curBndl||e.allSsffData||e.movesAwayFromLastSave)&&this.handleUpdate(),(e.curMouseX||e.curMouseY)&&this.handleUpdate())},r.prototype.$onInit=function(){this._inited=!0},r.prototype.handleUpdate=function(){var t=this;if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),e.isEmptyObject(this.allSsffData))this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);else if(0!==this.allSsffData.length&&(this.assignmentTrackName="",this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.assign.forEach((function(e){if(e.signalCanvasName===t.trackName){t.assignmentTrackName=e.ssffTrackName;var r=t.ConfigProviderService.getSsffTrackConfig(e.ssffTrackName),n=t.SsffDataService.getColumnOfTrack(r.name,r.columnName),i=t.SsffDataService.getSampleRateAndStartTimeOfTrack(r.name),a=t.ConfigProviderService.getContourLimsOfTrack(r.name),o=t.ConfigProviderService.getValueLimsOfTrack(r.name);t.drawValues(t.ViewStateService,t.ConfigProviderService,n,i.sampleRate,i.startTime,a,o)}})),this.assignmentTrackName="","OSCI"!==this.trackName&&"SPEC"!==this.trackName)){var r=this.ConfigProviderService.getSsffTrackConfig(this.trackName),n=this.SsffDataService.getColumnOfTrack(r.name,r.columnName),i=this.SsffDataService.getSampleRateAndStartTimeOfTrack(r.name),a=this.ConfigProviderService.getContourLimsOfTrack(r.name),o=this.ConfigProviderService.getValueLimsOfTrack(r.name);this.drawValues(this.ViewStateService,this.ConfigProviderService,n,i.sampleRate,i.startTime,a,o)}},r.prototype.drawValues=function(r,n,a,o,s,l,c){var u,h,p=this;"SPEC"===this.trackName&&"FORMANTS"===this.assignmentTrackName?(u=r.spectroSettings.rangeFrom,h=r.spectroSettings.rangeTo):(u=a._minVal,h=a._maxVal),t.equals(c,{})||(u=c.minVal,h=c.maxVal);var f,d,v=r.getViewPortStartTime(),m=r.getViewPortEndTime(),g=Math.max(0,Math.ceil((v-s)*o)),S=Math.min(Math.floor((m-s)*o),a.values.length-1),w=S-g+1,y=a.values.slice(g,g+w),b=this.ConfigProviderService.getHorizontalLinesOfTrack(this.trackName);(b&&b.yValues.forEach((function(e){p.ctx.beginPath(),p.ctx.lineWidth="2",p.ctx.strokeStyle="blue",p.ctx.globalAlpha=.75;var t=p.canvas.height-(e-u)/(h-u)*p.canvas.height;p.ctx.moveTo(0,t),p.ctx.lineTo(p.canvas.width,t),p.ctx.stroke(),p.ctx.lineWidth="1",p.ctx.globalAlpha=1})),w<this.canvas.width&&w>=2)?y[0].forEach((function(t,n){if(e.isEmptyObject(l)||n>=l.minContourIdx&&n<=l.maxContourIdx){if(e.isEmptyObject(l))p.ctx.strokeStyle="hsl("+n*(360/y[0].length)+",80%, 50%)",p.ctx.fillStyle="hsl("+n*(360/y[0].length)+",80%, 50%)";else{var c=l.maxContourIdx-l.minContourIdx+1;p.ctx.strokeStyle="hsl("+n*(360/c)+",80%, 50%)",p.ctx.fillStyle="hsl("+n*(360/c)+",80%, 50%)"}if(""!==p.assignmentTrackName)var w=p.ConfigProviderService.getContourColorsOfTrack(p.assignmentTrackName);else w=p.ConfigProviderService.getContourColorsOfTrack(p.trackName);if(void 0!==w&&void 0!==w.colors[n]&&(p.ctx.strokeStyle=w.colors[n],p.ctx.fillStyle=w.colors[n]),r.curCorrectionToolNr-1===n&&"SPEC"===p.trackName&&"FORMANTS"===p.assignmentTrackName&&(p.ctx.strokeStyle=i.a.colorGreen,p.ctx.fillStyle=i.a.colorGreen),p.ctx.beginPath(),g>=1){var b=a.values[g-1][n];f=(1/o*(g-1)+s-v)/(m-v)*p.canvas.width,d=p.canvas.height-(b-u)/(h-u)*p.canvas.height,p.ctx.moveTo(f,d)}if(y.forEach((function(e,t){f=(1/o*(g+t)+s-v)/(m-v)*p.canvas.width,d=p.canvas.height-(e[n]-u)/(h-u)*p.canvas.height,p.ctx.arc(f,d-1,2,0,2*Math.PI,!1),p.ctx.lineTo(f,d)})),S<a.values.length-1){var x=a.values[S+1][n];f=(1/o*(S+1)+s-v)/(m-v)*p.canvas.width,d=p.canvas.height-(x-u)/(h-u)*p.canvas.height,p.ctx.lineTo(f,d)}p.ctx.stroke()}})):(this.ctx.strokeStyle="red",w<=2?this.FontScaleService.drawUndistortedTextTwoLines(this.ctx,"Zoom out to","see contour(s)",parseInt(i.a.fontSmallSize.slice(0,-2))/1.05,i.a.fontSmallFamily,this.canvas.width/2-this.ctx.measureText("see contour(s)").width*this.ctx.canvas.width/this.ctx.canvas.offsetWidth/2,25,i.a.colorTransparentRed):this.FontScaleService.drawUndistortedTextTwoLines(this.ctx,"Zoom in to","see contour(s)",parseInt(i.a.fontSmallSize.slice(0,-2))/1.05,i.a.fontSmallFamily,this.canvas.width/2-this.ctx.measureText("see contour(s)").width*this.ctx.canvas.width/this.ctx.canvas.offsetWidth/2,25,i.a.colorTransparentRed))},r}()]};t.module("emuwebApp").component(a.selector,a)}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(0),i=r.n(n),a={selector:"osciOverview",template:'\n    <div class="emuwebapp-preview">\n    <canvas \n    width="4096" \n    height="128" \n    class="emuwebapp-preview-canvas" \n    ng-style="$ctrl.backgroundCanvas" \n    id="PreviewCanvas"></canvas>\n    <canvas \n    width="4096" \n    height="128" \n    class="emuwebapp-preview-canvas-markup" \n    id="PreviewCanvas" \n    previewtrack></canvas>\n    </div>\n    ',bindings:{curChannel:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",curBndl:"<"},controller:["$scope","$element","ViewStateService","SoundHandlerService","DrawHelperService","ConfigProviderService",function(){function t(e,t,r,n,i,a){this.$scope=e,this.$element=t,this.ViewStateService=r,this.SoundHandlerService=n,this.DrawHelperService=i,this.ConfigProviderService=a,this.backgroundCanvas={background:"#000",border:"1px solid gray",width:"100%",height:"100%"},this.startSample=-1,this.envelopeHasBeenDrawn=!1,this._inited=!1}return t.prototype.$postLink=function(){var t=this;this.canvas=this.$element.find("canvas")[0],this.markupCanvas=this.$element.find("canvas")[1],this.$element.bind("click",(function(r){if(!e.isEmptyObject(t.SoundHandlerService.audioBuffer)){var n=t.ViewStateService.curViewPort.eS-t.ViewStateService.curViewPort.sS;t.startSample=t.ViewStateService.getX(r)*(t.SoundHandlerService.audioBuffer.length/r.originalEvent.target.width),t.startSample-n/2<0?t.startSample=Math.ceil(n/2):t.startSample+n/2>t.SoundHandlerService.audioBuffer.length&&(t.startSample=Math.floor(t.SoundHandlerService.audioBuffer.length-n/2)),t.ViewStateService.isEditing()||t.$scope.$apply((function(){t.ViewStateService.setViewPort(t.startSample-n/2,t.startSample+n/2)}))}})),this.$element.bind("mousedown",(function(r){e.isEmptyObject(t.SoundHandlerService.audioBuffer)||(t.startSample=t.ViewStateService.getX(r)*(t.SoundHandlerService.audioBuffer.length/r.originalEvent.target.width))})),this.$element.bind("mousemove",(function(e){switch(void 0===e.buttons?e.which:e.buttons){case 1:if(-1!==t.startSample){var r=t.ViewStateService.curViewPort.eS-t.ViewStateService.curViewPort.sS;t.startSample=t.ViewStateService.getX(e)*(t.SoundHandlerService.audioBuffer.length/e.originalEvent.target.width),t.ViewStateService.isEditing()||t.$scope.$apply((function(){t.ViewStateService.setViewPort(t.startSample-r/2,t.startSample+r/2)}))}}})),this.$element.bind("mouseup",(function(){t.startSample=-1})),this.$element.bind("mouseout",(function(){t.startSample=-1}))},t.prototype.$onChanges=function(e){if(this._inited&&((e.curChannel||e.viewPortSampleStart||e.viewPortSampleEnd)&&this.drawPreview(),e.curBndl&&(this.envelopeHasBeenDrawn=!1,this.backgroundCanvas={background:i.a.colorBlack,border:"1px solid gray",width:"100%",height:"100%"},this.drawPreview(),0===Object.keys(this.curBndl).length&&this.curBndl.constructor===Object))){var t=this.canvas.getContext("2d"),r=this.markupCanvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),r.clearRect(0,0,this.canvas.width,this.canvas.height)}},t.prototype.$onInit=function(){this._inited=!0},t.prototype.drawPreview=function(){e.isEmptyObject(this.SoundHandlerService.audioBuffer)||(this.envelopeHasBeenDrawn||(this.envelopeHasBeenDrawn=!0,this.DrawHelperService.freshRedrawDrawOsciOnCanvas(this.canvas,0,this.SoundHandlerService.audioBuffer.length,!0)),this.drawVpOsciMarkup())},t.prototype.drawVpOsciMarkup=function(){var e=this.markupCanvas.getContext("2d"),t=this.markupCanvas.width/this.SoundHandlerService.audioBuffer.length*this.ViewStateService.curViewPort.sS,r=this.markupCanvas.width/this.SoundHandlerService.audioBuffer.length*this.ViewStateService.curViewPort.eS;e.clearRect(0,0,this.markupCanvas.width,this.markupCanvas.height),e.fillStyle=i.a.colorTransparentLightGrey,e.fillRect(t,0,r-t,this.markupCanvas.height),e.strokeStyle=i.a.colorWhite,e.beginPath(),e.moveTo(t,0),e.lineTo(t,this.markupCanvas.height),e.moveTo(r,0),e.lineTo(r,this.markupCanvas.height),e.closePath(),e.stroke()},t}()]};t.module("emuwebApp").component(a.selector,a)}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(0),i=r.n(n),a={selector:"signalCanvasMarkupCanvas",template:'\n    <canvas class="emuwebapp-timelineCanvasMarkup" \n    width="4096" \n    ></canvas>\n    ',bindings:{trackName:"<",playHeadCurrentSample:"<",movingBoundarySample:"<",curMouseX:"<",curMouseY:"<",movingBoundary:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",viewPortSelectStart:"<",viewPortSelectEnd:"<",curBndl:"<"},controller:["$scope","$element","ViewStateService","ConfigProviderService","SsffDataService","DrawHelperService","HistoryService","SoundHandlerService",function(){function r(e,t,r,n,i,a,o,s){this._inited=!1,this.$element=t,this.$scope=e,this.ViewStateService=r,this.ConfigProviderService=n,this.SsffDataService=i,this.DrawHelperService=a,this.HistoryService=o,this.SoundHandlerService=s,this.drawCrossHairs=!1}return r.prototype.$postLink=function(){var r=this;this.canvas=this.$element.find("canvas")[0],this.ctx=this.canvas.getContext("2d"),this.$element.bind("mousedown",(function(e){e.shiftKey||(r.ViewStateService.curViewPort.movingS=Math.round(r.ViewStateService.getX(e)*r.ViewStateService.getSamplesPerPixelVal(e)+r.ViewStateService.curViewPort.sS),r.ViewStateService.curViewPort.movingE=r.ViewStateService.curViewPort.movingS,r.ViewStateService.select(r.ViewStateService.curViewPort.movingS,r.ViewStateService.curViewPort.movingE),r.drawMarkup(),r.$scope.$apply())})),this.$element.bind("mouseup",(function(e){if(e.shiftKey){var t=Math.round(r.ViewStateService.getX(e)*r.ViewStateService.getSamplesPerPixelVal(e)+r.ViewStateService.curViewPort.sS),n=r.ViewStateService.curViewPort.selectE-r.ViewStateService.curViewPort.selectS;t<=r.ViewStateService.curViewPort.selectS+n/2&&(r.ViewStateService.curViewPort.selectS=t),t>=r.ViewStateService.curViewPort.selectE-n/2&&(r.ViewStateService.curViewPort.selectE=t),r.drawMarkup(),r.$scope.$apply()}})),this.$element.bind("mousemove",(function(n){var i=0;r.drawCrossHairs=!0,i=void 0===n.buttons?n.which:n.buttons;var a=r.ViewStateService.getX(n);switch(r.ViewStateService.curMouseX=a,r.curMouseY=r.ViewStateService.getY(n),r.ViewStateService.curMouseY=r.curMouseY,r.ViewStateService.curMouseTrackName=r.trackName,r.ViewStateService.curMousePosSample=Math.round(r.ViewStateService.curViewPort.sS+a/r.canvas.width*(r.ViewStateService.curViewPort.eS-r.ViewStateService.curViewPort.sS)),i){case 0:if(r.ViewStateService.getPermission("labelAction")&&!(e.isEmptyObject(r.SsffDataService.data)||0===r.SsffDataService.data.length||r.ViewStateService.getdragBarActive()||void 0===r.ViewStateService.curCorrectionToolNr||r.ViewStateService.getdragBarActive()||e.isEmptyObject(r.ConfigProviderService.getAssignment(r.trackName)))){void 0===r.formantCorrectionTrack&&(r.formantCorrectionTrack=r.ConfigProviderService.getSsffTrackConfig("FORMANTS"));var o=r.SsffDataService.getColumnOfTrack(r.formantCorrectionTrack.name,r.formantCorrectionTrack.columnName),s=r.SsffDataService.getSampleRateAndStartTimeOfTrack(r.formantCorrectionTrack.name),l=r.ViewStateService.getViewPortStartTime(),c=r.ViewStateService.getViewPortEndTime(),u=Math.max(0,Math.ceil((l-s.startTime)*s.sampleRate)),h=Math.min(Math.floor((c-s.startTime)*s.sampleRate),o.values.length-1)-u+1,p=o.values.slice(u,u+h),f=l+r.ViewStateService.getX(n)/n.originalEvent.target.width*(c-l),d=Math.round((f-s.startTime)*s.sampleRate);s.sampleRate,s.startTime;if(d-u<0||d-u>=p.length)return;if(r.ViewStateService.curPreselColumnSample=d-u,n.shiftKey){var v=t.copy(p[r.ViewStateService.curPreselColumnSample][r.ViewStateService.curCorrectionToolNr-1]),m=r.ViewStateService.spectroSettings.rangeTo-r.ViewStateService.getY(n)/n.originalEvent.target.height*r.ViewStateService.spectroSettings.rangeTo;p[r.ViewStateService.curPreselColumnSample][r.ViewStateService.curCorrectionToolNr-1]=r.ViewStateService.spectroSettings.rangeTo-r.ViewStateService.getY(n)/n.originalEvent.target.height*r.ViewStateService.spectroSettings.rangeTo,r.HistoryService.updateCurChangeObj({type:"SSFF",trackName:r.formantCorrectionTrack.name,sampleBlockIdx:u+r.ViewStateService.curPreselColumnSample,sampleIdx:r.ViewStateService.curCorrectionToolNr-1,oldValue:v,newValue:m})}}break;case 1:r.ViewStateService.getdragBarActive()||r.setSelectDrag(n)}r.$scope.$apply()})),this.$element.bind("mouseleave",(function(t){r.drawCrossHairs=!1,e.isEmptyObject(r.SoundHandlerService)||e.isEmptyObject(r.SoundHandlerService.audioBuffer)||r.ViewStateService.getdragBarActive()||r.ViewStateService.getPermission("labelAction")&&(r.drawMarkup(),r.ViewStateService.curMouseTrackName=void 0)}))},r.prototype.$onChanges=function(t){this._inited&&(t.curBndl&&(e.isEmptyObject(this.SsffDataService.data)||0!==this.SsffDataService.data.length&&(this.formantCorrectionTrack=this.ConfigProviderService.getSsffTrackConfig("FORMANTS"))),t.playHeadCurrentSample&&(e.isEmptyObject(this.SoundHandlerService.audioBuffer)||this.drawPlayHead()),(t.movingBoundarySample||t.curMouseX||t.curMouseY||t.viewPortSampleStart||t.viewPortSampleEnd||t.viewPortSelectStart||t.viewPortSelectEnd)&&(e.isEmptyObject(this.SoundHandlerService.audioBuffer)||this.drawMarkup()))},r.prototype.$onInit=function(){this._inited=!0},r.prototype.drawMarkup=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var e=0,r=0,n="";if("OSCI"===this.trackName)this.DrawHelperService.drawViewPortTimes(this.ctx,!0),this.DrawHelperService.drawCurViewPortSelected(this.ctx,!0);else if("SPEC"===this.trackName)e=this.ViewStateService.spectroSettings.rangeFrom,r=this.ViewStateService.spectroSettings.rangeTo,n="Hz",this.DrawHelperService.drawCurViewPortSelected(this.ctx,!1),this.DrawHelperService.drawMinMaxAndName(this.ctx,"",e,r,2);else{var i=this.ConfigProviderService.getSsffTrackConfig(this.trackName),a=this.ConfigProviderService.getValueLimsOfTrack(this.trackName);if(t.equals(a,{})){var o=this.SsffDataService.getColumnOfTrack(i.name,i.columnName);void 0!==o&&(e=o._minVal,r=o._maxVal)}else e=a.minVal,r=a.maxVal,void 0!==a.unit&&(n=a.unit);this.DrawHelperService.drawCurViewPortSelected(this.ctx,!1),r>0&&this.DrawHelperService.drawMinMaxAndName(this.ctx,this.trackName,e,r,2)}if(this.drawCrossHairs?this.DrawHelperService.drawCrossHairs(this.ctx,this.curMouseX,this.curMouseY,e,r,n,this.trackName):this.DrawHelperService.drawCrossHairX(this.ctx,this.curMouseX),this.formantCorrectionTrack){var s=this.HistoryService.curChangeObj,l=this.SsffDataService.getSampleRateAndStartTimeOfTrack(this.formantCorrectionTrack.name);for(var c in s){var u=(1/l.sampleRate*s[c].sampleBlockIdx+l.startTime-this.ViewStateService.getViewPortStartTime())/(this.ViewStateService.getViewPortEndTime()-this.ViewStateService.getViewPortStartTime())*this.canvas.width,h=this.canvas.height-s[c].newValue/(this.ViewStateService.spectroSettings.rangeTo-this.ViewStateService.spectroSettings.rangeFrom)*this.canvas.height,p=this.canvas.height-s[c].oldValue/(this.ViewStateService.spectroSettings.rangeTo-this.ViewStateService.spectroSettings.rangeFrom)*this.canvas.height;this.ctx.strokeStyle="black",this.ctx.fillStyle="black",this.ctx.beginPath(),this.ctx.arc(u,h-1,2,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.strokeStyle="red",this.ctx.fillStyle="red",this.ctx.beginPath(),this.ctx.arc(u,p-1,2,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}}this.DrawHelperService.drawMovingBoundaryLine(this.ctx)},r.prototype.setSelectDrag=function(e){var t=Math.round(this.ViewStateService.getX(e)*this.ViewStateService.getSamplesPerPixelVal(e)+this.ViewStateService.curViewPort.sS);t>this.ViewStateService.curViewPort.movingS?this.ViewStateService.curViewPort.movingE=t:this.ViewStateService.curViewPort.movingS=t,this.ViewStateService.select(this.ViewStateService.curViewPort.movingS,this.ViewStateService.curViewPort.movingE),this.$scope.$apply()},r.prototype.drawPlayHead=function(){this.drawMarkup();var e=this.ViewStateService.getPos(this.canvas.width,this.ViewStateService.playHeadAnimationInfos.sS),t=this.ViewStateService.getPos(this.canvas.width,this.ViewStateService.playHeadAnimationInfos.curS);this.ctx.fillStyle=i.a.colorTransparentLightGrey,this.ctx.fillRect(e,0,t-e,this.canvas.height)},r}()]};t.module("emuwebApp").component(a.selector,a)}).call(this,r(19))},function(e,t,r){r(107),r(62),e.exports=r(10).Symbol},function(e,t,r){e.exports=r(47)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(9),i=r(10),a=r(58),o=r(110),s=r(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){var n=r(41),i=r(60),a=r(61);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var o,s=r(e),l=a.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,r){r(107),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(62),e.exports=r(10).Object},function(e,t,r){var n=r(2);n(n.S,"Object",{create:r(42)})},function(e,t,r){var n=r(2);n(n.S+n.F*!r(12),"Object",{defineProperty:r(11).f})},function(e,t,r){var n=r(2);n(n.S+n.F*!r(12),"Object",{defineProperties:r(113)})},function(e,t,r){var n=r(22),i=r(32).f;r(23)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(n(e),t)}}))},function(e,t,r){var n=r(16),i=r(26);r(23)("getPrototypeOf",(function(){return function(e){return i(n(e))}}))},function(e,t,r){var n=r(16),i=r(41);r(23)("keys",(function(){return function(e){return i(n(e))}}))},function(e,t,r){r(23)("getOwnPropertyNames",(function(){return r(115).f}))},function(e,t,r){var n=r(7),i=r(30).onFreeze;r(23)("freeze",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},function(e,t,r){var n=r(7),i=r(30).onFreeze;r(23)("seal",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},function(e,t,r){var n=r(7),i=r(30).onFreeze;r(23)("preventExtensions",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},function(e,t,r){var n=r(7);r(23)("isFrozen",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,r){var n=r(7);r(23)("isSealed",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,r){var n=r(7);r(23)("isExtensible",(function(e){return function(t){return!!n(t)&&(!e||e(t))}}))},function(e,t,r){var n=r(2);n(n.S+n.F,"Object",{assign:r(116)})},function(e,t,r){var n=r(2);n(n.S,"Object",{is:r(117)})},function(e,t,r){var n=r(2);n(n.S,"Object",{setPrototypeOf:r(83).set})},function(e,t,r){r(238),r(240),r(241),e.exports=r(10).Function},function(e,t,r){var n=r(2);n(n.P,"Function",{bind:r(118)})},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(11).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||r(12)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(7),i=r(26),a=r(8)("hasInstance"),o=Function.prototype;a in o||r(11).f(o,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){r(243),e.exports=r(10).parseInt},function(e,t,r){var n=r(2),i=r(119);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,r){r(245),e.exports=r(10).parseFloat},function(e,t,r){var n=r(2),i=r(120);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,r){r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),e.exports=r(10).Number},function(e,t,r){"use strict";var n=r(9),i=r(20),a=r(35),o=r(85),s=r(34),l=r(4),c=r(50).f,u=r(32).f,h=r(11).f,p=r(63).trim,f=n.Number,d=f,v=f.prototype,m="Number"==a(r(42)(v)),g="trim"in String.prototype,S=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,a=(t=g?t.trim():p(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var o,l=t.slice(2),c=0,u=l.length;c<u;c++)if((o=l.charCodeAt(c))<48||o>i)return NaN;return parseInt(l,n)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof f&&(m?l((function(){v.valueOf.call(r)})):"Number"!=a(r))?o(new d(S(t)),r,f):S(t)};for(var w,y=r(12)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;y.length>b;b++)i(d,w=y[b])&&!i(f,w)&&h(f,w,u(d,w));f.prototype=v,v.constructor=f,r(15)(n,"Number",f)}},function(e,t,r){"use strict";var n=r(2),i=r(36),a=r(121),o=r(122),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*c[r],c[r]=n%1e7,n=l(n/1e7)},p=function(e){for(var t=6,r=0;--t>=0;)r+=c[t],c[t]=l(r/e),r=r%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var r=String(c[e]);t=""===t?r:t+o.call("0",7-r.length)+r}return t},d=function(e,t,r){return 0===t?r:t%2==1?d(e,t-1,r*e):d(e*e,t/2,r)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,r,n,s,l=a(this,u),c=i(e),v="",m="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(l*d(2,69,1))-69)<0?l*d(2,-t,1):l/d(2,t,1),r*=4503599627370496,(t=52-t)>0){for(h(0,r),n=c;n>=7;)h(1e7,0),n-=7;for(h(d(10,n,1),0),n=t-1;n>=23;)p(1<<23),n-=23;p(1<<n),h(1,1),p(2),m=f()}else h(0,r),h(1<<-t,0),m=f()+o.call("0",c);return m=c>0?v+((s=m.length)<=c?"0."+o.call("0",c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c)):v+m}})},function(e,t,r){"use strict";var n=r(2),i=r(4),a=r(121),o=1..toPrecision;n(n.P+n.F*(i((function(){return"1"!==o.call(1,void 0)}))||!i((function(){o.call({})}))),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,r){var n=r(2);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(2),i=r(9).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(2);n(n.S,"Number",{isInteger:r(123)})},function(e,t,r){var n=r(2);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(2),i=r(123),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,r){var n=r(2);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(2);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(2),i=r(120);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,r){var n=r(2),i=r(119);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,r){r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),e.exports=r(10).Math},function(e,t,r){var n=r(2),i=r(124),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})},function(e,t,r){var n=r(2),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,r){var n=r(2),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(2),i=r(86);n(n.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(2);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(2),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,r){var n=r(2),i=r(87);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,r){var n=r(2);n(n.S,"Math",{fround:r(268)})},function(e,t,r){var n=r(86),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126);e.exports=Math.fround||function(e){var t,r,i=Math.abs(e),c=n(e);return i<l?c*(i/l/o+1/a-1/a)*l*o:(r=(t=(1+o/a)*i)-(t-i))>s||r!=r?c*(1/0):c*r}},function(e,t,r){var n=r(2),i=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,a=0,o=0,s=arguments.length,l=0;o<s;)l<(r=i(arguments[o++]))?(a=a*(n=l/r)*n+1,l=r):a+=r>0?(n=r/l)*n:r;return l===1/0?1/0:l*Math.sqrt(a)}})},function(e,t,r){var n=r(2),i=Math.imul;n(n.S+n.F*r(4)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var r=+e,n=+t,i=65535&r,a=65535&n;return 0|i*a+((65535&r>>>16)*a+i*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(2);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(2);n(n.S,"Math",{log1p:r(124)})},function(e,t,r){var n=r(2);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(2);n(n.S,"Math",{sign:r(86)})},function(e,t,r){var n=r(2),i=r(87),a=Math.exp;n(n.S+n.F*r(4)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(2),i=r(87),a=Math.exp;n(n.S,"Math",{tanh:function(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(a(e)+a(-e))}})},function(e,t,r){var n=r(2);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){r(279),r(280),r(281),r(64),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(126),r(128),r(129),r(130),e.exports=r(10).String},function(e,t,r){var n=r(2),i=r(49),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(2),i=r(22),a=r(13);n(n.S,"String",{raw:function(e){for(var t=i(e.raw),r=a(t.length),n=arguments.length,o=[],s=0;r>s;)o.push(String(t[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,r){"use strict";r(63)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,r){"use strict";var n=r(2),i=r(88)(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,r){"use strict";var n=r(2),i=r(13),a=r(90),o="".endsWith;n(n.P+n.F*r(92)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),s=void 0===r?n:Math.min(i(r),n),l=String(e);return o?o.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,r){"use strict";var n=r(2),i=r(90);n(n.P+n.F*r(92)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(2);n(n.P,"String",{repeat:r(122)})},function(e,t,r){"use strict";var n=r(2),i=r(13),a=r(90),o="".startsWith;n(n.P+n.F*r(92)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";r(17)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,r){"use strict";r(17)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,r){"use strict";r(17)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,r){"use strict";r(17)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,r){"use strict";r(17)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,r){"use strict";r(17)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,r){"use strict";r(17)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,r){"use strict";r(17)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,r){"use strict";r(17)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,r){"use strict";r(17)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,r){"use strict";r(17)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,r){"use strict";r(17)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,r){"use strict";r(17)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,r){var n=r(3),i=r(29),a=r(8)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},function(e,t,r){r(302),r(303),r(304),r(306),r(307),e.exports=Date},function(e,t,r){var n=r(2);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(2),i=r(16),a=r(34);n(n.P+n.F*r(4)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),r=a(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var n=r(2),i=r(305);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,r){"use strict";var n=r(4),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!n((function(){a.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:a},function(e,t,r){var n=Date.prototype,i=n.toString,a=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(15)(n,"toString",(function(){var e=a.call(this);return e==e?i.call(this):"Invalid Date"}))},function(e,t,r){var n=r(8)("toPrimitive"),i=Date.prototype;n in i||r(25)(i,n,r(308))},function(e,t,r){"use strict";var n=r(3),i=r(34);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!=e)}},function(e,t,r){r(64),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(329),r(331),r(332),r(333),r(137),e.exports=r(10).Array},function(e,t,r){var n=r(2);n(n.S,"Array",{isArray:r(81)})},function(e,t,r){"use strict";var n=r(40),i=r(2),a=r(16),o=r(131),s=r(132),l=r(13),c=r(133),u=r(134);i(i.S+i.F*!r(135)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,h,p=a(e),f="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,g=0,S=u(p);if(m&&(v=n(v,d>2?arguments[2]:void 0,2)),null==S||f==Array&&s(S))for(r=new f(t=l(p.length));t>g;g++)c(r,g,m?v(p[g],g):p[g]);else for(h=S.call(p),r=new f;!(i=h.next()).done;g++)c(r,g,m?o(h,v,[i.value,g],!0):i.value);return r.length=g,r}})},function(e,t,r){"use strict";var n=r(2),i=r(133);n(n.S+n.F*r(4)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(2),i=r(22),a=[].join;n(n.P+n.F*(r(48)!=Object||!r(21)(a)),"Array",{join:function(e){return a.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(2),i=r(114),a=r(35),o=r(49),s=r(13),l=[].slice;n(n.P+n.F*r(4)((function(){i&&l.call(i)})),"Array",{slice:function(e,t){var r=s(this.length),n=a(this);if(t=void 0===t?r:t,"Array"==n)return l.call(this,e,t);for(var i=o(e,r),c=o(t,r),u=s(c-i),h=new Array(u),p=0;p<u;p++)h[p]="String"==n?this.charAt(i+p):this[i+p];return h}})},function(e,t,r){"use strict";var n=r(2),i=r(29),a=r(16),o=r(4),s=[].sort,l=[1,2,3];n(n.P+n.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!r(21)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,r){"use strict";var n=r(2),i=r(27)(0),a=r(21)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(318);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(7),i=r(81),a=r(8)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(2),i=r(27)(1);n(n.P+n.F*!r(21)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(27)(2);n(n.P+n.F*!r(21)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(27)(3);n(n.P+n.F*!r(21)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(27)(4);n(n.P+n.F*!r(21)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(136);n(n.P+n.F*!r(21)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var n=r(2),i=r(136);n(n.P+n.F*!r(21)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var n=r(2),i=r(112)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(21)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(22),a=r(36),o=r(13),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!r(21)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=i(this),r=o(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,r){var n=r(2);n(n.P,"Array",{copyWithin:r(328)}),r(52)("copyWithin")},function(e,t,r){"use strict";var n=r(16),i=r(49),a=r(13);e.exports=[].copyWithin||function(e,t){var r=n(this),o=a(r.length),s=i(e,o),l=i(t,o),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?o:i(c,o))-l,o-s),h=1;for(l<s&&s<l+u&&(h=-1,l+=u-1,s+=u-1);u-- >0;)l in r?r[s]=r[l]:delete r[s],s+=h,l+=h;return r}},function(e,t,r){var n=r(2);n(n.P,"Array",{fill:r(330)}),r(52)("fill")},function(e,t,r){"use strict";var n=r(16),i=r(49),a=r(13);e.exports=function(e){for(var t=n(this),r=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(2),i=r(27)(5),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n(n.P+n.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(52)("find")},function(e,t,r){"use strict";var n=r(2),i=r(27)(6),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),n(n.P+n.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(52)(a)},function(e,t,r){r(95)("Array")},function(e,t,r){r(335),r(127),r(336),r(139),r(126),r(128),r(129),r(130),e.exports=r(10).RegExp},function(e,t,r){var n=r(9),i=r(85),a=r(11).f,o=r(50).f,s=r(91),l=r(67),c=n.RegExp,u=c,h=c.prototype,p=/a/g,f=/a/g,d=new c(p)!==p;if(r(12)&&(!d||r(4)((function(){return f[r(8)("match")]=!1,c(p)!=p||c(f)==f||"/a/i"!=c(p,"i")})))){c=function(e,t){var r=this instanceof c,n=s(e),a=void 0===t;return!r&&n&&e.constructor===c&&a?e:i(d?new u(n&&!a?e.source:e,t):u((n=e instanceof c)?e.source:e,n&&a?l.call(e):t),r?this:h,c)};for(var v=function(e){e in c||a(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=o(u),g=0;m.length>g;)v(m[g++]);h.constructor=c,c.prototype=h,r(15)(n,"RegExp",c)}r(95)("RegExp")},function(e,t,r){"use strict";r(139);var n=r(3),i=r(67),a=r(12),o=/./.toString,s=function(e){r(15)(RegExp.prototype,"toString",e,!0)};r(4)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?s((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=o.name&&s((function(){return o.call(this)}))},function(e,t,r){r(62),r(64),r(140),r(141),e.exports=r(10).Map},function(e,t,r){r(62),r(64),r(140),r(143),e.exports=r(10).Set},function(e,t,r){r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(352),r(353),r(354),e.exports=r(10).Reflect},function(e,t,r){var n=r(2),i=r(29),a=r(3),o=(r(9).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(4)((function(){o((function(){}))})),"Reflect",{apply:function(e,t,r){var n=i(e),l=a(r);return o?o(n,t,l):s.call(n,t,l)}})},function(e,t,r){var n=r(2),i=r(42),a=r(29),o=r(3),s=r(7),l=r(4),c=r(118),u=(r(9).Reflect||{}).construct,h=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!l((function(){u((function(){}))}));n(n.S+n.F*(h||p),"Reflect",{construct:function(e,t){a(e),o(t);var r=arguments.length<3?e:a(arguments[2]);if(p&&!h)return u(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var l=r.prototype,f=i(s(l)?l:Object.prototype),d=Function.apply.call(e,f,t);return s(d)?d:f}})},function(e,t,r){var n=r(11),i=r(2),a=r(3),o=r(34);i(i.S+i.F*r(4)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,r){a(e),t=o(t,!0),a(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(2),i=r(32).f,a=r(3);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(a(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var n=r(2),i=r(3),a=function(e){this._t=i(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(125)(a,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),n(n.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,r){var n=r(32),i=r(26),a=r(20),o=r(2),s=r(7),l=r(3);o(o.S,"Reflect",{get:function e(t,r){var o,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[r]:(o=n.f(t,r))?a(o,"value")?o.value:void 0!==o.get?o.get.call(u):void 0:s(c=i(t))?e(c,r,u):void 0}})},function(e,t,r){var n=r(32),i=r(2),a=r(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(a(e),t)}})},function(e,t,r){var n=r(2),i=r(26),a=r(3);n(n.S,"Reflect",{getPrototypeOf:function(e){return i(a(e))}})},function(e,t,r){var n=r(2);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(2),i=r(3),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return i(e),!a||a(e)}})},function(e,t,r){var n=r(2);n(n.S,"Reflect",{ownKeys:r(351)})},function(e,t,r){var n=r(50),i=r(60),a=r(3),o=r(9).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(2),i=r(3),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(11),i=r(32),a=r(26),o=r(20),s=r(2),l=r(39),c=r(3),u=r(7);s(s.S,"Reflect",{set:function e(t,r,s){var h,p,f=arguments.length<4?t:arguments[3],d=i.f(c(t),r);if(!d){if(u(p=a(t)))return e(p,r,s,f);d=l(0)}if(o(d,"value")){if(!1===d.writable||!u(f))return!1;if(h=i.f(f,r)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,n.f(f,r,h)}else n.f(f,r,l(0,s));return!0}return void 0!==d.set&&(d.set.call(f,s),!0)}})},function(e,t,r){var n=r(2),i=r(83);i&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){r(356),r(359),r(360),r(361),r(363),r(364),r(365),r(366),r(367),e.exports=r(10).Reflect},function(e,t,r){var n=r(28),i=r(3),a=n.key,o=n.set;n.exp({defineMetadata:function(e,t,r,n){o(e,t,i(r),a(n))}})},function(e,t,r){"use strict";var n,i=r(9),a=r(27)(0),o=r(15),s=r(30),l=r(116),c=r(358),u=r(7),h=r(43),p=r(43),f=!i.ActiveXObject&&"ActiveXObject"in i,d=s.getWeak,v=Object.isExtensible,m=c.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},S={get:function(e){if(u(e)){var t=d(e);return!0===t?m(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(h(this,"WeakMap"),e,t)}},w=e.exports=r(98)("WeakMap",g,S,c,!0,!0);p&&f&&(l((n=c.getConstructor(g,"WeakMap")).prototype,S),s.NEED=!0,a(["delete","has","get","set"],(function(e){var t=w.prototype,r=t[e];o(t,e,(function(t,i){if(u(t)&&!v(t)){this._f||(this._f=new n);var a=this._f[e](t,i);return"set"==e?this:a}return r.call(this,t,i)}))})))},function(e,t,r){"use strict";var n=r(96),i=r(30).getWeak,a=r(3),o=r(7),s=r(97),l=r(68),c=r(27),u=r(20),h=r(43),p=c(5),f=c(6),d=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return p(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var r=g(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,a){var c=e((function(e,n){s(e,c,t,"_i"),e._t=t,e._i=d++,e._l=void 0,null!=n&&l(n,r,e[a],e)}));return n(c.prototype,{delete:function(e){if(!o(e))return!1;var r=i(e);return!0===r?v(h(this,t)).delete(e):r&&u(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=i(e);return!0===r?v(h(this,t)).has(e):r&&u(r,this._i)}}),c},def:function(e,t,r){var n=i(a(t),!0);return!0===n?v(e).set(t,r):n[e._i]=r,e},ufstore:v}},function(e,t,r){var n=r(28),i=r(3),a=n.key,o=n.map,s=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:a(arguments[2]),n=o(i(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var l=s.get(t);return l.delete(r),!!l.size||s.delete(t)}})},function(e,t,r){var n=r(28),i=r(3),a=r(26),o=n.has,s=n.get,l=n.key,c=function(e,t,r){if(o(e,t,r))return s(e,t,r);var n=a(t);return null!==n?c(e,n,r):void 0};n.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,r){var n=r(143),i=r(362),a=r(28),o=r(3),s=r(26),l=a.keys,c=a.key,u=function(e,t){var r=l(e,t),a=s(e);if(null===a)return r;var o=u(a,t);return o.length?r.length?i(new n(r.concat(o))):o:r};a.exp({getMetadataKeys:function(e){return u(o(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,r){var n=r(68);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t,r){var n=r(28),i=r(3),a=n.get,o=n.key;n.exp({getOwnMetadata:function(e,t){return a(e,i(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,r){var n=r(28),i=r(3),a=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(e){return a(i(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,t,r){var n=r(28),i=r(3),a=r(26),o=n.has,s=n.key,l=function(e,t,r){if(o(e,t,r))return!0;var n=a(t);return null!==n&&l(e,n,r)};n.exp({hasMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,r){var n=r(28),i=r(3),a=n.has,o=n.key;n.exp({hasOwnMetadata:function(e,t){return a(e,i(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,r){var n=r(28),i=r(3),a=r(29),o=n.key,s=n.set;n.exp({metadata:function(e,t){return function(r,n){s(e,t,(void 0!==n?i:a)(r),o(n))}}})},function(e,t,r){(function(e){(function(){"use strict";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!function(e){var t=e.performance;function r(e){t&&t.mark&&t.mark(e)}function n(e,r){t&&t.measure&&t.measure(e,r)}r("Zone");var i=!0===e.__zone_symbol__forceDuplicateZoneCheck;if(e.Zone){if(i||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}var a,o=function(){function t(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new l(this,this._parent&&this._parent._zoneDelegate,t)}return t.assertZonePatched=function(){if(e.Promise!==T.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(t,"root",{get:function(){for(var e=t.current;e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return _.zone},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentTask",{get:function(){return M},enumerable:!0,configurable:!0}),t.__load_patch=function(a,o){if(T.hasOwnProperty(a)){if(i)throw Error("Already loaded patch: "+a)}else if(!e["__Zone_disable_"+a]){var s="Zone:"+a;r(s),T[a]=o(e,t,E),n(s,s)}},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]},t.prototype.getZoneWith=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null},t.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},t.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var r=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(r,this,arguments,t)}},t.prototype.run=function(e,t,r,n){_={parent:_,zone:this};try{return this._zoneDelegate.invoke(this,e,t,r,n)}finally{_=_.parent}},t.prototype.runGuarded=function(e,t,r,n){void 0===t&&(t=null),_={parent:_,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,r,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{_=_.parent}},t.prototype.runTask=function(e,t,r){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||g).name+"; Execution: "+this.name+")");if(e.state!==S||e.type!==P&&e.type!==$){var n=e.state!=b;n&&e._transitionTo(b,y),e.runCount++;var i=M;M=e,_={parent:_,zone:this};try{e.type==$&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==S&&e.state!==k&&(e.type==P||e.data&&e.data.isPeriodic?n&&e._transitionTo(y,b):(e.runCount=0,this._updateTaskCount(e,-1),n&&e._transitionTo(S,b,S))),_=_.parent,M=i}}},t.prototype.scheduleTask=function(e){if(e.zone&&e.zone!==this)for(var t=this;t;){if(t===e.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+e.zone.name);t=t.parent}e._transitionTo(w,S);var r=[];e._zoneDelegates=r,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(k,w,S),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===r&&this._updateTaskCount(e,1),e.state==w&&e._transitionTo(y,w),e},t.prototype.scheduleMicroTask=function(e,t,r,n){return this.scheduleTask(new c(C,e,t,r,n,void 0))},t.prototype.scheduleMacroTask=function(e,t,r,n,i){return this.scheduleTask(new c($,e,t,r,n,i))},t.prototype.scheduleEventTask=function(e,t,r,n,i){return this.scheduleTask(new c(P,e,t,r,n,i))},t.prototype.cancelTask=function(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||g).name+"; Execution: "+this.name+")");e._transitionTo(x,y,b);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(k,x),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(S,x),e.runCount=0,e},t.prototype._updateTaskCount=function(e,t){var r=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var n=0;n<r.length;n++)r[n]._updateTaskCount(e.type,t)},t.__symbol__=L,t}(),s={name:"",onHasTask:function(e,t,r,n){return e.hasTask(r,n)},onScheduleTask:function(e,t,r,n){return e.scheduleTask(r,n)},onInvokeTask:function(e,t,r,n,i,a){return e.invokeTask(r,n,i,a)},onCancelTask:function(e,t,r,n){return e.cancelTask(r,n)}},l=function(){function e(e,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t.zone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t.zone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t.zone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t.zone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t.zone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t.zone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var n=r&&r.onHasTask,i=t&&t._hasTaskZS;(n||i)&&(this._hasTaskZS=n?r:s,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,r.onScheduleTask||(this._scheduleTaskZS=s,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=s,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=s,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}return e.prototype.fork=function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new o(e,t)},e.prototype.intercept=function(e,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,r):t},e.prototype.invoke=function(e,t,r,n,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,r,n,i):t.apply(r,n)},e.prototype.handleError=function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)},e.prototype.scheduleTask=function(e,t){var r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),(r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=C)throw new Error("Task is missing scheduleFn.");v(t)}return r},e.prototype.invokeTask=function(e,t,r,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,r,n):t.callback.apply(r,n)},e.prototype.cancelTask=function(e,t){var r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r},e.prototype.hasTask=function(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}},e.prototype._updateTaskCount=function(e,t){var r=this._taskCounts,n=r[e],i=r[e]=n+t;if(i<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==i){var a={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:e};this.hasTask(this.zone,a)}},e}(),c=function(){function t(r,n,i,a,o,s){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=r,this.source=n,this.data=a,this.scheduleFn=o,this.cancelFn=s,this.callback=i;var l=this;r===P&&a&&a.useG?this.invoke=t.invokeTask:this.invoke=function(){return t.invokeTask.call(e,l,this,arguments)}}return t.invokeTask=function(e,t,r){e||(e=this),A++;try{return e.runCount++,e.zone.runTask(e,t,r)}finally{1==A&&m(),A--}},Object.defineProperty(t.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.cancelScheduleRequest=function(){this._transitionTo(S,w)},t.prototype._transitionTo=function(e,t,r){if(this._state!==t&&this._state!==r)throw new Error(this.type+" '"+this.source+"': can not transition to '"+e+"', expecting state '"+t+"'"+(r?" or '"+r+"'":"")+", was '"+this._state+"'.");this._state=e,e==S&&(this._zoneDelegates=null)},t.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)},t.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},t}(),u=L("setTimeout"),h=L("Promise"),p=L("then"),f=[],d=!1;function v(t){if(0===A&&0===f.length)if(a||e[h]&&(a=e[h].resolve(0)),a){var r=a[p];r||(r=a.then),r.call(a,m)}else e[u](m,0);t&&f.push(t)}function m(){if(!d){for(d=!0;f.length;){var e=f;f=[];for(var t=0;t<e.length;t++){var r=e[t];try{r.zone.runTask(r,null,null)}catch(e){E.onUnhandledError(e)}}}E.microtaskDrainDone(),d=!1}}var g={name:"NO ZONE"},S="notScheduled",w="scheduling",y="scheduled",b="running",x="canceling",k="unknown",C="microTask",$="macroTask",P="eventTask",T={},E={symbol:L,currentZoneFrame:function(){return _},onUnhandledError:D,microtaskDrainDone:D,scheduleMicroTask:v,showUncaughtError:function(){return!o[L("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:D,patchMethod:function(){return D},bindArguments:function(){return[]},patchThen:function(){return D},setNativePromise:function(e){e&&"function"==typeof e.resolve&&(a=e.resolve(0))}},_={parent:null,zone:new o(null,null)},M=null,A=0;function D(){}function L(e){return"__zone_symbol__"+e}n("Zone","Zone"),e.Zone=o}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||e);var t=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Zone.__load_patch("ZoneAwarePromise",(function(e,r,n){var i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,o=n.symbol,s=[],l=o("Promise"),c=o("then");n.onUnhandledError=function(e){if(n.showUncaughtError()){var t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=function(){for(;s.length;)for(var e=function(){var e=s.shift();try{e.zone.runGuarded((function(){throw e}))}catch(e){h(e)}};s.length;)e()};var u=o("unhandledPromiseRejectionHandler");function h(e){n.onUnhandledError(e);try{var t=r[u];t&&"function"==typeof t&&t.call(this,e)}catch(e){}}function p(e){return e&&e.then}function f(e){return e}function d(e){return P.reject(e)}var v=o("state"),m=o("value"),g=o("finally"),S=o("parentPromiseValue"),w=o("parentPromiseState");function y(e,t){return function(r){try{x(e,t,r)}catch(t){x(e,!1,t)}}}var b=o("currentTaskTrace");function x(e,t,i){var o,l=(o=!1,function(e){return function(){o||(o=!0,e.apply(null,arguments))}});if(e===i)throw new TypeError("Promise resolved with itself");if(null===e[v]){var c=null;try{"object"!=typeof i&&"function"!=typeof i||(c=i&&i.then)}catch(t){return l((function(){x(e,!1,t)}))(),e}if(!1!==t&&i instanceof P&&i.hasOwnProperty(v)&&i.hasOwnProperty(m)&&null!==i[v])C(i),x(e,i[v],i[m]);else if(!1!==t&&"function"==typeof c)try{c.call(i,l(y(e,t)),l(y(e,!1)))}catch(t){l((function(){x(e,!1,t)}))()}else{e[v]=t;var u=e[m];if(e[m]=i,e[g]===g&&!0===t&&(e[v]=e[w],e[m]=e[S]),!1===t&&i instanceof Error){var h=r.currentTask&&r.currentTask.data&&r.currentTask.data.__creationTrace__;h&&a(i,b,{configurable:!0,enumerable:!1,writable:!0,value:h})}for(var p=0;p<u.length;)$(e,u[p++],u[p++],u[p++],u[p++]);if(0==u.length&&0==t){e[v]=0;try{throw new Error("Uncaught (in promise): "+function(e){if(e&&e.toString===Object.prototype.toString){var t=e.constructor&&e.constructor.name;return(t||"")+": "+JSON.stringify(e)}return e?e.toString():Object.prototype.toString.call(e)}(i)+(i&&i.stack?"\n"+i.stack:""))}catch(t){var f=t;f.rejection=i,f.promise=e,f.zone=r.current,f.task=r.currentTask,s.push(f),n.scheduleMicroTask()}}}}return e}var k=o("rejectionHandledHandler");function C(e){if(0===e[v]){try{var t=r[k];t&&"function"==typeof t&&t.call(this,{rejection:e[m],promise:e})}catch(e){}e[v]=!1;for(var n=0;n<s.length;n++)e===s[n].promise&&s.splice(n,1)}}function $(e,t,r,n,i){C(e);var a=e[v],o=a?"function"==typeof n?n:f:"function"==typeof i?i:d;t.scheduleMicroTask("Promise.then",(function(){try{var n=e[m],i=r&&g===r[g];i&&(r[S]=n,r[w]=a);var s=t.run(o,void 0,i&&o!==d&&o!==f?[]:[n]);x(r,!0,s)}catch(e){x(r,!1,e)}}),r)}var P=function(){function e(t){if(!(this instanceof e))throw new Error("Must be an instanceof Promise.");this[v]=null,this[m]=[];try{t&&t(y(this,!0),y(this,!1))}catch(e){x(this,!1,e)}}return e.toString=function(){return"function ZoneAwarePromise() { [native code] }"},e.resolve=function(e){return x(new this(null),!0,e)},e.reject=function(e){return x(new this(null),!1,e)},e.race=function(e){var r,n,i,a,o=new this((function(e,t){i=e,a=t}));function s(e){o&&(o=i(e))}function l(e){o&&(o=a(e))}try{for(var c=t(e),u=c.next();!u.done;u=c.next()){var h=u.value;p(h)||(h=this.resolve(h)),h.then(s,l)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o},e.all=function(e){var r,n,i,a,o=new this((function(e,t){i=e,a=t})),s=2,l=0,c=[],u=function(e){p(e)||(e=h.resolve(e));var t=l;e.then((function(e){c[t]=e,0==--s&&i(c)}),a),s++,l++},h=this;try{for(var f=t(e),d=f.next();!d.done;d=f.next())u(d.value)}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return 0==(s-=2)&&i(c),o},e.prototype.then=function(e,t){var n=new this.constructor(null),i=r.current;return null==this[v]?this[m].push(i,n,e,t):$(this,i,n,e,t),n},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=new this.constructor(null);t[g]=g;var n=r.current;return null==this[v]?this[m].push(n,t,e,e):$(this,n,t,e,e),t},e}();P.resolve=P.resolve,P.reject=P.reject,P.race=P.race,P.all=P.all;var T=e[l]=e.Promise,E=r.__symbol__("ZoneAwarePromise"),_=i(e,"Promise");_&&!_.configurable||(_&&delete _.writable,_&&delete _.value,_||(_={configurable:!0,enumerable:!0}),_.get=function(){return e[E]?e[E]:e[l]},_.set=function(t){t===P?e[E]=t:(e[l]=t,t.prototype[c]||A(t),n.setNativePromise(t))},a(e,"Promise",_)),e.Promise=P;var M=o("thenPatched");function A(e){var t=e.prototype,r=i(t,"then");if(!r||!1!==r.writable&&r.configurable){var n=t.then;t[c]=n,e.prototype.then=function(e,t){var r=this;return new P((function(e,t){n.call(r,e,t)})).then(e,t)},e[M]=!0}}return n.patchThen=A,T&&A(T),Promise[r.__symbol__("uncaughtPromiseErrors")]=s,P})),
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Zone.__load_patch("fetch",(function(e,t,r){var n=e.fetch,i=e.Promise,a=r.symbol("thenPatched"),o=r.symbol("fetchTaskScheduling"),s=r.symbol("fetchTaskAborting");if("function"==typeof n){var l=e.AbortController,c="function"==typeof l,u=null;c&&(e.AbortController=function(){var e=new l;return e.signal.abortController=e,e},u=r.patchMethod(l.prototype,"abort",(function(e){return function(t,r){return t.task?t.task.zone.cancelTask(t.task):e.apply(t,r)}})));var h=function(){};e.fetch=function(){var e=this,l=Array.prototype.slice.call(arguments),p=l.length>1?l[1]:null,f=p&&p.signal;return new Promise((function(p,d){var v=t.current.scheduleMacroTask("fetch",h,l,(function(){var s,c=t.current;try{c[o]=!0,s=n.apply(e,l)}catch(e){return void d(e)}finally{c[o]=!1}if(!(s instanceof i)){var u=s.constructor;u[a]||r.patchThen(u)}s.then((function(e){"notScheduled"!==v.state&&v.invoke(),p(e)}),(function(e){"notScheduled"!==v.state&&v.invoke(),d(e)}))}),(function(){if(c)if(f&&f.abortController&&!f.aborted&&"function"==typeof f.abortController.abort&&u)try{t.current[s]=!0,u.call(f.abortController)}finally{t.current[s]=!1}else d("cancel fetch need a AbortController.signal");else d("No AbortController supported, can not cancel fetch")}));f&&f.abortController&&(f.abortController.task=v)}))}}}));
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=Object.getOwnPropertyDescriptor,n=Object.defineProperty,i=Object.getPrototypeOf,a=Object.create,o=Array.prototype.slice,s="addEventListener",l="removeEventListener",c=Zone.__symbol__(s),u=Zone.__symbol__(l);function h(e,t){return Zone.current.wrap(e,t)}function p(e,t,r,n,i){return Zone.current.scheduleMacroTask(e,t,r,n,i)}var f=Zone.__symbol__,d="undefined"!=typeof window,v=d?window:void 0,m=d&&v||"object"==typeof self&&self||e,g=[null];function S(e,t){for(var r=e.length-1;r>=0;r--)"function"==typeof e[r]&&(e[r]=h(e[r],t+"_"+r));return e}function w(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}var y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,b=!("nw"in m)&&void 0!==m.process&&"[object process]"==={}.toString.call(m.process),x=!b&&!y&&!(!d||!v.HTMLElement),k=void 0!==m.process&&"[object process]"==={}.toString.call(m.process)&&!y&&!(!d||!v.HTMLElement),C={},$=function(e){if(e=e||m.event){var t=C[e.type];t||(t=C[e.type]=f("ON_PROPERTY"+e.type));var r,n=this||e.target||m,i=n[t];if(x&&n===v&&"error"===e.type){var a=e;!0===(r=i&&i.call(this,a.message,a.filename,a.lineno,a.colno,a.error))&&e.preventDefault()}else null==(r=i&&i.apply(this,arguments))||r||e.preventDefault();return r}};function P(e,t,i){var a=r(e,t);if(!a&&i&&r(i,t)&&(a={enumerable:!0,configurable:!0}),a&&a.configurable){var o=f("on"+t+"patched");if(!e.hasOwnProperty(o)||!e[o]){delete a.writable,delete a.value;var s=a.get,l=a.set,c=t.substr(2),u=C[c];u||(u=C[c]=f("ON_PROPERTY"+c)),a.set=function(t){var r=this;r||e!==m||(r=m),r&&(r[u]&&r.removeEventListener(c,$),l&&l.apply(r,g),"function"==typeof t?(r[u]=t,r.addEventListener(c,$,!1)):r[u]=null)},a.get=function(){var r=this;if(r||e!==m||(r=m),!r)return null;var n=r[u];if(n)return n;if(s){var i=s&&s.call(this);if(i)return a.set.call(this,i),"function"==typeof r.removeAttribute&&r.removeAttribute(t),i}return null},n(e,t,a),e[o]=!0}}}function T(e,t,r){if(t)for(var n=0;n<t.length;n++)P(e,"on"+t[n],r);else{var i=[];for(var a in e)"on"==a.substr(0,2)&&i.push(a);for(var o=0;o<i.length;o++)P(e,i[o],r)}}var E=f("originalInstance");function _(e){var t=m[e];if(t){m[f(e)]=t,m[e]=function(){var r=S(arguments,e);switch(r.length){case 0:this[E]=new t;break;case 1:this[E]=new t(r[0]);break;case 2:this[E]=new t(r[0],r[1]);break;case 3:this[E]=new t(r[0],r[1],r[2]);break;case 4:this[E]=new t(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},A(m[e],t);var r,i=new t((function(){}));for(r in i)"XMLHttpRequest"===e&&"responseBlob"===r||function(t){"function"==typeof i[t]?m[e].prototype[t]=function(){return this[E][t].apply(this[E],arguments)}:n(m[e].prototype,t,{set:function(r){"function"==typeof r?(this[E][t]=h(r,e+"."+t),A(this[E][t],r)):this[E][t]=r},get:function(){return this[E][t]}})}(r);for(r in t)"prototype"!==r&&t.hasOwnProperty(r)&&(m[e][r]=t[r])}}function M(e,t,n){for(var a=e;a&&!a.hasOwnProperty(t);)a=i(a);!a&&e[t]&&(a=e);var o=f(t),s=null;if(a&&!(s=a[o])&&(s=a[o]=a[t],w(a&&r(a,t)))){var l=n(s,o,t);a[t]=function(){return l(this,arguments)},A(a[t],s)}return s}function A(e,t){e[f("OriginalDelegate")]=t}var D=!1,L=!1;function V(){try{var e=v.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function I(){if(D)return L;D=!0;try{var e=v.navigator.userAgent;return-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(L=!0),L}catch(e){}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Zone.__load_patch("toString",(function(e){var t=Function.prototype.toString,r=f("OriginalDelegate"),n=f("Promise"),i=f("Error"),a=function(){if("function"==typeof this){var a=this[r];if(a)return"function"==typeof a?t.apply(this[r],arguments):Object.prototype.toString.call(a);if(this===Promise){var o=e[n];if(o)return t.apply(o,arguments)}if(this===Error){var s=e[i];if(s)return t.apply(s,arguments)}}return t.apply(this,arguments)};a[r]=t,Function.prototype.toString=a;var o=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":o.apply(this,arguments)}}));
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var O=!1;if("undefined"!=typeof window)try{var N=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",N,N),window.removeEventListener("test",N,N)}catch(e){O=!1}var B={useG:!0},F={},R={},H=/^__zone_symbol__(\w+)(true|false)$/;function j(e,t,r){var n=r&&r.add||s,a=r&&r.rm||l,o=r&&r.listeners||"eventListeners",c=r&&r.rmAll||"removeAllListeners",u=f(n),h="."+n+":",p=function(e,t,r){if(!e.isRemoved){var n=e.callback;"object"==typeof n&&n.handleEvent&&(e.callback=function(e){return n.handleEvent(e)},e.originalDelegate=n),e.invoke(e,t,[r]);var i=e.options;if(i&&"object"==typeof i&&i.once){var o=e.originalDelegate?e.originalDelegate:e.callback;t[a].call(t,r.type,o,i)}}},d=function(t){if(t=t||e.event){var r=this||t.target||e,n=r[F[t.type].false];if(n)if(1===n.length)p(n[0],r,t);else for(var i=n.slice(),a=0;a<i.length&&(!t||!0!==t.__zone_symbol__propagationStopped);a++)p(i[a],r,t)}},v=function(t){if(t=t||e.event){var r=this||t.target||e,n=r[F[t.type].true];if(n)if(1===n.length)p(n[0],r,t);else for(var i=n.slice(),a=0;a<i.length&&(!t||!0!==t.__zone_symbol__propagationStopped);a++)p(i[a],r,t)}};function m(t,r){if(!t)return!1;var s=!0;r&&void 0!==r.useG&&(s=r.useG);var l=r&&r.vh,p=!0;r&&void 0!==r.chkDup&&(p=r.chkDup);var m=!1;r&&void 0!==r.rt&&(m=r.rt);for(var g=t;g&&!g.hasOwnProperty(n);)g=i(g);if(!g&&t[n]&&(g=t),!g)return!1;if(g[u])return!1;var S,w=r&&r.eventNameToString,y={},x=g[u]=g[n],k=g[f(a)]=g[a],C=g[f(o)]=g[o],$=g[f(c)]=g[c];function P(e){O||"boolean"==typeof y.options||void 0===y.options||null===y.options||(e.options=!!y.options.capture,y.options=e.options)}r&&r.prepend&&(S=g[f(r.prepend)]=g[r.prepend]);var T=s?function(e){if(!y.isExisting)return P(e),x.call(y.target,y.eventName,y.capture?v:d,y.options)}:function(e){return P(e),x.call(y.target,y.eventName,e.invoke,y.options)},E=s?function(e){if(!e.isRemoved){var t=F[e.eventName],r=void 0;t&&(r=t[e.capture?"true":"false"]);var n=r&&e.target[r];if(n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1),e.isRemoved=!0,0===n.length&&(e.allRemoved=!0,e.target[r]=null);break}}if(e.allRemoved)return k.call(e.target,e.eventName,e.capture?v:d,e.options)}:function(e){return k.call(e.target,e.eventName,e.invoke,e.options)},_=r&&r.diff?r.diff:function(e,t){var r=typeof t;return"function"===r&&e.callback===t||"object"===r&&e.originalDelegate===t},M=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],D=function(t,r,n,i,a,o){return void 0===a&&(a=!1),void 0===o&&(o=!1),function(){var c=this||e,u=arguments[0],h=arguments[1];if(!h)return t.apply(this,arguments);if(b&&"uncaughtException"===u)return t.apply(this,arguments);var f=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);f=!0}if(!l||l(t,h,c,arguments)){var d,v=arguments[2];if(M)for(var m=0;m<M.length;m++)if(u===M[m])return t.apply(this,arguments);var g=!1;void 0===v?d=!1:!0===v?d=!0:!1===v?d=!1:(d=!!v&&!!v.capture,g=!!v&&!!v.once);var S,x=Zone.current,k=F[u];if(k)S=k[d?"true":"false"];else{var C=(w?w(u):u)+"false",$=(w?w(u):u)+"true",P="__zone_symbol__"+C,T="__zone_symbol__"+$;F[u]={},F[u].false=P,F[u].true=T,S=d?T:P}var E,A=c[S],D=!1;if(A){if(D=!0,p)for(m=0;m<A.length;m++)if(_(A[m],h))return}else A=c[S]=[];var L=c.constructor.name,V=R[L];V&&(E=V[u]),E||(E=L+r+(w?w(u):u)),y.options=v,g&&(y.options.once=!1),y.target=c,y.capture=d,y.eventName=u,y.isExisting=D;var I=s?B:void 0;I&&(I.taskData=y);var N=x.scheduleEventTask(E,h,I,n,i);return y.target=null,I&&(I.taskData=null),g&&(v.once=!0),(O||"boolean"!=typeof N.options)&&(N.options=v),N.target=c,N.capture=d,N.eventName=u,f&&(N.originalDelegate=h),o?A.unshift(N):A.push(N),a?c:void 0}}};return g[n]=D(x,h,T,E,m),S&&(g.prependListener=D(S,".prependListener:",(function(e){return S.call(y.target,y.eventName,e.invoke,y.options)}),E,m,!0)),g[a]=function(){var t,r=this||e,n=arguments[0],i=arguments[2];t=void 0!==i&&(!0===i||!1!==i&&!!i&&!!i.capture);var a=arguments[1];if(!a)return k.apply(this,arguments);if(!l||l(k,a,r,arguments)){var o,s=F[n];s&&(o=s[t?"true":"false"]);var c=o&&r[o];if(c)for(var u=0;u<c.length;u++){var h=c[u];if(_(h,a))return c.splice(u,1),h.isRemoved=!0,0===c.length&&(h.allRemoved=!0,r[o]=null),h.zone.cancelTask(h),m?r:void 0}return k.apply(this,arguments)}},g[o]=function(){for(var t=this||e,r=arguments[0],n=[],i=z(t,w?w(r):r),a=0;a<i.length;a++){var o=i[a],s=o.originalDelegate?o.originalDelegate:o.callback;n.push(s)}return n},g[c]=function(){var t=this||e,r=arguments[0];if(r){var n=F[r];if(n){var i=n.false,o=n.true,s=t[i],l=t[o];if(s){var u=s.slice();for(d=0;d<u.length;d++){var h=(p=u[d]).originalDelegate?p.originalDelegate:p.callback;this[a].call(this,r,h,p.options)}}if(l)for(u=l.slice(),d=0;d<u.length;d++){var p;h=(p=u[d]).originalDelegate?p.originalDelegate:p.callback,this[a].call(this,r,h,p.options)}}}else{for(var f=Object.keys(t),d=0;d<f.length;d++){var v=f[d],g=H.exec(v),S=g&&g[1];S&&"removeListener"!==S&&this[c].call(this,S)}this[c].call(this,"removeListener")}if(m)return this},A(g[n],x),A(g[a],k),$&&A(g[c],$),C&&A(g[o],C),!0}for(var g=[],S=0;S<t.length;S++)g[S]=m(t[S],r);return g}function z(e,t){var r=[];for(var n in e){var i=H.exec(n),a=i&&i[1];if(a&&(!t||a===t)){var o=e[n];if(o)for(var s=0;s<o.length;s++)r.push(o[s])}}return r}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var U=f("zoneTask");function W(e,t,r,n){var i=null,a=null;r+=n;var o={};function s(t){var r=t.data;return r.args[0]=function(){try{t.invoke.apply(this,arguments)}finally{t.data&&t.data.isPeriodic||("number"==typeof r.handleId?delete o[r.handleId]:r.handleId&&(r.handleId[U]=null))}},r.handleId=i.apply(e,r.args),t}function l(e){return a(e.data.handleId)}i=M(e,t+=n,(function(r){return function(i,a){if("function"==typeof a[0]){var c={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?a[1]||0:void 0,args:a},u=p(t,a[0],c,s,l);if(!u)return u;var h=u.data.handleId;return"number"==typeof h?o[h]=u:h&&(h[U]=u),h&&h.ref&&h.unref&&"function"==typeof h.ref&&"function"==typeof h.unref&&(u.ref=h.ref.bind(h),u.unref=h.unref.bind(h)),"number"==typeof h||h?h:u}return r.apply(e,a)}})),a=M(e,r,(function(t){return function(r,n){var i,a=n[0];"number"==typeof a?i=o[a]:(i=a&&a[U])||(i=a),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof a?delete o[a]:a&&(a[U]=null),i.zone.cancelTask(i)):t.apply(e,n)}}))}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var G=Object[f("defineProperty")]=Object.defineProperty,q=Object[f("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,Y=Object.create,X=f("unconfigurables");function Z(e,t){return e&&e[X]&&e[X][t]}function K(e,t,r){return Object.isFrozen(r)||(r.configurable=!0),r.configurable||(e[X]||Object.isFrozen(e)||G(e,X,{writable:!0,value:{}}),e[X]&&(e[X][t]=!0)),r}function J(e,t,r,n){try{return G(e,t,r)}catch(a){if(!r.configurable)throw a;void 0===n?delete r.configurable:r.configurable=n;try{return G(e,t,r)}catch(n){var i=null;try{i=JSON.stringify(r)}catch(e){i=r.toString()}console.log("Attempting to configure '"+t+"' with descriptor '"+i+"' on object '"+e+"' and got error, giving up: "+n)}}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Q=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],ee=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],te=["load"],re=["blur","error","focus","load","resize","scroll","messageerror"],ne=["bounce","finish","start"],ie=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],ae=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],oe=["close","error","open","message"],se=["error","message"],le=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],Q,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ce(e,t,r,n){e&&T(e,function(e,t,r){if(!r||0===r.length)return t;var n=r.filter((function(t){return t.target===e}));if(!n||0===n.length)return t;var i=n[0].ignoreProperties;return t.filter((function(e){return-1===i.indexOf(e)}))}(e,t,r),n)}function ue(e,t){if(!b||k){var c="undefined"!=typeof WebSocket;if(function(){if((x||k)&&!r(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var e=r(Element.prototype,"onclick");if(e&&!e.configurable)return!1}var t=XMLHttpRequest.prototype,i=r(t,"onreadystatechange");if(i){n(t,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}});var a=!!(s=new XMLHttpRequest).onreadystatechange;return n(t,"onreadystatechange",i||{}),a}var o=f("fake");n(t,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[o]},set:function(e){this[o]=e}});var s=new XMLHttpRequest,l=function(){};return s.onreadystatechange=l,a=s[o]===l,s.onreadystatechange=null,a}()){var u=t.__Zone_ignore_on_properties;if(x){var p=window,d=V?[{target:p,ignoreProperties:["error"]}]:[];ce(p,le.concat(["messageerror"]),u?u.concat(d):u,i(p)),ce(Document.prototype,le,u),void 0!==p.SVGElement&&ce(p.SVGElement.prototype,le,u),ce(Element.prototype,le,u),ce(HTMLElement.prototype,le,u),ce(HTMLMediaElement.prototype,ee,u),ce(HTMLFrameSetElement.prototype,Q.concat(re),u),ce(HTMLBodyElement.prototype,Q.concat(re),u),ce(HTMLFrameElement.prototype,te,u),ce(HTMLIFrameElement.prototype,te,u);var v=p.HTMLMarqueeElement;v&&ce(v.prototype,ne,u);var m=p.Worker;m&&ce(m.prototype,se,u)}ce(XMLHttpRequest.prototype,ie,u);var g=t.XMLHttpRequestEventTarget;g&&ce(g&&g.prototype,ie,u),"undefined"!=typeof IDBIndex&&(ce(IDBIndex.prototype,ae,u),ce(IDBRequest.prototype,ae,u),ce(IDBOpenDBRequest.prototype,ae,u),ce(IDBDatabase.prototype,ae,u),ce(IDBTransaction.prototype,ae,u),ce(IDBCursor.prototype,ae,u)),c&&ce(WebSocket.prototype,oe,u)}else!function(){for(var e=function(e){var t=le[e],r="on"+t;self.addEventListener(t,(function(e){var t,n,i=e.target;for(n=i?i.constructor.name+"."+r:"unknown."+r;i;)i[r]&&!i[r][he]&&((t=h(i[r],n))[he]=i[r],i[r]=t),i=i.parentElement}),!0)},t=0;t<le.length;t++)e(t)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(),_("XMLHttpRequest"),c&&function(e,t){var n=t.WebSocket;t.EventTarget||j(t,[n.prototype]),t.WebSocket=function(e,t){var i,c,u=arguments.length>1?new n(e,t):new n(e),h=r(u,"onmessage");return h&&!1===h.configurable?(i=a(u),c=u,[s,l,"send","close"].forEach((function(e){i[e]=function(){var t=o.call(arguments);if(e===s||e===l){var r=t.length>0?t[0]:void 0;if(r){var n=Zone.__symbol__("ON_PROPERTY"+r);u[n]=i[n]}}return u[e].apply(u,t)}}))):i=u,T(i,["close","error","message","open"],c),i};var i=t.WebSocket;for(var c in n)i[c]=n[c]}(0,t)}}var he=f("unbound");
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function pe(e,t,n,i){var a=Zone.__symbol__(n);if(!e[a]){var o=e[a]=e[n];e[n]=function(a,s,l){return s&&s.prototype&&i.forEach((function(e){var i,a,o,l,c=t+"."+n+"::"+e,u=s.prototype;if(u.hasOwnProperty(e)){var p=r(u,e);p&&p.value?(p.value=h(p.value,c),i=s.prototype,a=e,l=(o=p).configurable,J(i,a,o=K(i,a,o),l)):u[e]&&(u[e]=h(u[e],c))}else u[e]&&(u[e]=h(u[e],c))})),o.call(e,a,s,l)},A(e[n],o)}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Zone.__load_patch("util",(function(e,t,r){r.patchOnProperties=T,r.patchMethod=M,r.bindArguments=S})),Zone.__load_patch("timers",(function(e){W(e,"set","clear","Timeout"),W(e,"set","clear","Interval"),W(e,"set","clear","Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(e){W(e,"request","cancel","AnimationFrame"),W(e,"mozRequest","mozCancel","AnimationFrame"),W(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(e,t){for(var r=["alert","prompt","confirm"],n=0;n<r.length;n++)M(e,r[n],(function(r,n,i){return function(n,a){return t.current.run(r,e,a,i)}}))})),Zone.__load_patch("EventTarget",(function(e,t,r){var n=t.__symbol__("BLACK_LISTED_EVENTS");e[n]&&(t[n]=e[n]),function(e,t){!function(e,t){var r=e.Event;r&&r.prototype&&t.patchMethod(r.prototype,"stopImmediatePropagation",(function(e){return function(t,r){t.__zone_symbol__propagationStopped=!0,e&&e.apply(t,r)}}))}(e,t)}(e,r),function(e,t){var r="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",n="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),i=[],a=e.wtf,o=r.split(",");a?i=o.map((function(e){return"HTML"+e+"Element"})).concat(n):e.EventTarget?i.push("EventTarget"):i=n;for(var s=e.__Zone_disable_IE_check||!1,l=e.__Zone_enable_cross_context_check||!1,c=I(),u="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",h=0;h<le.length;h++){var p="__zone_symbol__"+(g=le[h])+"false",f="__zone_symbol__"+g+"true";F[g]={},F[g].false=p,F[g].true=f}for(h=0;h<r.length;h++)for(var d=o[h],v=R[d]={},m=0;m<le.length;m++){var g;v[g=le[m]]=d+".addEventListener:"+g}var S=[];for(h=0;h<i.length;h++){var w=e[i[h]];S.push(w&&w.prototype)}j(e,S,{vh:function(e,t,r,n){if(!s&&c){if(l)try{var i;if("[object FunctionWrapper]"===(i=t.toString())||i==u)return e.apply(r,n),!1}catch(t){return e.apply(r,n),!1}else if("[object FunctionWrapper]"===(i=t.toString())||i==u)return e.apply(r,n),!1}else if(l)try{t.toString()}catch(t){return e.apply(r,n),!1}return!0}}),t.patchEventTarget=j}(e,r);var i=e.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(e,[i.prototype]),_("MutationObserver"),_("WebKitMutationObserver"),_("IntersectionObserver"),_("FileReader")})),Zone.__load_patch("on_property",(function(e,t,r){ue(0,e),Object.defineProperty=function(e,t,r){if(Z(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);var n=r.configurable;return"prototype"!==t&&(r=K(e,t,r)),J(e,t,r,n)},Object.defineProperties=function(e,t){return Object.keys(t).forEach((function(r){Object.defineProperty(e,r,t[r])})),e},Object.create=function(e,t){return"object"!=typeof t||Object.isFrozen(t)||Object.keys(t).forEach((function(r){t[r]=K(e,r,t[r])})),Y(e,t)},Object.getOwnPropertyDescriptor=function(e,t){var r=q(e,t);return r&&Z(e,t)&&(r.configurable=!1),r}})),Zone.__load_patch("customElements",(function(e,t,r){!function(e){(x||k)&&"registerElement"in e.document&&pe(document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}(e),function(e){(x||k)&&"customElements"in e&&pe(e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e)})),Zone.__load_patch("canvas",(function(e){var t=e.HTMLCanvasElement;void 0!==t&&t.prototype&&t.prototype.toBlob&&function(e,t,r){var n=null;function i(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=M(e,t,(function(e){return function(t,n){var a=r(t,n);return a.cbIdx>=0&&"function"==typeof n[a.cbIdx]?p(a.name,n[a.cbIdx],a,i):e.apply(t,n)}}))}(t.prototype,"toBlob",(function(e,t){return{name:"HTMLCanvasElement.toBlob",target:e,cbIdx:0,args:t}}))})),Zone.__load_patch("XHR",(function(e,t){!function(e){var l=XMLHttpRequest.prototype,h=l[c],d=l[u];if(!h){var v=e.XMLHttpRequestEventTarget;if(v){var m=v.prototype;h=m[c],d=m[u]}}function g(e){var t=e.data,n=t.target;n[a]=!1,n[s]=!1;var o=n[i];h||(h=n[c],d=n[u]),o&&d.call(n,"readystatechange",o);var l=n[i]=function(){if(n.readyState===n.DONE)if(!t.aborted&&n[a]&&"scheduled"===e.state){var r=n.__zone_symbol__loadfalse;if(r&&r.length>0){var i=e.invoke;e.invoke=function(){for(var r=n.__zone_symbol__loadfalse,a=0;a<r.length;a++)r[a]===e&&r.splice(a,1);t.aborted||"scheduled"!==e.state||i.call(e)},r.push(e)}else e.invoke()}else t.aborted||!1!==n[a]||(n[s]=!0)};return h.call(n,"readystatechange",l),n[r]||(n[r]=e),k.apply(n,t.args),n[a]=!0,e}function S(){}function w(e){var t=e.data;return t.aborted=!0,C.apply(t.target,t.args)}var y=M(l,"open",(function(){return function(e,t){return e[n]=0==t[2],e[o]=t[1],y.apply(e,t)}})),b=f("fetchTaskAborting"),x=f("fetchTaskScheduling"),k=M(l,"send",(function(){return function(e,r){if(!0===t.current[x])return k.apply(e,r);if(e[n])return k.apply(e,r);var i={target:e,url:e[o],isPeriodic:!1,args:r,aborted:!1},a=p("XMLHttpRequest.send",S,i,g,w);e&&!0===e[s]&&!i.aborted&&"scheduled"===a.state&&a.invoke()}})),C=M(l,"abort",(function(){return function(e,n){var i=e[r];if(i&&"string"==typeof i.type){if(null==i.cancelFn||i.data&&i.data.aborted)return;i.zone.cancelTask(i)}else if(!0===t.current[b])return C.apply(e,n)}}))}(e);var r=f("xhrTask"),n=f("xhrSync"),i=f("xhrListener"),a=f("xhrScheduled"),o=f("xhrURL"),s=f("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(e){e.navigator&&e.navigator.geolocation&&function(e,t){for(var n=e.constructor.name,i=function(i){var a=t[i],o=e[a];if(o){if(!w(r(e,a)))return"continue";e[a]=function(e){var t=function(){return e.apply(this,S(arguments,n+"."+a))};return A(t,e),t}(o)}},a=0;a<t.length;a++)i(a)}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(e,t){function r(t){return function(r){z(e,t).forEach((function(n){var i=e.PromiseRejectionEvent;if(i){var a=new i(t,{promise:r.promise,reason:r.rejection});n.invoke(a)}}))}}e.PromiseRejectionEvent&&(t[f("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[f("rejectionHandledHandler")]=r("rejectionhandled"))}))})()}).call(this,r(369))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){ArrayBuffer.prototype.subarray=function(e,t){for(var r=new ArrayBuffer(t),n=new Int8Array(r),i=new Int8Array(this),a=0;a<t;a++)n[a]=i[e+a];return r}},function(e,t,r){"use strict";(function(e){var t=r(1),n=function(){function r(e,t){this.$q=e,this.ViewStateService=t,this.vals={},this.curDbConfig={},this.initDbConfig={},this.embeddedVals={audioGetUrl:"",labelGetUrl:"",labelType:"",fromUrlParams:!1}}return r.prototype.onlyUnique=function(e,t,r){return r.indexOf(e)===t},r.prototype.setVals=function(r){var n=this;e.isEmptyObject(this.vals)?this.vals=r:Object.keys(r).forEach((function(e){t.isArray(n.vals[e])?(n.vals[e]=[],r[e].forEach((function(t){n.vals[e].push(t)}))):Object.keys(r[e]).forEach((function(t){void 0!==n.vals[e][t]?n.vals[e][t]=r[e][t]:console.error("BAD ENTRY IN CONFIG! Key1: "+e+" key2: "+t)}))}))},r.prototype.getDelta=function(e){var t=this.$q.defer(),r=this.getDeltas(e,this.initDbConfig);return t.resolve(r),t.promise},r.prototype.getDeltas=function(e,r){var n=this,i={};return e.forEach((function(e,a){t.equals(e,r[a])||(Array.isArray(e)?(i[a]=[],t.copy(e,i[a])):"object"==typeof e?(i[a]={},i[a]=n.getDeltas(e,r[a])):"clear"!==a&&"openDemoDB"!==a&&"specSettings"!==a&&(i[a]=e))})),i},r.prototype.getSsffTrackConfig=function(e){var t;return void 0!==this.curDbConfig.ssffTrackDefinitions&&this.curDbConfig.ssffTrackDefinitions.forEach((function(r){r.name===e&&(t=r)})),t},r.prototype.getValueLimsOfTrack=function(e){var t={};return void 0!==this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.minMaxValLims&&this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.minMaxValLims.forEach((function(r){r.ssffTrackName===e&&(t=r)})),t},r.prototype.getHorizontalLinesOfTrack=function(e){var t;return void 0!==this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.horizontalLines&&this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.horizontalLines.forEach((function(r){r.ssffTrackName===e&&(t=r)})),t},r.prototype.getContourLimsOfTrack=function(e){var t={};return this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.contourLims.forEach((function(r){r.ssffTrackName===e&&(t=r)})),t},r.prototype.getContourColorsOfTrack=function(e){var t;return void 0!==this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.contourColors&&this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.contourColors.forEach((function(r){r.ssffTrackName===e&&(t=r)})),t},r.prototype.getAssignment=function(e){var t={};return this.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.assign.forEach((function(r){r.signalCanvasName===e&&(t=r)})),t},r.prototype.getLevelDefinition=function(e){var t={};return this.curDbConfig.levelDefinitions.forEach((function(r){r.name===e&&(t=r)})),t},r.prototype.getAttrDefsNames=function(e){var t=[];return this.getLevelDefinition(e).attributeDefinitions.forEach((function(e){t.push(e.name)})),t},r.prototype.setPerspectivesOrder=function(e,t){void 0!==this.vals&&void 0!==this.vals.perspectives&&void 0!==this.vals.perspectives[e]&&void 0!==this.vals.perspectives[e].levelCanvases&&(this.vals.perspectives[e].levelCanvases.order=t)},r.prototype.getStrRep=function(e){var t;switch(e){case 8:t="BACKSPACE";break;case 9:t="TAB";break;case 13:t="ENTER";break;case 16:t="SHIFT";break;case 18:t="ALT";break;case 32:t="SPACE";break;case 37:t="←";break;case 39:t="→";break;case 38:t="↑";break;case 40:t="↓";break;case 42:case 43:t="+";break;case 45:case 95:t="-";break;default:t=String.fromCharCode(e)}return t},r.prototype.findAllTracksInDBconfigNeededByEMUwebApp=function(){var e=this.curDbConfig,t=[];e.levelDefinitions.forEach((function(e){void 0!==e.anagestConfig&&(t.push(e.anagestConfig.verticalPosSsffTrackName),t.push(e.anagestConfig.velocitySsffTrackName))})),e.EMUwebAppConfig.perspectives.forEach((function(e){e.signalCanvases.order.forEach((function(e){t.push(e)})),void 0!==e.signalCanvases.assign&&e.signalCanvases.assign.forEach((function(e){t.push(e.ssffTrackName)})),void 0!==e.twoDimCanvases&&("EPG"===e.twoDimCanvases.order[0]&&t.push("EPG"),void 0!==e.twoDimCanvases.twoDimDrawingDefinitions&&e.twoDimCanvases.twoDimDrawingDefinitions.forEach((function(e){e.dots.forEach((function(e){t.push(e.xSsffTrack),t.push(e.ySsffTrack)}))})))}));var r=(t=t.filter(this.onlyUnique)).indexOf("OSCI");r>-1&&t.splice(r,1);var n=t.indexOf("SPEC");n>-1&&t.splice(n,1);var i=[];return e.ssffTrackDefinitions.forEach((function(e){t.indexOf(e.name)>-1&&i.push(e)})),i},r}();t.module("emuwebApp").service("ConfigProviderService",["$q","ViewStateService",n])}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=r(0),i=r.n(n),a=function(){function t(e,t,r,n,i,a,o,s,l,c,u,h,p,f){this.$rootScope=e,this.$timeout=t,this.ViewStateService=r,this.ModalService=n,this.HierarchyManipulationService=i,this.SoundHandlerService=a,this.ConfigProviderService=o,this.HistoryService=s,this.LevelService=l,this.DataService=c,this.LinkService=u,this.AnagestService=h,this.DbObjLoadSaveService=p,this.BrowserDetectorService=f}return t.prototype.bindGlobalKeys=function(){var t=this;e(document).on("keyup",(function(e){var r=e.keyCode?e.keyCode:e.which;t.ViewStateService.isEditing()&&!t.ViewStateService.getcursorInTextField()&&t.applyKeyCodeUp(r)})),e(document).on("keydown",(function(e){var r=e.keyCode?e.keyCode:e.which;8!==r&&9!==r&&27!==r&&37!==r&&38!==r&&39!==r&&40!==r&&32!==r||t.applyKeyCode(r,e)})),e(document).on("keypress",(function(e){var r=e.keyCode?e.keyCode:e.which;t.applyKeyCode(r,e)}))},t.prototype.applyKeyCodeUp=function(t){var r=this;this.$rootScope.$apply((function(){if(t!==r.ConfigProviderService.vals.keyMappings.esc&&t!==r.ConfigProviderService.vals.keyMappings.createNewItemAtSelection){var n=e("."+r.LevelService.getlasteditArea()),i=n.val();r.ViewStateService.setSavingAllowed(!0);var a=r.ViewStateService.getCurAttrIndex(r.ViewStateService.getcurClickLevelName()),o=r.ConfigProviderService.getLevelDefinition(r.ViewStateService.getcurClickLevelName()),s={};void 0!==o.attributeDefinitions&&o.attributeDefinitions.length>0&&(s=r.ConfigProviderService.getLevelDefinition(r.ViewStateService.getcurClickLevelName()).attributeDefinitions[a]),void 0!==s.legalLabels&&i.length>0&&s.legalLabels.indexOf(i)<0&&r.ViewStateService.setSavingAllowed(!1),r.ViewStateService.isSavingAllowed()?n.css({"background-color":"rgba(255,255,0,1)"}):n.css({"background-color":"rgba(255,0,0,1)"})}}))},t.prototype.applyKeyCode=function(t,r){var n=this;this.$rootScope.$apply((function(){var a,o,s,l,c,u,h,p,f,d,v,m,g,S,w;if(!n.ConfigProviderService.vals.main.catchMouseForKeyBinding||n.ViewStateService.mouseInEmuWebApp)if(n.ViewStateService.setlastKeyCode(t),n.ViewStateService.hierarchyState.isShown()&&void 0!==n.ViewStateService.hierarchyState)if(n.ViewStateService.hierarchyState.getInputFocus()){if(t===n.ConfigProviderService.vals.keyMappings.hierarchyCommitEdit){var y=n.ViewStateService.hierarchyState.getContextMenuID(),b=n.LevelService.getItemByID(y);l=n.LevelService.getLevelName(y),a=n.ViewStateService.getCurAttrIndex(l);var x=n.ConfigProviderService.getLevelDefinition(l).attributeDefinitions[a].legalLabels;o=n.ViewStateService.hierarchyState.getEditValue(),s=void 0!==b.labels[a]?b.labels[a].value:"",void 0!==o&&o!==s?(void 0===x||o.length>0&&x.indexOf(o)>=0)&&(n.LevelService.renameLabel(l,y,a,o),n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"RENAMELABEL",name:l,id:y,attrIndex:a,oldValue:s,newValue:o}),n.ViewStateService.hierarchyState.closeContextMenu()):n.ViewStateService.hierarchyState.closeContextMenu()}t===n.ConfigProviderService.vals.keyMappings.hierarchyCancelEdit&&n.ViewStateService.hierarchyState.closeContextMenu()}else{if(t===n.ConfigProviderService.vals.keyMappings.hierarchyDeleteLink&&r.preventDefault(),t===n.ConfigProviderService.vals.keyMappings.hierarchyPlayback&&(r.preventDefault(),n.ViewStateService.hierarchyState.playing+=1),t===n.ConfigProviderService.vals.keyMappings.hierarchyRotate&&n.ViewStateService.hierarchyState.toggleRotation(),t===n.ConfigProviderService.vals.keyMappings.hierarchyDeleteLink){var k=n.LinkService.deleteLink(n.ViewStateService.hierarchyState.selectedLinkFromID,n.ViewStateService.hierarchyState.selectedLinkToID);-1!==k&&n.HistoryService.addObjToUndoStack({type:"HIERARCHY",action:"DELETELINK",fromID:n.ViewStateService.hierarchyState.selectedLinkFromID,toID:n.ViewStateService.hierarchyState.selectedLinkToID,position:k})}if(t===n.ConfigProviderService.vals.keyMappings.hierarchyDeleteItem){var C=n.LevelService.deleteItemWithLinks(n.ViewStateService.hierarchyState.selectedItemID);void 0!==C.item&&n.HistoryService.addObjToUndoStack({type:"HIERARCHY",action:"DELETEITEM",item:C.item,levelName:C.levelName,position:C.position,deletedLinks:C.deletedLinks})}var $;t===n.ConfigProviderService.vals.keyMappings.hierarchyAddItemBefore&&-1!==($=n.LevelService.addItem(n.ViewStateService.hierarchyState.selectedItemID,!0))&&n.HistoryService.addObjToUndoStack({type:"HIERARCHY",action:"ADDITEM",newID:$,neighborID:n.ViewStateService.hierarchyState.selectedItemID,before:!0}),t===n.ConfigProviderService.vals.keyMappings.hierarchyAddItemAfter&&-1!==($=n.LevelService.addItem(n.ViewStateService.hierarchyState.selectedItemID,!1))&&n.HistoryService.addObjToUndoStack({type:"HIERARCHY",action:"ADDITEM",newID:$,neighborID:n.ViewStateService.hierarchyState.selectedItemID,before:!1}),t===n.ConfigProviderService.vals.keyMappings.levelUp&&n.ViewStateService.hierarchyState.curPathIdx>=1&&(n.ViewStateService.hierarchyState.curPathIdx=n.ViewStateService.hierarchyState.curPathIdx-1),t===n.ConfigProviderService.vals.keyMappings.levelDown&&n.ViewStateService.hierarchyState.curPathIdx<n.ViewStateService.hierarchyState.curNrOfPaths-1&&(n.ViewStateService.hierarchyState.curPathIdx=n.ViewStateService.hierarchyState.curPathIdx+1),t===n.ConfigProviderService.vals.keyMappings.undo&&n.HistoryService.undo(),t===n.ConfigProviderService.vals.keyMappings.redo&&n.HistoryService.redo(),r.shiftKey||t!==n.ConfigProviderService.vals.keyMappings.esc&&t!==n.ConfigProviderService.vals.keyMappings.showHierarchy||n.ModalService.close()}else if(n.ViewStateService.isEditing()){var P=e("."+n.LevelService.getlasteditArea());if(!n.ViewStateService.isSavingAllowed()&&t===n.ConfigProviderService.vals.keyMappings.createNewItemAtSelection){var T=n.ConfigProviderService.getLevelDefinition(n.ViewStateService.getcurClickLevelName()).attributeDefinitions[n.ViewStateService.getCurAttrIndex(n.ViewStateService.getcurClickLevelName())].legalLabels;r.preventDefault(),r.stopPropagation(),n.LevelService.deleteEditArea(),n.ViewStateService.setEditing(!1),n.ModalService.open("views/error.html",'Editing Error: Sorry, characters allowed on this Level are "'+JSON.stringify(T)+'"')}if(n.ViewStateService.isSavingAllowed()&&t===n.ConfigProviderService.vals.keyMappings.createNewItemAtSelection){var E=n.LevelService.getItemFromLevelById(n.ViewStateService.getcurClickLevelName(),n.LevelService.getlastID());a=n.ViewStateService.getCurAttrIndex(n.ViewStateService.getcurClickLevelName()),s="",o="",void 0!==E.labels[a]&&(s=E.labels[a].value),o=n.ConfigProviderService.vals.restrictions.useLargeTextInputField?n.ViewStateService.largeTextFieldInputFieldCurLabel:P.val(),n.LevelService.renameLabel(n.ViewStateService.getcurClickLevelName(),n.LevelService.getlastID(),n.ViewStateService.getCurAttrIndex(n.ViewStateService.getcurClickLevelName()),o),n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"RENAMELABEL",name:n.ViewStateService.getcurClickLevelName(),id:n.LevelService.getlastID(),attrIndex:a,oldValue:s,newValue:o}),n.LevelService.deleteEditArea(),n.ViewStateService.setEditing(!1),n.ViewStateService.setcurClickItem(n.LevelService.getItemFromLevelById(n.ViewStateService.getcurClickLevelName(),n.LevelService.getlastID()))}t===n.ConfigProviderService.vals.keyMappings.esc&&(n.LevelService.deleteEditArea(),n.ViewStateService.setEditing(!1)),t===n.ConfigProviderService.vals.keyMappings.playAllInView&&r.altKey&&n.ViewStateService.getPermission("playaudio")&&n.ConfigProviderService.vals.restrictions.playback&&(n.SoundHandlerService.playFromTo(n.ViewStateService.curViewPort.sS,n.ViewStateService.curViewPort.eS),n.ViewStateService.animatePlayHead(n.ViewStateService.curViewPort.sS,n.ViewStateService.curViewPort.eS)),3===t&&r.altKey&&n.ViewStateService.getPermission("playaudio")&&n.ConfigProviderService.vals.restrictions.playback&&(n.SoundHandlerService.playFromTo(n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE),n.ViewStateService.animatePlayHead(n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE)),t===n.ConfigProviderService.vals.keyMappings.playEntireFile&&r.altKey&&n.ViewStateService.getPermission("playaudio")&&n.ConfigProviderService.vals.restrictions.playback&&(n.SoundHandlerService.playFromTo(0,n.SoundHandlerService.audioBuffer.length),n.ViewStateService.animatePlayHead(0,n.SoundHandlerService.audioBuffer.length))}else if(!1===n.ViewStateService.getcursorInTextField()){var _,M,A;if(n.LevelService.deleteEditArea(),0===n.ViewStateService.curState.permittedActions.length&&t===n.ConfigProviderService.vals.keyMappings.esc&&!1===n.ModalService.force&&n.ModalService.close(),t===n.ConfigProviderService.vals.keyMappings.showHierarchy&&n.ConfigProviderService.vals.activeButtons.showHierarchy&&n.ViewStateService.curState!==n.ViewStateService.states.noDBorFilesloaded&&(n.ViewStateService.hierarchyState.isShown()?n.ModalService.close():(n.ViewStateService.hierarchyState.toggleHierarchy(),n.ModalService.open("views/showHierarchyModal.html"))),t===n.ConfigProviderService.vals.keyMappings.zoomAll&&n.ViewStateService.getPermission("zoom")&&n.ViewStateService.setViewPort(0,n.SoundHandlerService.audioBuffer.length),t===n.ConfigProviderService.vals.keyMappings.zoomIn&&n.ViewStateService.getPermission("zoom")&&n.ViewStateService.zoomViewPort(!0,n.LevelService),t===n.ConfigProviderService.vals.keyMappings.zoomOut&&n.ViewStateService.getPermission("zoom")&&n.ViewStateService.zoomViewPort(!1,n.LevelService),t===n.ConfigProviderService.vals.keyMappings.zoomSel&&n.ViewStateService.getPermission("zoom")&&n.ViewStateService.setViewPort(n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE),t===n.ConfigProviderService.vals.keyMappings.shiftViewPortLeft&&n.ViewStateService.getPermission("zoom")&&n.ViewStateService.shiftViewPort(!1),t===n.ConfigProviderService.vals.keyMappings.shiftViewPortRight&&n.ViewStateService.getPermission("zoom")&&n.ViewStateService.shiftViewPort(!0),t===n.ConfigProviderService.vals.keyMappings.playEntireFile&&n.ViewStateService.getPermission("playaudio")&&n.ConfigProviderService.vals.restrictions.playback&&(n.SoundHandlerService.playFromTo(0,n.SoundHandlerService.audioBuffer.length),n.ViewStateService.animatePlayHead(0,n.SoundHandlerService.audioBuffer.length)),t===n.ConfigProviderService.vals.keyMappings.playAllInView&&n.ViewStateService.getPermission("playaudio")&&n.ConfigProviderService.vals.restrictions.playback&&(r.shiftKey?(n.SoundHandlerService.playFromTo(n.ViewStateService.curViewPort.sS,n.SoundHandlerService.audioBuffer.length),n.ViewStateService.animatePlayHead(n.ViewStateService.curViewPort.sS,n.SoundHandlerService.audioBuffer.length,!0)):(n.SoundHandlerService.playFromTo(n.ViewStateService.curViewPort.sS,n.ViewStateService.curViewPort.eS),n.ViewStateService.animatePlayHead(n.ViewStateService.curViewPort.sS,n.ViewStateService.curViewPort.eS))),t===n.ConfigProviderService.vals.keyMappings.playSelected&&n.ViewStateService.getPermission("playaudio")&&n.ConfigProviderService.vals.restrictions.playback&&(n.SoundHandlerService.playFromTo(n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE),n.ViewStateService.animatePlayHead(n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE)),t===n.ConfigProviderService.vals.keyMappings.saveBndl&&n.ViewStateService.getPermission("saveBndlBtnClick")&&n.DbObjLoadSaveService.saveBundle(),t===n.ConfigProviderService.vals.keyMappings.selectFirstContourCorrectionTool&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.correctionTool&&(n.ViewStateService.curCorrectionToolNr=1),t===n.ConfigProviderService.vals.keyMappings.selectSecondContourCorrectionTool&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.correctionTool&&(n.ViewStateService.curCorrectionToolNr=2),t===n.ConfigProviderService.vals.keyMappings.selectThirdContourCorrectionTool&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.correctionTool&&(n.ViewStateService.curCorrectionToolNr=3),t===n.ConfigProviderService.vals.keyMappings.selectFourthContourCorrectionTool&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.correctionTool&&(n.ViewStateService.curCorrectionToolNr=4),t===n.ConfigProviderService.vals.keyMappings.selectFifthContourCorrectionTool&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.correctionTool&&(n.ViewStateService.curCorrectionToolNr=5),t===n.ConfigProviderService.vals.keyMappings.selectNoContourCorrectionTool&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.correctionTool&&(n.ViewStateService.curCorrectionToolNr=void 0),t===n.ConfigProviderService.vals.keyMappings.levelUp&&n.ViewStateService.getPermission("labelAction")&&n.ViewStateService.selectLevel(!1,n.ConfigProviderService.vals.perspectives[n.ViewStateService.curPerspectiveIdx].levelCanvases.order,n.LevelService),t===n.ConfigProviderService.vals.keyMappings.levelDown&&n.ViewStateService.getPermission("labelAction")&&n.ViewStateService.selectLevel(!0,n.ConfigProviderService.vals.perspectives[n.ViewStateService.curPerspectiveIdx].levelCanvases.order,n.LevelService),t===n.ConfigProviderService.vals.keyMappings.snapBoundaryToNearestTopBoundary&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.editItemSize&&(p=n.ViewStateService.getcurMouseItem(),l=n.ViewStateService.getcurMouseLevelName(),c=n.ViewStateService.getcurMouseLevelType(),u=n.ViewStateService.getcurMouseNeighbours(),!1===(h=n.LevelService.snapBoundary(!0,l,p,u,c))||("EVENT"===c?n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEEVENT",name:l,id:p.id,movedBy:h}):"SEGMENT"===c&&n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEBOUNDARY",name:l,id:p.id,movedBy:h,position:0}),n.HistoryService.addCurChangeObjToUndoStack())),t===n.ConfigProviderService.vals.keyMappings.snapBoundaryToNearestBottomBoundary&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.editItemSize&&(p=n.ViewStateService.getcurMouseItem(),l=n.ViewStateService.getcurMouseLevelName(),c=n.ViewStateService.getcurMouseLevelType(),u=n.ViewStateService.getcurMouseNeighbours(),!1===(h=n.LevelService.snapBoundary(!1,l,p,u,c))||("EVENT"===c?n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEEVENT",name:l,id:p.id,movedBy:h}):"SEGMENT"===c&&n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEBOUNDARY",name:l,id:p.id,movedBy:h,position:0}),n.HistoryService.addCurChangeObjToUndoStack())),t===n.ConfigProviderService.vals.keyMappings.snapBoundaryToNearestZeroCrossing)if(n.ViewStateService.getPermission("labelAction"))if(n.ConfigProviderService.vals.restrictions.editItemSize)0!==(_="SEGMENT"===n.ViewStateService.getcurMouseLevelType()?n.ViewStateService.getcurMouseisLast()?n.LevelService.calcDistanceToNearestZeroCrossing(n.ViewStateService.getcurMouseItem().sampleStart+n.ViewStateService.getcurMouseItem().sampleDur+1):n.LevelService.calcDistanceToNearestZeroCrossing(n.ViewStateService.getcurMouseItem().sampleStart):n.LevelService.calcDistanceToNearestZeroCrossing(n.ViewStateService.getcurMouseItem().samplePoint))&&(v=n.ViewStateService.getcurMouseItem(),l=n.ViewStateService.getcurMouseLevelName(),"SEGMENT"==(c=n.ViewStateService.getcurMouseLevelType())?(n.LevelService.moveBoundary(l,v.id,_,n.ViewStateService.getcurMouseisFirst(),n.ViewStateService.getcurMouseisLast()),M="MOVEBOUNDARY"):(n.LevelService.moveEvent(l,v.id,_),M="MOVEEVENT"),n.HistoryService.updateCurChangeObj({type:"ANNOT",action:M,name:l,id:v.id,movedBy:_,isFirst:n.ViewStateService.getcurMouseisFirst(),isLast:n.ViewStateService.getcurMouseisLast()}),n.HistoryService.addCurChangeObjToUndoStack());if(t===n.ConfigProviderService.vals.keyMappings.expandSelSegmentsRight&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.editItemSize&&(void 0===n.ViewStateService.getcurClickLevelName()?n.ModalService.open("views/error.html","Expand Segments Error: Please select a Level first"):0===n.ViewStateService.getselected().length?n.ModalService.open("views/error.html","Expand Segments Error: Please select one or more Segments first"):(A=parseInt(n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue,10),"relative"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode&&(A=n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue*(n.SoundHandlerService.audioBuffer.length/100)),n.LevelService.expandSegment(!0,n.ViewStateService.getcurClickItems(),n.ViewStateService.getcurClickLevelName(),A),n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"EXPANDSEGMENTS",name:n.ViewStateService.getcurClickLevelName(),item:n.ViewStateService.getcurClickItems(),rightSide:!0,changeTime:A}),n.ViewStateService.selectBoundary())),t===n.ConfigProviderService.vals.keyMappings.expandSelSegmentsLeft&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.editItemSize&&(void 0===n.ViewStateService.getcurClickLevelName()?n.ModalService.open("views/error.html","Expand Segments Error: Please select a Level first"):0===n.ViewStateService.getselected().length?n.ModalService.open("views/error.html","Expand Segments Error: Please select one or more Segments first"):("absolute"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode?A=parseInt(n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue,10):"relative"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode?A=n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue*(n.SoundHandlerService.audioBuffer.length/100):n.ModalService.open("views/error.html","Expand Segements Error: Error in Configuration (Value labelCanvasConfig.addTimeMode)"),n.LevelService.expandSegment(!1,n.ViewStateService.getcurClickItems(),n.ViewStateService.getcurClickLevelName(),A),n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"EXPANDSEGMENTS",name:n.ViewStateService.getcurClickLevelName(),item:n.ViewStateService.getcurClickItems(),rightSide:!1,changeTime:A}),n.ViewStateService.selectBoundary())),t===n.ConfigProviderService.vals.keyMappings.shrinkSelSegmentsLeft&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.editItemSize&&(void 0===n.ViewStateService.getcurClickLevelName()?n.ModalService.open("views/error.html","Expand Segments Error: Please select a Level first"):0===n.ViewStateService.getselected().length?n.ModalService.open("views/error.html","Expand Segments Error: Please select one or more Segments first"):("absolute"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode?A=parseInt(n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue,10):"relative"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode?A=n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue*(n.SoundHandlerService.audioBuffer.length/100):n.ModalService.open("views/error.html","Expand Segements Error: Error in Configuration (Value labelCanvasConfig.addTimeMode)"),n.LevelService.expandSegment(!0,n.ViewStateService.getcurClickItems(),n.ViewStateService.getcurClickLevelName(),-A),n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"EXPANDSEGMENTS",name:n.ViewStateService.getcurClickLevelName(),item:n.ViewStateService.getcurClickItems(),rightSide:!0,changeTime:-A}),n.ViewStateService.selectBoundary())),t===n.ConfigProviderService.vals.keyMappings.shrinkSelSegmentsRight&&n.ViewStateService.getPermission("labelAction")&&n.ConfigProviderService.vals.restrictions.editItemSize&&(void 0===n.ViewStateService.getcurClickLevelName()?n.ModalService.open("views/error.html","Expand Segments Error: Please select a Level first"):0===n.ViewStateService.getselected().length?n.ModalService.open("views/error.html","Expand Segments Error: Please select one or more Segments first"):("absolute"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode?A=parseInt(n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue,10):"relative"===n.ConfigProviderService.vals.labelCanvasConfig.addTimeMode?A=n.ConfigProviderService.vals.labelCanvasConfig.addTimeValue*(n.SoundHandlerService.audioBuffer.length/100):n.ModalService.open("views/error.html","Expand Segements Error: Error in Configuration (Value labelCanvasConfig.addTimeMode)"),n.LevelService.expandSegment(!1,n.ViewStateService.getcurClickItems(),n.ViewStateService.getcurClickLevelName(),-A),n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"EXPANDSEGMENTS",name:n.ViewStateService.getcurClickLevelName(),item:n.ViewStateService.getcurClickItems(),rightSide:!1,changeTime:-A}),n.ViewStateService.selectBoundary())),t===n.ConfigProviderService.vals.keyMappings.toggleSideBarLeft&&n.ViewStateService.getPermission("toggleSideBars")&&n.ConfigProviderService.vals.activeButtons.openMenu&&n.ViewStateService.toggleBundleListSideBar(i.a.animationPeriod),t===n.ConfigProviderService.vals.keyMappings.toggleSideBarRight&&n.ViewStateService.getPermission("toggleSideBars")&&n.ConfigProviderService.vals.activeButtons.openMenu&&n.ViewStateService.setPerspectivesSideBarOpen(!n.ViewStateService.getPerspectivesSideBarOpen()),t===n.ConfigProviderService.vals.keyMappings.selectItemsInSelection&&n.ViewStateService.getPermission("labelAction"))if(void 0===n.ViewStateService.getcurClickLevelName())n.ModalService.open("views/error.html","Selection Error : Please select a Level first");else{n.ViewStateService.curClickItems=[];var D=null;n.ViewStateService.getItemsInSelection(n.DataService.data.levels).forEach((function(e){null===D?n.ViewStateService.setcurClickItem(e):n.ViewStateService.setcurClickItemMultiple(e,D),D=e})),n.ViewStateService.selectBoundary()}if(t===n.ConfigProviderService.vals.keyMappings.selPrevItem&&n.ViewStateService.getPermission("labelAction")&&n.ViewStateService.getcurClickItems().length>0&&(f=n.LevelService.getItemNeighboursFromLevel(n.ViewStateService.getcurClickLevelName(),n.ViewStateService.getcurClickItems()[0].id,n.ViewStateService.getcurClickItems()[n.ViewStateService.getcurClickItems().length-1].id),d=n.LevelService.getItemNeighboursFromLevel(n.ViewStateService.getcurClickLevelName(),f.left.id,f.left.id),void 0!==f.left&&(void 0!==f.left.sampleStart?f.left.sampleStart>n.ViewStateService.curViewPort.sS&&(r.shiftKey?(n.ViewStateService.setcurClickItemMultiple(f.left,d.right),n.LevelService.setlasteditArea("_"+f.left.id)):(n.ViewStateService.setcurClickItem(f.left),n.LevelService.setlasteditArea("_"+f.left.id)),n.ViewStateService.selectBoundary()):f.left.samplePoint>n.ViewStateService.curViewPort.sS&&(r.shiftKey?(n.ViewStateService.setcurClickItemMultiple(f.left,d.right),n.LevelService.setlasteditArea("_"+f.left.id)):(n.ViewStateService.setcurClickItem(f.left),n.LevelService.setlasteditArea("_"+f.left.id)),n.ViewStateService.selectBoundary()))),t===n.ConfigProviderService.vals.keyMappings.selNextItem&&n.ViewStateService.getPermission("labelAction")&&n.ViewStateService.getcurClickItems().length>0&&(f=n.LevelService.getItemNeighboursFromLevel(n.ViewStateService.getcurClickLevelName(),n.ViewStateService.getcurClickItems()[0].id,n.ViewStateService.getcurClickItems()[n.ViewStateService.getcurClickItems().length-1].id),d=n.LevelService.getItemNeighboursFromLevel(n.ViewStateService.getcurClickLevelName(),f.right.id,f.right.id),void 0!==f.right&&(void 0!==f.right.sampleStart?f.right.sampleStart+f.right.sampleDur<n.ViewStateService.curViewPort.eS&&(r.shiftKey?(n.ViewStateService.setcurClickItemMultiple(f.right,d.left),n.LevelService.setlasteditArea("_"+f.right.id)):(n.ViewStateService.setcurClickItem(f.right),n.LevelService.setlasteditArea("_"+f.right.id)),n.ViewStateService.selectBoundary()):f.right.samplePoint<n.ViewStateService.curViewPort.eS&&(r.shiftKey?(n.ViewStateService.setcurClickItemMultiple(f.right,d.left),n.LevelService.setlasteditArea("_"+f.right.id)):(n.ViewStateService.setcurClickItem(f.right),n.LevelService.setlasteditArea("_"+f.right.id)),n.ViewStateService.selectBoundary()))),t===n.ConfigProviderService.vals.keyMappings.selNextPrevItem&&n.ViewStateService.getPermission("labelAction")&&n.ViewStateService.getcurClickItems().length>0){var L=n.ViewStateService.getcurClickItems()[0].id,V=n.ViewStateService.getcurClickItems()[n.ViewStateService.getcurClickItems().length-1].id;f=n.LevelService.getItemNeighboursFromLevel(n.ViewStateService.getcurClickLevelName(),L,V),r.shiftKey?void 0!==f.left&&(void 0!==f.left.sampleStart?f.left.sampleStart>=n.ViewStateService.curViewPort.sS&&(n.ViewStateService.setcurClickItem(f.left),n.LevelService.setlasteditArea("_"+f.left.id)):f.left.samplePoint>=n.ViewStateService.curViewPort.sS&&(n.ViewStateService.setcurClickItem(f.left,f.left.id),n.LevelService.setlasteditArea("_"+f.left.id))):void 0!==f.right&&(void 0!==f.right.sampleStart?f.right.sampleStart+f.right.sampleDur<=n.ViewStateService.curViewPort.eS&&(n.ViewStateService.setcurClickItem(f.right),n.LevelService.setlasteditArea("_"+f.right.id)):f.right.samplePoint<n.ViewStateService.curViewPort.eS&&(n.ViewStateService.setcurClickItem(f.right),n.LevelService.setlasteditArea("_"+f.right.id)))}if(t===n.ConfigProviderService.vals.keyMappings.createNewItemAtSelection)if(n.ModalService.isOpen)!1===n.ModalService.force&&n.ModalService.confirmContent();else if(void 0===n.ViewStateService.curClickLevelIndex)n.ModalService.open("views/error.html","Modify Error: Please select a Segment or Event Level first.");else if(n.ViewStateService.getPermission("labelAction"))if(n.ConfigProviderService.vals.restrictions.addItem)if(n.ViewStateService.getselectedRange().start===n.ViewStateService.curViewPort.selectS&&n.ViewStateService.getselectedRange().end===n.ViewStateService.curViewPort.selectE)1===n.ViewStateService.getcurClickItems().length?n.ViewStateService.getselectedRange().start>=n.ViewStateService.curViewPort.sS&&n.ViewStateService.getselectedRange().end<=n.ViewStateService.curViewPort.eS&&(n.ViewStateService.setEditing(!0),n.LevelService.openEditArea(n.ViewStateService.getcurClickItems()[0],n.LevelService.getlasteditAreaElem(),n.ViewStateService.getcurClickLevelType()),n.ViewStateService.setcursorInTextField(!0)):n.ModalService.open("views/error.html","Modify Error: Please select a single Segment.");else if(-1===n.ViewStateService.curViewPort.selectE&&-1===n.ViewStateService.curViewPort.selectS)n.ModalService.open("views/error.html","Error : Please select a Segment or Point to modify it's name. Or select a level plus a range in the viewport in order to insert a new Segment.");else if(v=n.LevelService.getClosestItem(n.ViewStateService.curViewPort.selectS,n.ViewStateService.getcurClickLevelName(),n.SoundHandlerService.audioBuffer.length).current,"SEGMENT"===n.ViewStateService.getcurClickLevelType())void 0===v?(m=n.LevelService.insertSegment(n.ViewStateService.getcurClickLevelName(),n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE,n.ConfigProviderService.vals.labelCanvasConfig.newSegmentName)).ret?n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"INSERTSEGMENTS",name:n.ViewStateService.getcurClickLevelName(),start:n.ViewStateService.curViewPort.selectS,end:n.ViewStateService.curViewPort.selectE,ids:m.ids,segName:n.ConfigProviderService.vals.labelCanvasConfig.newSegmentName}):n.ModalService.open("views/error.html","Error : You are not allowed to insert a Segment here."):v.sampleStart===n.ViewStateService.curViewPort.selectS&&v.sampleStart+v.sampleDur+1===n.ViewStateService.curViewPort.selectE?(n.LevelService.setlasteditArea("_"+v.id),n.LevelService.openEditArea(v,n.LevelService.getlasteditAreaElem(),n.ViewStateService.getcurClickLevelType()),n.ViewStateService.setEditing(!0)):(m=n.LevelService.insertSegment(n.ViewStateService.getcurClickLevelName(),n.ViewStateService.curViewPort.selectS,n.ViewStateService.curViewPort.selectE,n.ConfigProviderService.vals.labelCanvasConfig.newSegmentName)).ret?n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"INSERTSEGMENTS",name:n.ViewStateService.getcurClickLevelName(),start:n.ViewStateService.curViewPort.selectS,end:n.ViewStateService.curViewPort.selectE,ids:m.ids,segName:n.ConfigProviderService.vals.labelCanvasConfig.newSegmentName}):n.ModalService.open("views/error.html","Error : You are not allowed to insert a Segment here.");else if(void 0===n.ConfigProviderService.getLevelDefinition(n.ViewStateService.getcurClickLevelName()).anagestConfig){var I=n.LevelService.insertEvent(n.ViewStateService.getcurClickLevelName(),n.ViewStateService.curViewPort.selectS,n.ConfigProviderService.vals.labelCanvasConfig.newEventName);I.alreadyExists?(n.LevelService.setlasteditArea("_"+v.id),n.LevelService.openEditArea(v,n.LevelService.getlasteditAreaElem(),n.ViewStateService.getcurClickLevelType()),n.ViewStateService.setEditing(!0)):n.HistoryService.addObjToUndoStack({type:"ANNOT",action:"INSERTEVENT",name:n.ViewStateService.getcurClickLevelName(),start:n.ViewStateService.curViewPort.selectS,id:I.id,pointName:n.ConfigProviderService.vals.labelCanvasConfig.newEventName})}else n.AnagestService.insertAnagestEvents();if(t===n.ConfigProviderService.vals.keyMappings.undo&&n.ViewStateService.getPermission("labelAction")&&n.HistoryService.undo(),t===n.ConfigProviderService.vals.keyMappings.redo&&n.ViewStateService.getPermission("labelAction")&&n.HistoryService.redo(),"Digit1"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(0,n.ConfigProviderService.vals.perspectives),"Digit2"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(1,n.ConfigProviderService.vals.perspectives),"Digit3"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(2,n.ConfigProviderService.vals.perspectives),"Digit4"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(3,n.ConfigProviderService.vals.perspectives),"Digit5"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(4,n.ConfigProviderService.vals.perspectives),"Digit6"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(5,n.ConfigProviderService.vals.perspectives),"Digit7"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(6,n.ConfigProviderService.vals.perspectives),"Digit8"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(7,n.ConfigProviderService.vals.perspectives),"Digit9"===r.originalEvent.code&&r.shiftKey&&n.ViewStateService.switchPerspective(8,n.ConfigProviderService.vals.perspectives),t===n.ConfigProviderService.vals.keyMappings.deletePreselBoundary&&n.ViewStateService.getPermission("labelAction")){r.preventDefault(),v=n.ViewStateService.getcurMouseItem();var O=n.ViewStateService.getcurClickItems(),N=n.ViewStateService.getcurMouseisFirst(),B=n.ViewStateService.getcurMouseisLast();l=n.ViewStateService.getcurMouseLevelName();var F=n.ViewStateService.getcurMouseLevelType();if(r.shiftKey)n.ConfigProviderService.vals.restrictions.deleteItem&&void 0!==O&&O.length>0&&("SEGMENT"===n.ViewStateService.getcurClickLevelType()?(S=n.LevelService.deleteSegments(l,O[0].id,O.length),n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"DELETESEGMENTS",name:l,id:O[0].id,length:O.length,deletedSegment:S}),w=n.LinkService.deleteLinkSegment(O),n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"DELETELINKSEGMENT",name:l,segments:O,deletedLinks:w}),n.HistoryService.addCurChangeObjToUndoStack(),void 0!==(g=n.LevelService.getClosestItem(n.ViewStateService.getLasPcm()+n.ViewStateService.curViewPort.sS,l,n.SoundHandlerService.audioBuffer.length)).current&&void 0!==g.nearest&&(f=n.LevelService.getItemNeighboursFromLevel(l,g.nearest.id,g.nearest.id),n.ViewStateService.setcurMouseItem(g.nearest,f,n.ViewStateService.getLasPcm(),g.isFirst,g.isLast)),n.ViewStateService.setcurClickItem(S.clickSeg)):n.ModalService.open("views/error.html","Delete Error: You can not delete Segments on Point Levels."));else if(n.ConfigProviderService.vals.restrictions.deleteItemBoundary&&void 0!==v){var R=n.LevelService.getItemNeighboursFromLevel(l,v.id,v.id);if("SEGMENT"===F)S=n.LevelService.deleteBoundary(l,v.id,N,B),n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"DELETEBOUNDARY",name:l,id:v.id,isFirst:N,isLast:B,deletedSegment:S}),void 0!==R.left?(w=n.LinkService.deleteLinkBoundary(v.id,R.left.id,n.LevelService),n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"DELETELINKBOUNDARY",name:l,id:v.id,neighbourId:R.left.id,deletedLinks:w})):(w=n.LinkService.deleteLinkBoundary(v.id,-1,n.LevelService),n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"DELETELINKBOUNDARY",name:l,id:v.id,neighbourId:-1,deletedLinks:w})),n.HistoryService.addCurChangeObjToUndoStack(),void 0!==(g=n.LevelService.getClosestItem(n.ViewStateService.getLasPcm()+n.ViewStateService.curViewPort.sS,l,n.SoundHandlerService.audioBuffer.length)).current&&void 0!==g.nearest&&(f=n.LevelService.getItemNeighboursFromLevel(l,g.nearest.id,g.nearest.id),n.ViewStateService.setcurMouseItem(g.nearest,f,n.ViewStateService.getLasPcm(),g.isFirst,g.isLast)),n.ViewStateService.setcurClickItem(S.clickSeg);else{var H=n.LevelService.deleteEvent(l,v.id);!1!==H?(n.HistoryService.updateCurChangeObj({type:"ANNOT",action:"DELETEEVENT",name:l,start:H.samplePoint,id:H.id,pointName:H.labels[0].value}),n.HistoryService.addCurChangeObjToUndoStack(),void 0!==(g=n.LevelService.getClosestItem(n.ViewStateService.getLasPcm()+n.ViewStateService.curViewPort.sS,l,n.SoundHandlerService.audioBuffer.length)).current&&void 0!==g.nearest&&(f=n.LevelService.getItemNeighboursFromLevel(l,g.nearest.id,g.nearest.id),n.ViewStateService.setcurMouseItem(g.nearest,f,n.ViewStateService.getLasPcm(),g.isFirst,g.isLast))):n.ViewStateService.setcurMouseItem(void 0,void 0,void 0,void 0,void 0)}}}r.metaKey||r.ctrlKey||(r.preventDefault(),r.stopPropagation())}}))},t}();t.module("emuwebApp").service("HandleGlobalKeyStrokes",["$rootScope","$timeout","ViewStateService","ModalService","HierarchyManipulationService","SoundHandlerService","ConfigProviderService","HistoryService","LevelService","DataService","LinkService","AnagestService","DbObjLoadSaveService","BrowserDetectorService",a])}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=function(){function r(e,t,r,n,i,a,o,s,l,c){this.undoStack=[],this.redoStack=[],this.curChangeObj={},this.movesAwayFromLastSave=0,this.$log=e,this.$compile=t,this.$sce=r,this.SsffDataService=n,this.LevelService=i,this.LinkService=a,this.ConfigProviderService=o,this.ViewStateService=s,this.SoundHandlerService=l,this.LoadedMetaDataService=c}return r.prototype.applyChange=function(e,t){var r=this;Object.keys(e).forEach((function(n){var i,a,o=e[n];if("SSFF"===o.type)t?(r.setHistoryActionText(!0,"SSFF manipulation"),i=r.ConfigProviderService.getSsffTrackConfig(o.trackName),r.SsffDataService.getColumnOfTrack(i.name,i.columnName).values[o.sampleBlockIdx][o.sampleIdx]=o.oldValue):(r.setHistoryActionText(!1,"SSFF manipulation"),i=r.ConfigProviderService.getSsffTrackConfig(o.trackName),r.SsffDataService.getColumnOfTrack(i.name,i.columnName).values[o.sampleBlockIdx][o.sampleIdx]=o.newValue);else if("WEBAPP"===o.type){switch(a=!1,o.action){case"COMMENT":t?(a=!0,r.LoadedMetaDataService.setBndlComment(o.initial,o.key,o.index)):r.LoadedMetaDataService.setBndlComment(o.comment,o.key,o.index);break;case"FINISHED":t?(a=!0,r.LoadedMetaDataService.setBndlFinished(!o.finished,o.key,o.index)):r.LoadedMetaDataService.setBndlFinished(o.finished,o.key,o.index)}r.setHistoryActionText(a,o.action)}else if("ANNOT"===o.type){switch(a=!1,o.action){case"MOVEBOUNDARY":t?(a=!0,r.LevelService.moveBoundary(o.name,o.id,-o.movedBy,o.isFirst,o.isLast)):r.LevelService.moveBoundary(o.name,o.id,o.movedBy,o.isFirst,o.isLast);break;case"MOVESEGMENT":t?(a=!0,r.LevelService.moveSegment(o.name,o.id,o.length,-o.movedBy)):r.LevelService.moveSegment(o.name,o.id,o.length,o.movedBy);break;case"MOVEEVENT":t?(a=!0,r.LevelService.moveEvent(o.name,o.id,-o.movedBy)):r.LevelService.moveEvent(o.name,o.id,o.movedBy);break;case"RENAMELABEL":t?(a=!0,r.LevelService.renameLabel(o.name,o.id,o.attrIndex,o.oldValue)):r.LevelService.renameLabel(o.name,o.id,o.attrIndex,o.newValue);break;case"RENAMELEVEL":t?(a=!0,r.LevelService.renameLevel(o.newname,o.name,o.curPerspectiveIdx)):r.LevelService.renameLevel(o.name,o.newname,o.curPerspectiveIdx);break;case"DELETELEVEL":t?(a=!0,r.LevelService.insertLevel(o.level,o.id,o.curPerspectiveIdx)):r.LevelService.deleteLevel(o.id,o.curPerspectiveIdx);break;case"DELETEBOUNDARY":t?(a=!0,r.LevelService.deleteBoundaryInvers(o.name,o.id,o.isFirst,o.isLast,o.deletedSegment)):r.LevelService.deleteBoundary(o.name,o.id,o.isFirst,o.isLast);break;case"DELETESEGMENTS":t?(a=!0,r.LevelService.deleteSegmentsInvers(o.name,o.id,o.length,o.deletedSegment)):r.LevelService.deleteSegments(o.name,o.id,o.length);break;case"DELETEEVENT":t?(a=!0,r.LevelService.insertEvent(o.name,o.start,o.pointName,o.id)):r.LevelService.deleteEvent(o.name,o.id);break;case"DELETELINKSTO":t?(a=!0,r.LinkService.insertLinksTo(o.deletedLinks)):r.LinkService.deleteLinksTo(o.id);break;case"DELETELINKBOUNDARY":t?(a=!0,r.LinkService.deleteLinkBoundaryInvers(o.deletedLinks)):r.LinkService.deleteLinkBoundary(o.id,o.neighbourId,r.LevelService);break;case"DELETELINKSEGMENT":t?(a=!0,r.LinkService.deleteLinkSegmentInvers(o.deletedLinks)):r.LinkService.deleteLinkSegment(o.segments);break;case"INSERTLEVEL":t?(a=!0,r.LevelService.deleteLevel(o.id,o.curPerspectiveIdx)):r.LevelService.insertLevel(o.level,o.id,o.curPerspectiveIdx);break;case"INSERTSEGMENTS":t?(a=!0,r.LevelService.insertSegmentInvers(o.name,o.start,o.end,o.segName)):r.LevelService.insertSegment(o.name,o.start,o.end,o.segName,o.ids);break;case"INSERTEVENT":t?(a=!0,r.LevelService.deleteEvent(o.name,o.id)):r.LevelService.insertEvent(o.name,o.start,o.pointName,o.id);break;case"INSERTLINKSTO":t?(a=!0,r.LinkService.deleteLinksTo(o.parentID,o.childIDs)):r.LinkService.insertLinksTo(o.parentID,o.childIDs);break;case"EXPANDSEGMENTS":t?(a=!0,r.LevelService.expandSegment(o.rightSide,o.item,o.name,-o.changeTime)):r.LevelService.expandSegment(o.rightSide,o.item,o.name,o.changeTime)}r.setHistoryActionText(a,o.action)}else if("HIERARCHY"===o.type){switch(a=!1,o.action){case"DELETELINK":t?(a=!0,r.LinkService.insertLinkAt(o.fromID,o.toID,o.position)):r.LinkService.deleteLink(o.fromID,o.toID);break;case"DELETEITEM":t?(a=!0,r.LevelService.deleteItemWithLinksInvers(o.item,o.levelName,o.position,o.deletedLinks)):r.LevelService.deleteItemWithLinks(o.item.id);break;case"ADDITEM":t?(a=!0,r.LevelService.addItemInvers(o.newID)):r.LevelService.addItem(o.neighborID,o.before,o.newID);break;case"ADDLINK":t?(a=!0,r.LinkService.deleteLink(o.link.fromID,o.link.toID)):r.LinkService.insertLink(o.link.fromID,o.link.toID);break;case"PUSHITEM":t?(a=!0,r.LevelService.addItemInvers(o.newID)):r.LevelService.pushNewItem(o.level,o.newID)}r.setHistoryActionText(a,o.action)}}))},r.prototype.updateCurChangeObj=function(e){var t;if("SSFF"===e.type)t=String(e.type+"#"+e.trackName)+"#"+String(e.sampleBlockIdx)+"#"+String(e.sampleIdx),this.curChangeObj[t]?(e.oldValue=this.curChangeObj[t].oldValue,this.curChangeObj[t]=e):this.curChangeObj[t]=e;else if("WEBAPP"===e.type)t=String(e.type+"#"+e.action+"#"+e.key+"#"+e.index),this.curChangeObj[t]?(e.comment=this.curChangeObj[t].comment,this.curChangeObj[t]=e):this.curChangeObj[t]=e;else if("ANNOT"===e.type)switch(e.action){case"MOVEBOUNDARY":case"MOVEEVENT":case"MOVESEGMENT":case"INSERTEVENT":case"DELETEEVENT":t=String(e.type+"#"+e.action+"#"+e.name+"#"+e.id),this.curChangeObj[t]?(e.movedBy+=this.curChangeObj[t].movedBy,this.curChangeObj[t]=e):this.curChangeObj[t]=e;break;case"INSERTLINKSTO":case"DELETELINKSTO":case"DELETELINKBOUNDARY":case"DELETELINKSEGMENT":case"DELETEBOUNDARY":case"DELETESEGMENTS":t=String(e.type+"#"+e.action+"#"+e.name),this.curChangeObj[t]?(e.oldValue=this.curChangeObj[t].oldValue,this.curChangeObj[t]=e):this.curChangeObj[t]=e}return this.curChangeObj},r.prototype.addCurChangeObjToUndoStack=function(){this.redoStack=[],e.isEmptyObject(this.curChangeObj)||(this.undoStack.push(this.curChangeObj),this.movesAwayFromLastSave+=1),this.$log.info(this.curChangeObj),this.curChangeObj={}},r.prototype.addObjToUndoStack=function(r){this.redoStack=[];var n={};n[String(r.type+"#"+r.action+"#"+r.name+"#"+r.id)]=t.copy(r),e.isEmptyObject(n)||(this.undoStack.push(n),this.movesAwayFromLastSave+=1),this.curChangeObj={}},r.prototype.undo=function(){if(this.undoStack.length>0){var e=t.copy(this.undoStack[this.undoStack.length-1]);this.redoStack.push(e),this.applyChange(e,!0),this.undoStack.pop(),this.movesAwayFromLastSave-=1}},r.prototype.redo=function(){if(this.redoStack.length>0){var e=t.copy(this.redoStack[this.redoStack.length-1]);this.undoStack.push(e),this.applyChange(e,!1),this.redoStack.pop(),this.movesAwayFromLastSave+=1}},r.prototype.getNrOfPossibleUndos=function(){return this.undoStack.length},r.prototype.getCurrentStack=function(){return{undo:this.undoStack,redo:this.redoStack}},r.prototype.setHistoryActionText=function(e,t){var r="<i>UNDO</i> &#8594; ";e||(r="<i>REDO</i> &#8592; "),this.ViewStateService.historyActionTxt=this.$sce.trustAsHtml(r+t)},r.prototype.resetToInitState=function(){this.undoStack=[],this.redoStack=[],this.curChangeObj={},this.movesAwayFromLastSave=0},r}();t.module("emuwebApp").service("HistoryService",["$log","$compile","$sce","SsffDataService","LevelService","LinkService","ConfigProviderService","ViewStateService","SoundHandlerService","LoadedMetaDataService",n])}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var t=r(1),n=function(){function t(e,t,r,n,i,a){this.$q=e,this.DataService=t,this.LinkService=r,this.ConfigProviderService=n,this.SoundHandlerService=i,this.ViewStateService=a,this.lasteditArea=null,this.lasteditAreaElem=null}return t.prototype.getLabelIdx=function(e,t){var r;return t.forEach((function(t,n){t.name===e&&(r=n)})),r},t.prototype.getLevelDetails=function(e){var t=null,r=this.DataService.getLevelData();return void 0!==r&&r.forEach((function(r){r.name===e&&(t=r)})),t},t.prototype.getLevelDetailsByIdx=function(e){var t=null;return void 0===(t=this.DataService.getLevelData()[e])&&(t=null),t},t.prototype.getLevelsByType=function(e){var t=[];return this.DataService.getLevelData().forEach((function(r){e.indexOf(r.type)>=0&&t.push(r)})),t},t.prototype.getOrderById=function(e,t){var r=null;return this.DataService.getLevelData().forEach((function(n){n.name===e&&n.items.forEach((function(e,n){e.id===t&&(r=n)}))})),r},t.prototype.getIdByOrder=function(e,t){var r=null;return this.DataService.getLevelData().forEach((function(n){n.name===e&&n.items.forEach((function(e,n){n===t&&(r=e.id)}))})),r},t.prototype.getItemDetails=function(e,t){var r=null;return this.DataService.getLevelData().forEach((function(n){n.name===e&&(r=n.items[t])})),r},t.prototype.getLastItem=function(e){var t=null;return this.DataService.getLevelData().forEach((function(r){r.name===e&&(t=r.items[r.items.length-1])})),t},t.prototype.getNextItem=function(e,t){var r=null;return this.DataService.getLevelData().forEach((function(n){n.name===e&&n.items.forEach((function(e,i){e.id===t&&(r=n.items[i+1])}))})),r},t.prototype.getItemInTime=function(e,t,r){var n=null,i=1/0,a=this.getItemFromLevelById(e,t);if(null!==a){var o=a.sampleStart||a.samplePoint;this.DataService.getLevelData().forEach((function(t){t.name===e&&t.items.forEach((function(e){var t=e.sampleStart||e.samplePoint;r?t>o&&t-o<=i&&(i=t-o,n=e):t<o&&o-t<=i&&(i=o-t,n=e)}))}))}return n},t.prototype.getItemFromLevelById=function(e,t){var r=null;return this.DataService.getLevelData().forEach((function(n){n.name===e&&n.items.forEach((function(e){e.id===t&&(r=e)}))})),r},t.prototype.getAllLabelsOfLevel=function(e){var t=this.ViewStateService.getCurAttrDef(e.name),r=[];return e.items.forEach((function(e){var n=e.labels.map((function(e){return e.name})).indexOf(t);n>=0&&r.push(e.labels[n].value)})),r},t.prototype.getLevelName=function(e){var t=null;return this.DataService.getLevelData().forEach((function(r){r.items.map((function(e){return e.id})).indexOf(e)>=0&&(t=r.name)})),t},t.prototype.getLevelAndItem=function(e){var t=this.getLevelName(e);return null!==t?{level:this.getLevelDetails(t),item:this.getItemByID(e)}:null},t.prototype.getItemByID=function(e){var t;return this.DataService.getLevelData().forEach((function(r){var n=r.items.map((function(e){return e.id})).indexOf(e);n>=0&&(t=r.items[n])})),t},t.prototype.getItemsFromLevelByIdAndLength=function(e,t,r){for(var n=[],i=t,a=0;a<r;a++){var o=this.getItemFromLevelById(e,i);i=this.getNextItem(e,o.id),n.push(o)}return n},t.prototype.getlasteditAreaElem=function(){return this.lasteditAreaElem},t.prototype.setlasteditAreaElem=function(e){this.lasteditAreaElem=e},t.prototype.setlasteditArea=function(e){this.lasteditArea=e},t.prototype.getlasteditArea=function(){return this.lasteditArea},t.prototype.getlastID=function(){return parseInt(this.lasteditArea.substr(1))},t.prototype.deleteEditArea=function(){null!==this.getlasteditArea()&&e("."+this.getlasteditArea()).remove(),this.ViewStateService.editing=!1,this.ViewStateService.largeTextFieldInputFieldCurLabel="",this.ViewStateService.largeTextFieldInputFieldVisable=!1},t.prototype.openEditArea=function(e,t,r){var n,i,a,o=this.ViewStateService.getcurClickLevelName(),s=this.ViewStateService.getCurAttrDef(o),l=this.getLabelIdx(s,e.labels),c=t.find("canvas")[0],u=c.clientWidth,h=c.offsetLeft,p=c.offsetTop,f=c.clientHeight-1,d=10;void 0!==l&&e.labels[l].value.length>0&&(d=7*e.labels[l].value.length);var v="";e.labels.length>0&&(v=void 0!==e.labels[l]?e.labels[l].value:""),this.ConfigProviderService.vals.restrictions.useLargeTextInputField?(this.ViewStateService.largeTextFieldInputFieldVisable=!0,this.ViewStateService.largeTextFieldInputFieldCurLabel=v):("SEGMENT"===r?(n=Math.floor(this.ViewStateService.getPos(u,e.sampleStart)+h),i=Math.ceil(this.ViewStateService.getPos(u,e.sampleStart+e.sampleDur+1)+h),this.createEditAreaElement(t,n,p,i-n,f,e.labels[l].value,e.id)):(n=this.ViewStateService.getPos(u,e.samplePoint)+h-d/2,(a=(i=this.ViewStateService.getPos(u,e.samplePoint)+h+d/2)-n)<2*d&&(a=2*d),this.createEditAreaElement(t,n,p,a,f,v,e.id)),this.createSelection(t.find("textarea")[0],0,v.length))},t.prototype.createSelection=function(e,t,r){if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",r),n.select()}else e.setSelectionRange?e.setSelectionRange(t,r):e.selectionStart&&(e.selectionStart=t,e.selectionEnd=r);e.focus()},t.prototype.createEditAreaElement=function(t,r,n,i,a,o,s){var l="_"+s,c={left:Math.round(r+2)+"px",top:Math.round(n+1)+"px",width:Math.round(i)-2+"px",height:Math.round(a)-20+"px","padding-top":Math.round(a/3+1)+"px"};void 0!==this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontFamily&&(c["font-family"]=this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.labelFontFamily),t.prepend(e("<textarea>").attr({id:l,class:l+" emuwebapp-label-edit","ng-model":"message",autofocus:"true"}).css(c).text(o))},t.prototype.insertItemDetails=function(e,t,r,n,i,a){var o,s=this.ConfigProviderService.getLevelDefinition(t).attributeDefinitions;this.ViewStateService.getCurAttrDef(t);void 0===s&&(s=[]),this.DataService.getLevelData().forEach((function(l){var c;if(l.name===t){if("SEGMENT"===l.type)if(o={id:e,sampleStart:i,sampleDur:a,labels:[]},s.length>0)for(c=0;c<s.length;c++)s[c].name,o.labels.push({name:s[c].name,value:n});else o.labels.push({name:t,value:n});else if("EVENT"===l.type)if(o=void 0!==i?{id:e,samplePoint:i,labels:[]}:{id:e,labels:[]},s.length>0)for(c=0;c<s.length;c++)s[c].name,o.labels.push({name:s[c].name,value:n});else o.labels.push({name:t,value:n});l.items.splice(r,0,o)}}))},t.prototype.updateSegment=function(e,t,r,n,i,a){this.DataService.getLevelData().forEach((function(o){o.name===e&&o.items.forEach((function(e){e.id===t&&(void 0!==i&&(e.sampleStart=i),void 0!==a&&(e.sampleDur=a),void 0!==r&&(e.labels[n].value=r))}))}))},t.prototype.updatePoint=function(e,t,r,n,i){this.DataService.getLevelData().forEach((function(a){a.name===e&&a.items.forEach((function(e){e.id===t&&(e.samplePoint=i,void 0===n?e.labels[0].value=r:e.labels[n].value=r)}))}))},t.prototype.getItemNeighboursFromLevel=function(e,t,r){var n,i;return this.DataService.getLevelData().forEach((function(a){a.name===e&&a.items.forEach((function(e,o){e.id===t&&(n=a.items[o-1]),e.id===r&&(i=a.items[o+1])}))})),{left:n,right:i}},t.prototype.getClosestItem=function(e,t,r){var n,i,a,o,s=this.getLevelDetails(t);if(null!=s&&s.items.length>0)if(n=i=s.items[0],a=!0,o=!1,"SEGMENT"===s.type){var l;s.items.forEach((function(t,r){e>=t.sampleStart-.5&&(e<=t.sampleStart+t.sampleDur+.5&&(e-t.sampleStart>=t.sampleDur/2?(l=!1,void 0!==s.items[r+1]?(n=s.items[r],i=s.items[r+1],o=!1):(o=!0,n=i=s.items[s.items.length-1])):(l=!0,o=!1,n=i=s.items[r])),l||0!==r||(a=!1)),e>=t.sampleStart-.5&&(e<=t.sampleStart+t.sampleDur+.5?n=t:(o=!0,n=i=s.items[s.items.length-1]))}))}else{var c=0,u=0;a=!1,o=!1,s.items.forEach((function(t,a){u=a<s.items.length-1?t.samplePoint+(s.items[a+1].samplePoint-s.items[a].samplePoint)/2:r,c=a>0?t.samplePoint-(s.items[a].samplePoint-s.items[a-1].samplePoint)/2:0,e<=u&&e>=c&&(n=i=t)}))}return{current:n,nearest:i,isFirst:a,isLast:o}},t.prototype.deleteLevel=function(e,t){var r=this.DataService.getLevelDataAt(e);return this.DataService.deleteLevelDataAt(e),this.ConfigProviderService.vals.perspectives[t].levelCanvases.order.splice(e,1),r},t.prototype.insertLevel=function(e,t,r){void 0===this.DataService.getLevelData()&&this.DataService.setLevelData([]),this.DataService.insertLevelDataAt(t,e),this.ConfigProviderService.vals.perspectives[r].levelCanvases.order.splice(t,0,e.name)},t.prototype.renameLabel=function(e,t,r,n){this.updateSegment(e,t,n,r,void 0,void 0)},t.prototype.renameLevel=function(e,t,r){var n=this;this.DataService.getLevelData().forEach((function(r){r.name===e&&(r.name=t,n.ViewStateService.curLevelAttrDefs.forEach((function(t,r){t.curAttrDefName===e&&t.levelName===e&&n.ViewStateService.curLevelAttrDefs.slice(r,1)})),n.ViewStateService.curLevelAttrDefs.push({curAttrDefName:t,levelName:t}),r.items.forEach((function(e){e.labels[0].name=t})))})),this.ConfigProviderService.vals.perspectives[r].levelCanvases.order[this.ConfigProviderService.vals.perspectives[r].levelCanvases.order.indexOf(e)]=t},t.prototype.deleteSegmentsInvers=function(e,t,r,n){var i,a,o,s=this.ViewStateService.getCurAttrDef(e);o=0,this.DataService.getLevelData().forEach((function(t){if(t.name===e)for(a in o=n.order,n.segments)t.items.splice(o++,0,n.segments[a])}));var l=this.getItemNeighboursFromLevel(e,n.segments[0].id,n.segments[n.segments.length-1].id);void 0!==l.left&&void 0===l.right?(i=this.getLabelIdx(s,l.left.labels),this.updateSegment(e,l.left.id,l.left.labels[i].value,i,l.left.sampleStart,l.left.sampleDur-n.timeRight)):void 0===l.left&&void 0!==l.right?(i=this.getLabelIdx(s,l.right.labels),this.updateSegment(e,l.right.id,l.right.labels[i].value,i,l.right.sampleStart+n.timeLeft,l.right.sampleDur-n.timeLeft)):void 0===l.left&&void 0===l.right||(i=this.getLabelIdx(s,l.left.labels),this.updateSegment(e,l.left.id,l.left.labels[i].value,i,l.left.sampleStart,l.left.sampleDur-n.timeLeft),this.updateSegment(e,l.right.id,l.right.labels[i].value,i,l.right.sampleStart+n.timeRight,l.right.sampleDur-n.timeRight))},t.prototype.deleteSegments=function(e,t,r){for(var n=this.getItemFromLevelById(e,t),i=this.getOrderById(e,t),a=this.getItemDetails(e,i+r-1),o=this.getItemNeighboursFromLevel(e,n.id,a.id),s=0,l=0,c=null,u=null,h=null,p=this.ViewStateService.getCurAttrDef(e),f=this.getLabelIdx(p,n.labels),d=i;d<i+r;d++)s+=this.getItemDetails(e,d).sampleDur+1;return l=s%2==0?s/=2:(s=Math.ceil(s/2))-1,this.DataService.getLevelData().forEach((function(n){n.name===e&&n.items.forEach((function(e,i){e.id===t&&(c=i,u=n.items.splice(c,r))}))})),void 0!==o.left&&void 0===o.right?(this.updateSegment(e,o.left.id,void 0,f,o.left.sampleStart,o.left.sampleDur+l),h=o.left):void 0===o.left&&void 0!==o.right?(this.updateSegment(e,o.right.id,void 0,f,o.right.sampleStart-s,o.right.sampleDur+s),h=o.right):void 0===o.left&&void 0===o.right?this.ViewStateService.setcurMouseItem(void 0,void 0,void 0):(this.updateSegment(e,o.left.id,void 0,f,o.left.sampleStart,o.left.sampleDur+s),this.updateSegment(e,o.right.id,void 0,f,o.right.sampleStart-l,o.right.sampleDur+l),h=o.left),{order:c,segments:u,timeLeft:s,timeRight:l,clickSeg:h}},t.prototype.insertSegmentInvers=function(e,t,r){var n=!0;return this.DataService.getLevelData().forEach((function(i){var a,o,s;i.name===e&&(t===r?(s=-1,i.items.forEach((function(e,r){t===e.sampleStart&&(s=r,n=!0)})),n&&(a=0,void 0!==i.items[s]&&(a=i.items[s].sampleDur+1),void 0!==i.items[s-1]&&(i.items[s-1].sampleDur+=a),i.items.splice(s,1))):(s=-1,i.items.forEach((function(e,r){t===e.sampleStart&&(s=r,n=!0)})),n&&(void 0===i.items[s+1]?i.items.splice(s-1,2):(void 0===i.items[s-1]||(a=i.items[s].sampleDur+1,o=i.items[s+1].sampleDur+1,i.items[s-1].sampleDur+=a+o),i.items.splice(s,2)))))})),n},t.prototype.insertSegment=function(e,t,r,n,i){var a=this,o=!0;return this.DataService.getLevelData().forEach((function(s){var l,c,u,h;if(s.name===e)if(t===r){if(0===s.items.length)return{ret:!1,ids:i};if(void 0===i&&((i=[])[0]=a.DataService.getNewId()),u=-1,t<s.items[0].sampleStart)l=s.items[0].sampleStart-t,a.insertItemDetails(i[0],e,0,n,t,l-1);else if(t>s.items[s.items.length-1].sampleStart+s.items[s.items.length-1].sampleDur){var p=s.items[s.items.length-1].sampleStart+s.items[s.items.length-1].sampleDur+1;a.insertItemDetails(i[0],e,s.items.length,n,p,t-p)}else s.items.forEach((function(e,r){t>=e.sampleStart&&t<=e.sampleStart+e.sampleDur&&(u=r),e.sampleStart===t&&(o=!1),e.sampleStart+e.sampleDur+1===t&&(o=!1)})),o&&(l=t-s.items[u].sampleStart-1,a.insertItemDetails(i[0],e,u+1,n,t,s.items[u].sampleDur-l-1),s.items[u].sampleDur=l)}else if(void 0===i&&((i=[])[0]=a.DataService.getNewId(),i[1]=a.DataService.getNewId()),0===s.items.length)a.insertItemDetails(i[0],e,0,n,t,r-t-1);else if(r<s.items[0].sampleStart)l=s.items[0].sampleStart-r-1,c=r-t-1,a.insertItemDetails(i[0],e,0,n,r,l),a.insertItemDetails(i[1],e,0,n,t,c);else if(t>s.items[s.items.length-1].sampleStart+s.items[s.items.length-1].sampleDur){l=t-(s.items[s.items.length-1].sampleStart+s.items[s.items.length-1].sampleDur)-1,c=r-t-1;var f=s.items.length;a.insertItemDetails(i[0],e,f,n,s.items[s.items.length-1].sampleStart+s.items[s.items.length-1].sampleDur,l),a.insertItemDetails(i[1],e,f+1,n,t,c)}else u=-1,h=-1,s.items.forEach((function(e,n){t>=e.sampleStart&&t<=e.sampleStart+e.sampleDur&&(u=n),r>=e.sampleStart&&r<=e.sampleStart+e.sampleDur&&(h=n)})),(o=u===h)&&-1!==u&&(l=t-s.items[u].sampleStart-1,c=r-t-1,a.insertItemDetails(i[0],e,u+1,n,t,c),a.insertItemDetails(i[1],e,u+2,n,r,s.items[u].sampleDur-l-1-c-1),s.items[u].sampleDur=l)})),{ret:o,ids:i}},t.prototype.insertEvent=function(e,t,r,n){var i,a=!1;return this.DataService.getLevelData().forEach((function(r){r.name===e&&"EVENT"===r.type&&(r.items.length>0?r.items[0].samplePoint:0,r.items.forEach((function(e,r){Math.floor(t)===Math.floor(e.samplePoint)&&(a=!0),t>e.samplePoint&&(i=r+1)})))})),a||(void 0===n&&(n=this.DataService.getNewId()),this.insertItemDetails(n,e,i,r,t,-1)),{alreadyExists:a,id:n}},t.prototype.deleteEvent=function(e,t){var r=!1;return this.DataService.getLevelData().forEach((function(n){n.name===e&&"EVENT"===n.type&&n.items.forEach((function(e,i){r||t===e.id&&(r=e,n.items.splice(i,1))}))})),r},t.prototype.deleteBoundary=function(e,t,r,n){var i=this.getItemFromLevelById(e,t),a=null,o=null,s=null,l=null;return this.DataService.getLevelData().forEach((function(t){t.name===e&&(a=t.items[0],t.items.forEach((function(e,c){if("SEGMENT"===t.type&&i.sampleStart===e.sampleStart&&i.sampleDur===e.sampleDur)if(0===c&&r)t.items.splice(c,1),o=c,s=e,l=t.items[0];else if(c===t.items.length-1&&n)t.items.splice(c,1),o=c,s=e,l=t.items[t.items.length-1];else{for(var u=0;u<a.labels.length;u++)a.labels[u].value+=e.labels[u].value;a.sampleDur+=e.sampleDur+1,t.items.splice(c,1),o=c,s=e,l=a}a=e})),null===l&&(l=t.items[0]))})),{order:o,event:s,clickSeg:l}},t.prototype.deleteBoundaryInvers=function(e,t,r,n,i){this.DataService.getLevelData().forEach((function(t){if(t.name===e){t.items.splice(i.order,0,i.event);var a=i.event.labels[0].value;r||n||(a=t.items[i.order-1].labels[0].value.slice(0,t.items[i.order-1].labels[0].value.length-i.event.labels[0].value.length),t.items[i.order-1].labels[0].value=a,t.items[i.order-1].sampleDur-=i.event.sampleDur+1)}}))},t.prototype.snapBoundary=function(e,t,r,n,i){var a,o,s,l,c,u=this,h=1/0;return"SEGMENT"===i?l=r.sampleStart:"EVENT"===i&&(l=r.samplePoint),this.DataService.getLevelData().forEach((function(r,n){if(r.name===t){var i,p=u.ConfigProviderService.vals.perspectives[u.ViewStateService.curPerspectiveIdx].levelCanvases.order,f=p.indexOf(t);if(e){if(!(f>=1))return!1;i=p[f-1]}else{if(!(f<p.length-1))return!1;i=p[f+1]}u.DataService.getLevelData().forEach((function(e){e.name===i&&(a=e).items.forEach((function(e){"SEGMENT"===a.type?c=e.sampleStart:"EVENT"===a.type&&(c=e.samplePoint),(o=Math.abs(l-c))<h&&(h=o,s=c-l)}))}))}})),void 0!==s&&("SEGMENT"===i?this.moveBoundary(t,r.id,s,!1,!1):"EVENT"===i&&this.moveEvent(t,r.id,s),s)},t.prototype.moveBoundary=function(e,t,r,n,i){var a,o=this.getItemFromLevelById(e,t),s=this.ViewStateService.getCurAttrDef(e),l=this.getLabelIdx(s,o.labels),c=this.getItemNeighboursFromLevel(e,t,t);if(n)void 0!==(a=c.right)?o.sampleStart+r>=0&&o.sampleStart+r<a.sampleStart&&this.updateSegment(e,o.id,void 0,l,o.sampleStart+r,o.sampleDur-r):o.sampleStart+r>=0&&o.sampleDur-r>=0&&o.sampleStart+o.sampleDur+r<=this.SoundHandlerService.audioBuffer.length&&this.updateSegment(e,o.id,void 0,l,o.sampleStart+r,o.sampleDur-r);else if(i)o.sampleDur+r>=0&&o.sampleDur+o.sampleStart+r<=this.SoundHandlerService.audioBuffer.length&&this.updateSegment(e,o.id,void 0,l,o.sampleStart,o.sampleDur+r);else if(void 0===c.left)void 0!==(a=c.right)?o.sampleStart+r>=0&&o.sampleStart+r<a.sampleStart&&this.updateSegment(e,o.id,void 0,l,o.sampleStart+r,o.sampleDur-r):o.sampleStart+r>=0&&o.sampleStart+o.sampleDur+r<=this.SoundHandlerService.audioBuffer.length&&this.updateSegment(e,o.id,void 0,l,o.sampleStart+r,o.sampleDur-r);else{var u=c.left;u.sampleDur+r>=0&&o.sampleStart+r>=0&&o.sampleDur-r>=0&&(this.updateSegment(e,c.left.id,void 0,l,u.sampleStart,u.sampleDur+r),this.updateSegment(e,o.id,void 0,l,o.sampleStart+r,o.sampleDur-r))}},t.prototype.moveEvent=function(e,t,r){var n=this,i=this.getItemFromLevelById(e,t),a=this.ViewStateService.getCurAttrDef(e),o=this.getLabelIdx(a,i.labels);if(this.LinkService.isLinked(t)){var s=this.getItemNeighboursFromLevel(e,t,t);i.samplePoint+r>0&&i.samplePoint+r<=this.SoundHandlerService.audioBuffer.length&&(void 0!==s.left&&void 0!==s.right?i.samplePoint+r>s.left.samplePoint&&i.samplePoint+r<s.right.samplePoint&&this.updatePoint(e,i.id,i.labels[0].value,o,i.samplePoint+r):void 0===s.left&&void 0===s.right?this.updatePoint(e,i.id,i.labels[0].value,o,i.samplePoint+r):void 0===s.left&&void 0!==s.right?i.samplePoint+r>0&&i.samplePoint+r<s.right.samplePoint&&this.updatePoint(e,i.id,i.labels[0].value,o,i.samplePoint+r):void 0!==s.left&&void 0===s.right&&i.samplePoint+r>s.left.samplePoint&&i.samplePoint+r<=this.SoundHandlerService.audioBuffer.length&&this.updatePoint(e,i.id,i.labels[0].value,o,i.samplePoint+r))}else i.samplePoint+r>0&&i.samplePoint+r<=this.SoundHandlerService.audioBuffer.length&&this.updatePoint(e,i.id,i.labels[0].value,o,i.samplePoint+r),this.DataService.getLevelData().forEach((function(t){t.name===e&&t.items.sort(n.ViewStateService.sortbystart)}))},t.prototype.orderPoints=function(e,t){return e.samplePoint>t.samplePoint?1:e.samplePoint<t.samplePoint?-1:0},t.prototype.moveSegment=function(e,t,r,n){var i,a,o=this.getOrderById(e,t),s=this.getItemDetails(e,o),l=this.getItemDetails(e,o+r-1);if(null!==s&&null!==l){var c=this.getItemNeighboursFromLevel(e,s.id,l.id),u=this.ViewStateService.getCurAttrDef(e),h=this.getLabelIdx(u,s.labels);if(void 0===c.left&&void 0!==c.right){var p=this.getItemFromLevelById(e,c.right.id);if(s.sampleStart+n>0&&c.right.sampleDur-n>=0)for(this.updateSegment(e,p.id,void 0,h,p.sampleStart+n,p.sampleDur-n),a=o;a<o+r;a++)i=this.getItemDetails(e,a),this.updateSegment(e,i.id,void 0,h,i.sampleStart+n,i.sampleDur)}else if(void 0===c.right&&void 0!==c.left){var f=this.getItemFromLevelById(e,c.left.id);if(c.left.sampleDur+n>=0&&l.sampleStart+l.sampleDur+n<this.SoundHandlerService.audioBuffer.length)for(this.updateSegment(e,f.id,void 0,h,f.sampleStart,f.sampleDur+n),a=o;a<o+r;a++)i=this.getItemDetails(e,a),this.updateSegment(e,i.id,void 0,h,i.sampleStart+n,i.sampleDur)}else if(void 0!==c.right&&void 0!==c.left){var d=this.getItemFromLevelById(e,c.left.id),v=this.getItemFromLevelById(e,c.right.id);if(d.sampleDur+n>=0&&v.sampleDur-n>=0)for(this.updateSegment(e,d.id,void 0,h,d.sampleStart,d.sampleDur+n),this.updateSegment(e,v.id,void 0,h,v.sampleStart+n,v.sampleDur-n),a=o;a<o+r;a++)i=this.getItemDetails(e,a),this.updateSegment(e,i.id,void 0,h,i.sampleStart+n,i.sampleDur)}else if(void 0===c.right&&void 0===c.left){var m=this.getItemDetails(e,o),g=this.getItemDetails(e,o+r-1);if(m.sampleStart+n>0&&g.sampleDur+g.sampleStart+n<this.SoundHandlerService.audioBuffer.length)for(a=o;a<o+r;a++)i=this.getItemDetails(e,a),this.updateSegment(e,i.id,void 0,h,i.sampleStart+n,i.sampleDur)}}},t.prototype.expandSegment=function(e,t,r,n){var i,a=this,o=0,s=this.getItemNeighboursFromLevel(r,t[0].id,t[t.length-1].id),l=this.ViewStateService.getCurAttrDef(r),c=this.getLabelIdx(l,t[0].labels),u=!0;e?void 0===s.right?t[t.length-1].sampleStart+t[t.length-1].sampleDur+n*t.length<=this.SoundHandlerService.audioBuffer.length&&t.forEach((function(e){i=a.getItemFromLevelById(r,e.id),a.updateSegment(r,i.id,void 0,c,i.sampleStart+o,i.sampleDur+n),o+=n})):(t.forEach((function(e){e.sampleDur+1+n<0&&(u=!1)})),u&&s.right.sampleDur-n*t.length>0&&(t.forEach((function(e){i=a.getItemFromLevelById(r,e.id),a.updateSegment(r,i.id,void 0,c,i.sampleStart+o,i.sampleDur+n),o+=n})),this.updateSegment(r,s.right.id,void 0,c,s.right.sampleStart+o,s.right.sampleDur-o))):void 0===s.left?this.getItemDetails(r,0).sampleStart+n*(t.length+1)>0&&t.forEach((function(e){i=a.getItemFromLevelById(r,e.id),a.updateSegment(r,i.id,void 0,i.sampleStart-n,c,i.sampleDur+n)})):(t.forEach((function(e){e.sampleDur+1+n<0&&(u=!1)})),u&&s.left.sampleDur-n*t.length>0&&(o=0,t.forEach((function(e,s){i=a.getItemFromLevelById(r,e.id),o=-(t.length-s)*n,a.updateSegment(r,i.id,void 0,c,i.sampleStart+o,i.sampleDur+n)})),this.updateSegment(r,s.left.id,void 0,c,s.left.sampleStart,s.left.sampleDur-t.length*n)))},t.prototype.calcDistanceToNearestZeroCrossing=function(e){var t,r=1/0,n=1/0,i=this.SoundHandlerService.audioBuffer.getChannelData(this.ViewStateService.osciSettings.curChannel);for(t=e;t<this.SoundHandlerService.audioBuffer.length-1;t++)if(i[t]>=0&&i[t+1]<0||i[t]<0&&i[t+1]>=0){r=t-e;break}for(t=e;t>1;t--)if(i[t]>=0&&i[t-1]<0||i[t]<0&&i[t-1]>=0){n=t-e;break}return Math.abs(n)<Math.abs(r)?n:r+1},t.prototype.pushNewItem=function(e,t){var r=this.getLevelDetails(e);if(console.debug(e,r,t),"ITEM"===r.type){var n;n="number"==typeof t?{id:t,labels:[]}:{id:this.DataService.getNewId(),labels:[]};for(var i=this.ConfigProviderService.getLevelDefinition(r.name).attributeDefinitions,a=0;a<i.length;++a)"STRING"===i[a].type?n.labels.push({name:i[a].name,value:""}):n.labels.push({name:i[a].name,value:null});return r.items.push(n),n.id}return-1},t.prototype.addItem=function(e,t,r){if(void 0===e)return-1;if("boolean"!=typeof t)return-1;var n=this.getLevelAndItem(e);if(null===n)return console.debug("Could not find item with id:",e),-1;var i=n.level,a=n.item;if("ITEM"===i.type){var o,s,l=i.items.indexOf(a);o=!0===t?l:l+1,s=void 0===r?{id:this.DataService.getNewId(),labels:[]}:{id:r,labels:[]};for(var c=this.ConfigProviderService.getLevelDefinition(i.name).attributeDefinitions,u=0;u<c.length;++u)"STRING"===c[u].type?s.labels.push({name:c[u].name,value:""}):s.labels.push({name:c[u].name,value:null});return i.items.splice(o,0,s),s.id}return-1},t.prototype.addItemInvers=function(e){for(var t=this.DataService.getLevelData(),r=0;r<t.length;++r)for(var n=0;n<t[r].items.length;++n)if(t[r].items[n].id===e)return void t[r].items.splice(n,1)},t.prototype.deleteItemWithLinks=function(e){var t={item:void 0,levelName:void 0,position:void 0,deletedLinks:[]},r=this.getLevelAndItem(e);if(null===r)return t;var n=r.level,i=r.item;if("ITEM"!==n.type)return t;t.item=i,t.levelName=n.name,t.position=n.items.indexOf(i),n.items.splice(n.items.indexOf(i),1);for(var a=this.DataService.getLinkData(),o=a.length-1;o>=0;--o)a[o].fromID!==e&&a[o].toID!==e||(t.deletedLinks.push(a[o]),a.splice(o,1));return t},t.prototype.deleteItemWithLinksInvers=function(e,t,r,n){this.getLevelDetails(t).items.splice(r,0,e);for(var i=0;i<n.length;++i)this.DataService.insertLinkData(n[i])},t}();t.module("emuwebApp").service("LevelService",["$q","DataService","LinkService","ConfigProviderService","SoundHandlerService","ViewStateService",n])}).call(this,r(19))},function(e,t,r){var n=r(5),i=r(376);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(378);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-text small,.emuwebapp-text div span,.emuwebapp-text{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large,.emuwebapp-text table td,.emuwebapp-text table th,.emuwebapp-text h4,.emuwebapp-text h1,.emuwebapp-text h2,.emuwebapp-text h3{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code,.emuwebapp-text pre{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input,.emuwebapp-text input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-text{margin-left:50px;margin-right:50px;margin-top:50px;padding-left:18px;padding-right:18px;word-wrap:break-word;padding-bottom:120px;-webkit-user-select:text !important;-ms-user-select:text !important;-moz-user-select:text !important;-o-user-select:text !important;user-select:text !important}.emuwebapp-text input.ng-invalid.ng-touched{background-color:red}.emuwebapp-text .red{color:red}.emuwebapp-text .emuwebapp-sort-line{border:0;border-bottom:1px dashed #ccc;background:#999}.emuwebapp-text .emuwebapp-sortOuter{list-style-type:none;text-align:left}.emuwebapp-text .emuwebapp-sort{list-style-type:none;width:60%;margin-top:15px;margin-bottom:15px;margin-left:20%}.emuwebapp-text .emuwebapp-sort li{border:1px dashed #fff}.emuwebapp-text .emuwebapp-sort li:hover{background:#0dc5ff;cursor:n-resize}.emuwebapp-text input{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;-webkit-box-sizing:content-box;-ms-box-sizing:content-box;-moz-box-sizing:content-box;-o-box-sizing:content-box;box-sizing:content-box;outline:none}.emuwebapp-text strong{font-weight:bold !important}.emuwebapp-text div{margin-left:25px;margin-right:25px;margin-top:0}.emuwebapp-text div p{text-align:left}.emuwebapp-text div span{text-align:center}.emuwebapp-text img[alt=icon]{width:100px}.emuwebapp-text h1,.emuwebapp-text h2,.emuwebapp-text h3{position:relative;margin-top:1em;margin-bottom:16px;padding-bottom:.3em;line-height:1.255;display:block}.emuwebapp-text h1{font-size:27.2px;font-weight:bold;border:1px solid #fff}.emuwebapp-text h2{font-size:20.8px;font-weight:bold;border-bottom:1px solid #555}.emuwebapp-text h3{position:relative;margin-top:1em;margin-bottom:5px;padding-bottom:.3em;line-height:1.255;border-bottom:1px solid #eee;display:block;text-align:left;font-weight:bold !important}.emuwebapp-text h4{position:relative;margin-top:1em;margin-bottom:5px;padding-bottom:.3em;line-height:1.255;border-bottom:1px solid #eee;display:block;text-align:left}.emuwebapp-text pre{padding:16px;overflow:auto;line-height:1.45;background-color:#f7f7f7;border-radius:3px;word-wrap:normal;font-size:.9em}.emuwebapp-text img{display:block;margin-left:auto;margin-right:auto}.emuwebapp-text p{line-height:150%}.emuwebapp-text p img{text-align:center}.emuwebapp-text pre{text-align:left;color:#000}.emuwebapp-text ul{margin-left:100px;padding:50px;list-style-position:inside;padding-left:35px}.emuwebapp-text ul li{list-style-type:disc}.emuwebapp-text ul li,.emuwebapp-text p,.emuwebapp-text div,.emuwebapp-text strong,.emuwebapp-text em,.emuwebapp-text a,.emuwebapp-text code,.emuwebapp-text h3,.emuwebapp-text th,.emuwebapp-text td,.emuwebapp-text b{text-align:left;font-size:16px !important;-webkit-user-select:text !important;-ms-user-select:text !important;-moz-user-select:text !important;-o-user-select:text !important;user-select:text !important}.emuwebapp-text div{text-align:center}.emuwebapp-text span{display:block;font-size:1.2em;text-align:center;line-height:.85}.emuwebapp-text small{text-align:center;font-size:.7em}.emuwebapp-text alert{display:block;text-align:center;color:#a94442;background-color:#f2dede;border:3px dashed #ebccd1;border-radius:3px;margin:5px;margin-top:25px;margin-bottom:25px}.emuwebapp-text table{margin:auto;text-align:left;max-width:500px;width:500px !important}.emuwebapp-text table th{background-color:#fff;font-weight:bold;text-align:center;text-decoration:underline;padding:10px}.emuwebapp-text table tr{width:500px !important;padding-top:5px;padding-bottom:5px;padding-left:2px;padding-right:2px}.emuwebapp-text table tr:nth-child(even){background:#e7e7e7;color:#000}.emuwebapp-text table tr:nth-child(odd){background:#424242}.emuwebapp-text table td{padding:10px}.emuwebapp-text table td:nth-child(even){text-align:right}.emuwebapp-link{cursor:pointer}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(380);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-mini-btn,.emuwebapp-mini-btn-save{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-nav-wrap{z-index:99999}.emuwebapp-nav-wrap .emuwebapp-dropdown-container:hover .emuwebapp-mini-btn,.emuwebapp-nav-wrap .emuwebapp-dropdown-container:hover .emuwebapp-mini-btn-save{background:#000;color:#fff}.emuwebapp-nav-wrap ul{list-style:none;position:relative}.emuwebapp-nav-wrap ul ul{position:absolute;top:100%;left:0;background:#fff;margin:0;margin-left:2px}.emuwebapp-nav-wrap ul ul ul{top:0;left:100%;z-index:99999}.emuwebapp-nav-wrap ul ul li{float:none;width:150px}.emuwebapp-nav-wrap ul ul a{z-index:99999}.emuwebapp-nav-wrap ul li{position:relative;float:left;margin:0;padding:0;width:100%}.emuwebapp-label-edit{z-index:9999;position:absolute;font-size:.8em;text-align:center;overflow:scroll;padding:0;margin:0;border:1px #303030;outline:none;resize:none;white-space:nowrap;background-color:#ff0;box-shadow:0 0 15px #303030;vertical-align:middle !important;overflow-x:hidden;overflow-y:hidden}.emuwebapp-mini-btn,.emuwebapp-mini-btn-save{display:inline-block;background:transparent;border-radius:0;border:1px solid #000;color:#000;text-decoration:none;text-align:center;margin:0;padding:0;width:120px;height:30px;outline:none}.emuwebapp-mini-btn:hover:enabled,.emuwebapp-mini-btn-save:hover:enabled{background-color:#000;color:#fff}.emuwebapp-mini-btn:disabled,.emuwebapp-mini-btn-save:disabled{pointer-events:none;color:#21d9ff;border:1px solid #21d9ff}.emuwebapp-mini-btn:active,.emuwebapp-mini-btn-save:active{top:1px;background-color:#fff;color:#000}.emuwebapp-mini-btn-save{width:40px;height:22px;position:relative;top:-2px;background:#0dc5ff;border:1px solid #0dc5ff;color:#000}.emuwebapp-mini-btn-save:hover{background:#0dc5ff;border:1px solid #0dc5ff;color:#fff}.emuwebapp-button-icon{display:inline-block;position:relative;background:transparent;color:#000;border:0;width:40px;height:40px;text-align:center;top:0}.emuwebapp-button-icon>._20px{width:20px;height:20px}.emuwebapp-button-icon>._35px{width:35px;height:35px}.emuwebapp-button-icon:active{background:#000}.emuwebapp-button-icon:focus{outline:none}.emuwebapp-button-icon:hover{color:#fff;background-color:#000}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(382);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,"@media(min-width: 950px){.emuwebapp-mini-btn,.emuwebapp-nav-wrap ul li{width:9%}.emuwebapp-mini-btn-group{width:9%}}@media(min-width: 450px)and (max-width: 950px){.emuwebapp-mini-btn,.emuwebapp-nav-wrap ul li{width:7.5%}.emuwebapp-mini-btn-group{width:7.5%}}@media(max-width: 450px){.emuwebapp-mini-btn,.emuwebapp-nav-wrap ul li{width:6%}.emuwebapp-mini-btn-group{width:6%}}",""]),e.exports=t},function(e,t,r){var n=r(5),i=r(384);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){var n=r(6),i=r(385),a=r(386),o=r(387),s=r(388),l=r(389);t=n(!1);var c=i(a),u=i(o),h=i(s),p=i(l);t.push([e.i,'.emuwebapp-font-small,.emuwebapp .emuwebapp-dropdown-menu li,.emuwebapp button,.emuwebapp,.emuwebapp *{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp *{text-rendering:optimizeLegibility;-webkit-touch-callout:none;-ms-touch-callout:none;-moz-touch-callout:none;-o-touch-callout:none;touch-callout:none}.emuwebapp * *:not(input.field){-webkit-user-select:text;-ms-user-select:text;-moz-user-select:text;-o-user-select:text;user-select:text}.emuwebapp{left:0px;top:0px;width:100%;min-width:100%;height:100%;min-height:100%;position:absolute;background-color:#303030;text-align:center;overflow:hidden;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;-webkit-touch-callout:none;-ms-touch-callout:none;-moz-touch-callout:none;-o-touch-callout:none;touch-callout:none}.emuwebapp>.emuwebapp-main{flex:1;display:flex;position:absolute;width:100%;height:100%}.emuwebapp>.emuwebapp-main>.emuwebapp-window{flex:1;display:flex;flex-direction:column}.emuwebapp>.emuwebapp-main>.emuwebapp-window>.emuwebapp-top-menu{height:40px;background:#0dc5ff;-webkit-touch-callout:none;-ms-touch-callout:none;-moz-touch-callout:none;-o-touch-callout:none;touch-callout:none;text-align:left;z-index:5}.emuwebapp>.emuwebapp-main>.emuwebapp-window>.emuwebapp-bottom-menu{width:100%;height:87px;background:#0dc5ff;-webkit-touch-callout:none;-ms-touch-callout:none;-moz-touch-callout:none;-o-touch-callout:none;touch-callout:none;text-align:left;padding-left:5px;padding-bottom:5px;z-index:5}.emuwebapp>.emuwebapp-main>.emuwebapp-window>.emuwebapp-canvas{flex:1;position:relative;z-index:1;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.emuwebapp .left{float:left;margin-right:6px;margin-top:4px}.emuwebapp .full{width:100%}.emuwebapp table{border-collapse:collapse}.emuwebapp ul{margin:0;padding:0;width:100%;list-style-type:none}.emuwebapp li{margin:0;padding:0;width:100%}.emuwebapp button{border-spacing:0;line-height:1.1em;list-style:none outside none;margin:0;padding:0;text-align:center;text-decoration:none;text-indent:0;cursor:pointer;overflow:hidden;white-space:normal}.emuwebapp .emuwebapp-dropdown-container{z-index:99999 !important}.emuwebapp .emuwebapp-dropdown-container:hover #demoDB{background-color:#fff;color:#000}.emuwebapp #emuwebapp-dropdown-arrow:after{content:"▸"}.emuwebapp .emuwebapp-dropdown-container:hover #emuwebapp-dropdown-arrow:after{content:"▾"}.emuwebapp .emuwebapp-dropdown-menu{background:#fff;list-style:none outside none;margin:0;margin-left:-1px;padding:0;border-spacing:0;border-left:1px solid #0dc5ff;border-right:1px solid #0dc5ff;border-bottom:1px solid #0dc5ff;overflow:hidden}.emuwebapp .emuwebapp-dropdown-menu li{padding:5px;margin:0px;max-width:90px;overflow:hidden}.emuwebapp .emuwebapp-dropdown-menu li:hover{color:#0dc5ff;cursor:pointer}.emuwebapp a:link{color:#0dc5ff}.emuwebapp a:hover{color:#fff}.emuwebapp a:visited{color:#d3d3d3}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:url('+c+');src:local("Material Icons"),local("MaterialIcons-Regular"),url('+u+') format("woff2"),url('+h+') format("woff"),url('+p+') format("truetype")}.material-icons{font-family:"Material Icons";font-weight:normal;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,r){"use strict";r.r(t),t.default=r.p+"fonts/MaterialIcons-Regular.eot"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"fonts/MaterialIcons-Regular.woff2"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"fonts/MaterialIcons-Regular.woff"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"fonts/MaterialIcons-Regular.ttf"},function(e,t,r){var n=r(5),i=r(391);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,".emuwebapp-preview{position:relative;width:calc(100% - 30px);height:38px !important;min-height:38px !important;margin-top:5px;cursor:pointer}.emuwebapp-preview>.emuwebapp-preview-canvas{position:absolute}.emuwebapp-preview>.emuwebapp-preview-canvas-markup{position:absolute;background-color:transparent;width:100%;height:100%}",""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(393);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-modal-wrap,.emuwebapp-modal .emuwebapp-delete{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large,.emuwebapp-modal-wrap>.emuwebapp-modal-header h3,.emuwebapp-modal-wrap>.emuwebapp-modal-header h2{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-modal{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);z-index:99998;opacity:0;pointer-events:none;-webkit-transition:opacity 200ms ease-in;-ms-transition:opacity 200ms ease-in;-moz-transition:opacity 200ms ease-in;-o-transition:opacity 200ms ease-in;transition:opacity 200ms ease-in}.emuwebapp-modal>div{width:84%;height:90%;position:relative;margin-left:8%;margin-right:8%;margin-top:3%;background:#fff}.emuwebapp-modal .emuwebapp-close-button{background:transparent;border:none;color:#000;position:absolute;right:0px;text-align:center;top:3px;width:30px;height:30px;z-index:99999}.emuwebapp-modal .emuwebapp-close-button:hover{filter:invert(100%)}.emuwebapp-modal .emuwebapp-add-signal,.emuwebapp-modal .emuwebapp-delete-signal{clear:both;display:inline-block;background:#fff;text-decoration:none;font-weight:bold;-webkit-box-shadow:1px 1px 3px rgba(22, 22, 22, 0.1);-ms-box-shadow:1px 1px 3px rgba(22, 22, 22, 0.1);-moz-box-shadow:1px 1px 3px rgba(22, 22, 22, 0.1);-o-box-shadow:1px 1px 3px rgba(22, 22, 22, 0.1);box-shadow:1px 1px 3px rgba(22, 22, 22, 0.1);-webkit-border-radius:15px;-ms-border-radius:15px;-moz-border-radius:15px;-o-border-radius:15px;border-radius:15px;z-index:99999}.emuwebapp-modal .emuwebapp-add-signal:hover,.emuwebapp-modal .emuwebapp-delete-signal:hover{background:#0dc5ff;text-decoration:none}.emuwebapp-modal .emuwebapp-add-signal img,.emuwebapp-modal .emuwebapp-delete-signal img{text-align:right}.emuwebapp-modal .emuwebapp-delete-signal{float:right}.emuwebapp-modal .emuwebapp-delete{float:right;position:relative;top:-10px;right:-10px;width:30px;height:30px}.emuwebapp-modal .emuwebapp-modal-inner{position:absolute;top:0;bottom:0;left:0;right:0;margin-top:0;margin-bottom:0}.emuwebapp-modal .emuwebapp-signalcanvas{list-style-type:none;width:50%;margin-left:25%}.emuwebapp-modal .emuwebapp-signalcanvas li{list-style-type:none;background-color:#0dc5ff;margin:10px;padding:3px}.emuwebapp-modal-list{width:300px}.emuwebapp-modal-wrap{width:100%;height:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.emuwebapp-modal-wrap>.emuwebapp-modal-header{position:absolute;background-color:#0dc5ff;height:60px;left:0;top:0;width:100%}.emuwebapp-modal-wrap>.emuwebapp-modal-header h2{padding-top:17px;color:#000}.emuwebapp-modal-wrap>.emuwebapp-modal-header h3{padding-top:17px;color:#000}.emuwebapp-modal-open{opacity:1;pointer-events:auto}.emuwebapp-modal-URL-input{min-width:60%;overflow:auto}.emuwebapp-modal-body{height:calc(100% - 120px);width:100%;top:60px;padding:0;bottom:60px;position:relative;clear:both;overflow-y:auto;overflow-x:hidden;background-color:#303030;color:#fff}.emuwebapp-modal-body select{margin:3px}.emuwebapp-modal-body select[name=url]{min-width:80%;overflow:auto}.emuwebapp-modal-body hr{margin-top:10px;margin-bottom:10px}.emuwebapp-modal-hierarchy{background:#e7e7e7}.emuwebapp-modal-footer{height:60px;width:100%;position:absolute;background-color:#0dc5ff;left:0;bottom:0}.emuwebapp-modal-footer button{margin-top:15px;vertical-align:top}.emuwebapp-inline-modal-footer{position:sticky;bottom:0px;padding-bottom:10px}.emuwebapp-inline-modal-footer button{color:#fff;background-color:#000}.emuwebapp-inline-modal-footer button:hover{filter:invert(100%)}.emuwebapp-exportdata{margin-left:50px;margin-right:50px;text-align:left;color:#444;background:#eee;border:1px solid #ccc;border-radius:5px;white-space:pre-wrap;-webkit-tab-size:5;-ms-tab-size:5;-moz-tab-size:5;-o-tab-size:5;tab-size:5}.emuwebapp-modalUl{padding:10px}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(395);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-bundle-outer .emuwebapp-filter,.emuwebapp-bundle-outer>div{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input,.emuwebapp-bundle-outer .emuwebapp-bundle-container,.emuwebapp-bundle-outer{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-bundle-outer{height:100%;width:240px;background:#424242;color:#fff;margin-left:0;padding-bottom:500px;line-height:.85;-webkit-transition:margin-left ease-in-out 400ms;-ms-transition:margin-left ease-in-out 400ms;-moz-transition:margin-left ease-in-out 400ms;-o-transition:margin-left ease-in-out 400ms;transition:margin-left ease-in-out 400ms}.emuwebapp-bundle-outer.ng-hide{margin-left:-240px}.emuwebapp-bundle-outer h3{font-size:1.4em;padding-top:6px;padding-bottom:6px;margin:0;border-bottom:thin solid #000}.emuwebapp-bundle-outer>div{height:100%;border-right:thin solid #000}.emuwebapp-bundle-outer .emuwebapp-filter{outline:none;border:0 none;color:#fff;background-color:#000;width:75%;padding:6px 15px 7px 35px;-webkit-box-shadow:0 1px 0 rgba(22, 22, 22, 0.1), 0 1px 3px rgba(0, 0, 0, 0.7) inset;-ms-box-shadow:0 1px 0 rgba(22, 22, 22, 0.1), 0 1px 3px rgba(0, 0, 0, 0.7) inset;-moz-box-shadow:0 1px 0 rgba(22, 22, 22, 0.1), 0 1px 3px rgba(0, 0, 0, 0.7) inset;-o-box-shadow:0 1px 0 rgba(22, 22, 22, 0.1), 0 1px 3px rgba(0, 0, 0, 0.7) inset;box-shadow:0 1px 0 rgba(22, 22, 22, 0.1), 0 1px 3px rgba(0, 0, 0, 0.7) inset;-webkit-transition:all 400ms ease 0s;-ms-transition:all 400ms ease 0s;-moz-transition:all 400ms ease 0s;-o-transition:all 400ms ease 0s;transition:all 400ms ease 0s;-webkit-border-radius:20px;-ms-border-radius:20px;-moz-border-radius:20px;-o-border-radius:20px;border-radius:20px}.emuwebapp-bundle-outer .emuwebapp-bundle-container{width:calc(100% - 20px);height:calc(100% - 60px) !important;overflow-y:auto;text-align:left;padding:10px;font-size:.8em}.emuwebapp-bundle-outer .emuwebapp-bundle-container::-webkit-scrollbar{width:12px;height:0}.emuwebapp-bundle-outer .emuwebapp-bundle-container::-webkit-scrollbar-track{background:#e7e7e7}.emuwebapp-bundle-outer .emuwebapp-bundle-container::-webkit-scrollbar-thumb{border-radius:8px;border:2px solid #e7e7e7;background-color:rgba(0,0,0,.5)}.emuwebapp-bundle-outer .emuwebapp-bundle-container .emuwebapp-bundle-session{margin:0;padding:5px 0 5px 0;border-style:none;position:relative;cursor:pointer}.emuwebapp-bundle-outer .emuwebapp-bundle-container .emuwebapp-bundle-session:hover{background-color:rgba(152,152,152,.18)}.emuwebapp-bundle-outer .emuwebapp-bundle-container .emuwebapp-bundle-session div{overflow-x:auto;overflow-y:hidden}.emuwebapp-bundleListSessionPager{margin:0;padding:5px 0 5px 0;border-style:none;position:relative;text-align:center;cursor:default}.emuwebapp-bundleListSessionPager button{background:transparent;color:#fff;border-radius:25%;border:2px solid #fff;font-size:15px}.emuwebapp-bundleListSessionPager button:hover{background-color:rgba(22,22,22,.1)}.emuwebapp-bundleListSessionPager button:focus{outline:0}.emuwebapp-bundleListSessionPager button:disabled{color:rgba(22,22,22,.1);border:2px solid rgba(22,22,22,.1)}.emuwebapp-bundle-item{margin:0;padding:10px;border-style:none;border-bottom:thin solid rgba(152,152,152,.25);position:relative;cursor:pointer;width:190px !important}.emuwebapp-bundle-item:hover{background-color:rgba(152,152,152,.28)}.emuwebapp-bundle-item input[type=text]{width:170px;height:25px;font-size:1.4em}.emuwebapp-bundle-item b{display:block;font-size:1.4em;font-weight:500;cursor:pointer;width:100%;height:30px;overflow-x:auto;overflow-y:hidden}.emuwebapp-bundle-last{margin-bottom:200px}.emuwebapp-saveBundleButton{position:absolute;background-color:transparent;border-style:none;color:#fff;top:2px;right:2px}.emuwebapp-saveBundleButton:hover{color:#000;background-color:#fff}.emuwebapp-shrinkBundleListSidebarWidthTo0px{width:0;-webkit-transition:width 400ms;-ms-transition:width 400ms;-moz-transition:width 400ms;-o-transition:width 400ms;transition:width 400ms}.emuwebapp-expandBundleListSidebarWidthTo200px{width:240;-webkit-transition:width 400ms;-ms-transition:width 400ms;-moz-transition:width 400ms;-o-transition:width 400ms;transition:width 400ms}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(397);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-right-menu{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-right-menu{position:absolute;top:40px;right:-200px;height:-moz-calc(100% - 133px);height:-webkit-calc(100% - 133px);height:calc(100% - 133px);width:200px;background-color:#424242;color:#fff;border-left:thin solid #000;z-index:1000}.emuwebapp-right-menu h3{font-size:1.5em;padding-top:15px;padding-bottom:15px;border-bottom:thin solid #000;overflow:hidden}.emuwebapp-right-menu ul{margin:10px;text-align:left;overflow:hidden}.emuwebapp-right-menu>button{position:absolute;top:125px;left:-24px;height:24px;width:24px;color:#fff;background:transparent;-webkit-box-shadow:-2px 1px 5px rgba(0, 0, 0, 0.7);-ms-box-shadow:-2px 1px 5px rgba(0, 0, 0, 0.7);-moz-box-shadow:-2px 1px 5px rgba(0, 0, 0, 0.7);-o-box-shadow:-2px 1px 5px rgba(0, 0, 0, 0.7);box-shadow:-2px 1px 5px rgba(0, 0, 0, 0.7);border-style:solid;border-width:1px 0 1px 1px;border-color:#fff;z-index:2001}.emuwebapp-right-menu>button img{width:10px;height:20px;padding-bottom:0;border-style:none;border:0;border-radius:0;filter:invert(100%)}.emuwebapp-right-menu>button:active{background:#fff}.emuwebapp-right-menu>button:focus{outline:none}.emuwebapp-right-menu>button:hover{background-color:#000;filter:invert(100%)}.emuwebapp-right-menu .emuwebapp-curSelPerspLi{border-bottom:thin solid rgba(22,22,22,.1);padding:10px !important;margin:4px !important;font-size:1.2em;background-color:#999;color:#000}.emuwebapp-right-menu .emuwebapp-perspLi{border-bottom:thin solid rgba(22,22,22,.1);padding:10px !important;margin:4px !important;font-size:1.2em;overflow:hidden}.emuwebapp-right-menu .emuwebapp-perspLi:hover{background-color:rgba(152,152,152,.18)}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(399);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-twoDimCanvasContainer{position:absolute;top:12px;left:12px;height:calc(100% - 12px);width:calc(100% - 12px);padding:0px;background-color:#fff}.emuwebapp-twoDimCanvasContainer canvas{float:left;margin:0px;z-index:1;width:100%;height:100%}.emuwebapp-twoDimCanvasContainer .emuwebapp-twoDimCanvasStatic{z-index:1;width:100%;height:100%;background-color:#000}.emuwebapp-twoDimCanvasContainer .emuwebapp-twoDimCanvasDots{position:absolute;top:0;left:0;width:100% !important;z-index:2;background-color:transparent}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(401);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}div.printTitle{display:none}@media print{div.printTitle{display:block;position:running(printTitle)}@page{size:auto;margin:.5cm;margin-left:1cm;text-align:center}html,body{width:100%;height:100%;text-align:center}html,body,ul,ol,li,form,fieldset,legend{margin:0;padding:0}.emuwebapp-bundleListSideBarOuter,.emuwebapp-progressBar,.emuwebapp-menuBarTop,.emuwebapp-menuBarBottom,.emuwebapp-split-handler,.emuwebapp-filter,.emuwebapp-bundle-outer,.emuwebapp-top-menu,.emuwebapp-right-menu,.emuwebapp-bottom-menu,.emuwebapp-timelineCanvasButtons,.emuwebapp-rightSideMenuOpenBtn,.emuwebapp-levelButtonsContainer,.emuwebapp-canvasSelectors,.emuwebapp-levelResizeBtn,.emuwebapp-levelButtonsContainer{display:none !important;height:0 !important;width:0 !important}.emuwebapp-timeline-flexitem{margin-bottom:3px}.emuwebapp-bottomPane{margin-top:0;background-color:pink}}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(403);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input,.emuwebapp-progressBar{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-progressBar{background-color:#424242;color:#fff;width:100%;height:20px;font-weight:900;background-image:-webkit-linear-gradient(-45deg, #000 25%, transparent 25%, transparent 50%, #000 50%, #000 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(-45deg, #000 25%, transparent 25%, transparent 50%, #000 50%, #000 75%, transparent 75%, transparent);background-image:-ms-linear-gradient(-45deg, #000 25%, transparent 25%, transparent 50%, #000 50%, #000 75%, transparent 75%, transparent);background-image:linear-gradient(-45deg, #000 25%, transparent 25%, transparent 50%, #000 50%, #000 75%, transparent 75%, transparent);-webkit-background-size:50px 50px;-ms-background-size:50px 50px;-moz-background-size:50px 50px;-o-background-size:50px 50px;background-size:50px 50px;-webkit-animation:emuwebapp-move 2s linear infinite;-ms-animation:emuwebapp-move 2s linear infinite;-moz-animation:emuwebapp-move 2s linear infinite;-o-animation:emuwebapp-move 2s linear infinite;animation:emuwebapp-move 2s linear infinite;-webkit-box-shadow:inset 0 6px 6px rgba(152, 152, 152, 0.18);-ms-box-shadow:inset 0 6px 6px rgba(152, 152, 152, 0.18);-moz-box-shadow:inset 0 6px 6px rgba(152, 152, 152, 0.18);-o-box-shadow:inset 0 6px 6px rgba(152, 152, 152, 0.18);box-shadow:inset 0 6px 6px rgba(152, 152, 152, 0.18);overflow:hidden}@-webkit-keyframes emuwebapp-move{0%{background-position:0 0}100%{background-position:50px 50px}}@-moz-keyframes emuwebapp-move{0%{background-position:0 0}100%{background-position:50px 50px}}@-ms-keyframes emuwebapp-move{0%{background-position:0 0}100%{background-position:50px 50px}}@keyframes emuwebapp-move{0%{background-position:0 0}100%{background-position:50px 50px}}.emuwebapp-animationRunning{-webkit-animation-play-state:running;-ms-animation-play-state:running;-moz-animation-play-state:running;-o-animation-play-state:running;animation-play-state:running}.emuwebapp-animationStopped{-webkit-animation-play-state:paused;-ms-animation-play-state:paused;-moz-animation-play-state:paused;-o-animation-play-state:paused;animation-play-state:paused}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(405);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-aboutHint{position:absolute;top:0;right:0;width:400px;height:100px;background:rgba(0,0,0,.7);border:1px solid #fff;z-index:99998;overflow:hidden;color:#fff;-moz-border-radius:10px 0px 10px 10px;-webkit-border-radius:10px 0px 10px 10px;border-radius:10px 0px 10px 10px}.emuwebapp-aboutHint:before{content:"";position:absolute;right:100%;top:26px;width:0;height:0;border-top:13px solid transparent;border-right:26px solid red;border-bottom:13px solid transparent}.emuwebapp-aboutHint .emuwebapp-aboutHint-content{position:relative;margin:0 auto;padding-top:80px;width:100%;height:90%;color:#fff;overflow:hidden}.emuwebapp-aboutHint .emuwebapp-aboutHint-content h1{font-size:2.75em;padding-bottom:5px}.emuwebapp-aboutHint .emuwebapp-aboutHint-content button{color:#fff;background-color:transparent;padding:10px;border-radius:0;border:1px solid #fff}.emuwebapp-aboutHint .emuwebapp-aboutHint-content button:hover{color:#000;background-color:#fff}.emuwebapp-aboutHint .emuwebapp-aboutHint-content .news{margin-left:20%;background-color:transparent;width:60%;max-height:80px;overflow:auto;border:1px solid #fff}.emuwebapp-aboutHint .emuwebapp-aboutHint-content>div{position:relative;height:50%;overflow:hidden}.emuwebapp-aboutHint .emuwebapp-aboutHint-content>div>img{height:100%}.emuwebapp-aboutHint .emuwebapp-aboutHint-arrow{position:absolute;color:#0dc5ff;font-size:200%;top:40px;right:8px;-webkit-animation:wiggleUpDown 0.5s infinite;-moz-animation:wiggleUpDown 0.5s infinite;-o-animation:wiggleUpDown 0.5s infinite;animation:wiggleUpDown 0.5s infinite}.emuwebapp-aboutHint .emuwebapp-aboutHint-hidden{position:absolute;background:linear-gradient(to right, white, 2%, transparent),linear-gradient(to left, white, 2%, transparent),linear-gradient(to bottom, white, 2%, transparent),linear-gradient(to top, white, 2%, transparent);top:0;right:0;width:40px;height:40px;border:0}.emuwebapp-aboutHint .emuwebapp-aboutHint-overlay{position:absolute;top:40%;text-align:center;width:100%;color:#424242;font-size:200%;-webkit-transform:rotate(15deg);-ms-transform:rotate(15deg);-moz-transform:rotate(15deg);-o-transform:rotate(15deg);transform:rotate(15deg)}.emuwebapp-aboutHint.ng-hide-add.ng-hide-add-active{-webkit-animation:shrinkToAboutButton 0.5s 1;-moz-animation:shrinkToAboutButton 0.5s 1;-o-animation:shrinkToAboutButton 0.5s 1;animation:shrinkToAboutButton 0.5s 1}@-webkit-keyframes shrinkToAboutButton{25%{top:25px;right:25px;border-radius:10% 0 10% 10%}50%{border-radius:100% 0 100% 100%}100%{top:25px;right:25px;border-radius:100% 0 100% 100%;width:0;height:0}}@-moz-keyframes shrinkToAboutButton{25%{top:25px;right:25px;border-radius:10% 0 10% 10%}50%{border-radius:100% 0 100% 100%}100%{top:25px;right:25px;border-radius:100% 0 100% 100%;width:0;height:0}}@-ms-keyframes shrinkToAboutButton{25%{top:25px;right:25px;border-radius:10% 0 10% 10%}50%{border-radius:100% 0 100% 100%}100%{top:25px;right:25px;border-radius:100% 0 100% 100%;width:0;height:0}}@-o-keyframes shrinkToAboutButton{25%{top:25px;right:25px;border-radius:10% 0 10% 10%}50%{border-radius:100% 0 100% 100%}100%{top:25px;right:25px;border-radius:100% 0 100% 100%;width:0;height:0}}@keyframes shrinkToAboutButton{25%{top:25px;right:25px;border-radius:10% 0 10% 10%}50%{border-radius:100% 0 100% 100%}100%{top:25px;right:25px;border-radius:100% 0 100% 100%;width:0;height:0}}@-webkit-keyframes wiggleUpDown{0%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}50%{-moz-transform:translate(0, -2px);-o-transform:translate(0, -2px);-ms-transform:translate(0, -2px);-webkit-transform:translate(0, -2px);transform:translate(0, -2px)}100%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}}@-moz-keyframes wiggleUpDown{0%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}50%{-moz-transform:translate(0, -2px);-o-transform:translate(0, -2px);-ms-transform:translate(0, -2px);-webkit-transform:translate(0, -2px);transform:translate(0, -2px)}100%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}}@-ms-keyframes wiggleUpDown{0%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}50%{-moz-transform:translate(0, -2px);-o-transform:translate(0, -2px);-ms-transform:translate(0, -2px);-webkit-transform:translate(0, -2px);transform:translate(0, -2px)}100%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}}@-o-keyframes wiggleUpDown{0%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}50%{-moz-transform:translate(0, -2px);-o-transform:translate(0, -2px);-ms-transform:translate(0, -2px);-webkit-transform:translate(0, -2px);transform:translate(0, -2px)}100%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}}@keyframes wiggleUpDown{0%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}50%{-moz-transform:translate(0, -2px);-o-transform:translate(0, -2px);-ms-transform:translate(0, -2px);-webkit-transform:translate(0, -2px);transform:translate(0, -2px)}100%{-moz-transform:translate(0, 2px);-o-transform:translate(0, 2px);-ms-transform:translate(0, 2px);-webkit-transform:translate(0, 2px);transform:translate(0, 2px)}}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(407);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-dropzone{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-dropzone{height:80%;border:1px dashed #000;border-radius:8px;text-align:center;color:#e7e7e7;padding:15px;margin:15px;line-height:1.5}.emuwebapp-dropzone.not-available{background-color:red}.emuwebapp-dropzone.over{background-color:#bfb}.emuwebapp-dropzone.error{background-color:red}.emuwebapp-dropzone.waiting{background-color:aqua}.emuwebapp-dropzone.hidden{display:none}[draggable]{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.drag{cursor:move}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(409);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,".emuwebapp-timeline{position:absolute;padding:0;margin:0;top:0;bottom:0;height:100%;width:100%}.emuwebapp-timeline .emuwebapp-timelineCanvasContainer{position:relative;float:left;height:100%;width:calc(100% - 10px);padding-left:5px;padding-right:5px;padding-top:0px;padding-bottom:0px}.emuwebapp-timeline .emuwebapp-timelineCanvasContainer div{width:100%}.emuwebapp-timeline .emuwebapp-timelineCanvasContainer canvas{float:left;margin:0px;z-index:1;width:100%;height:100%}.emuwebapp-timeline .emuwebapp-timelineCanvasContainer .emuwebapp-timelineCanvasMain{top:0;left:5px;background:#000}.emuwebapp-timeline .emuwebapp-timelineCanvasContainer .emuwebapp-timelineCanvasSSFF{position:absolute;top:0;left:5px;width:calc(100% - 10px) !important;z-index:2}.emuwebapp-timeline .emuwebapp-timelineCanvasContainer .emuwebapp-timelineCanvasMarkup{position:absolute;top:0px;left:5px;background-color:transparent;z-index:2;width:calc(100% - 10px) !important}.emuwebapp-timeline .emuwebapp-timelineCanvasButtons{float:left;width:10px;min-height:20px}",""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(411);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuwebapp-grid-cell .emuwebapp-grid-dotted{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large,.emuwebapp-grid-cell .emuwebapp-grid-head{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-grid{display:flex}.emuwebapp-grid .emuwebapp-grid-button{height:30px;padding-top:5px;border:0;border-left:1px solid #fff;border-right:1px solid #fff}.emuwebapp-grid .emuwebapp-grid-button:first-child{border-left:0}.emuwebapp-grid .emuwebapp-grid-button:last-child{border-right:0}.emuwebapp-grid .emuwebapp-grid-center{align-self:center}.emuwebapp-timeline-flexcontainer{padding:0;margin:0;height:100%;position:relative;display:inline-block;list-style:none;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-wrap:wrap;justify-content:center;min-height:80px}.emuwebapp-timeline-flexcontainer li{margin:0;padding:0;width:100%;margin-top:2px !important;margin-bottom:2px !important;position:relative}.emuwebapp-grid-cell{flex:1}.emuwebapp-grid-cell .emuwebapp-grid-head{border:0;margin-bottom:12px;margin-top:12px;text-align:left;padding:0;text-decoration:underline}.emuwebapp-grid-cell .emuwebapp-grid-dotted{overflow:auto;border:0;margin:0;padding:2px;padding-top:4px;padding-bottom:4px;text-align:left;padding-left:8%;white-space:nowrap}.emuwebapp-grid-cell .emuwebapp-grid-dotted:nth-child(even){background:#fff}.emuwebapp-grid-cell .emuwebapp-grid-dotted:nth-child(odd){background:#e7e7e7}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(413);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,".emuwebapp-level{width:100%;height:64px}.emuwebapp-level .emuwebapp-level-container{position:relative;float:left;width:calc(100% - 10px);height:100%;padding:5px}.emuwebapp-level .emuwebapp-level-canvas{float:left;margin:0;width:100%;height:100%;z-index:1}.emuwebapp-level .emuwebapp-level-markup{position:absolute;top:5px;left:5px;background-color:transparent;width:calc(100% - 10px);height:calc(100% - 10px);z-index:2}.emuwebapp-level .emuwebapp-level-buttons{float:left;width:10px;height:100%}@-webkit-keyframes rotate-the-object{0%{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);-moz-transform:rotateX(0deg);-o-transform:rotateX(0deg);transform:rotateX(0deg)}100%{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);transform:rotateX(180deg)}}@-moz-keyframes rotate-the-object{0%{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);-moz-transform:rotateX(0deg);-o-transform:rotateX(0deg);transform:rotateX(0deg)}100%{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);transform:rotateX(180deg)}}@-ms-keyframes rotate-the-object{0%{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);-moz-transform:rotateX(0deg);-o-transform:rotateX(0deg);transform:rotateX(0deg)}100%{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);transform:rotateX(180deg)}}@-o-keyframes rotate-the-object{0%{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);-moz-transform:rotateX(0deg);-o-transform:rotateX(0deg);transform:rotateX(0deg)}100%{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);transform:rotateX(180deg)}}@keyframes rotate-the-object{0%{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);-moz-transform:rotateX(0deg);-o-transform:rotateX(0deg);transform:rotateX(0deg)}100%{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);transform:rotateX(180deg)}}.emuwebapp-level-animation{-webkit-animation:rotate-the-object .2s 1;-moz-animation:rotate-the-object .2s 1;-o-animation:rotate-the-object .2s 1;animation:rotate-the-object .2s 1}.emuwebapp-level-button{float:left;width:20px;height:33.3333333333%;background-color:#fff}.emuwebapp-level-button img{width:20px;height:20px;border-radius:10px;vertical-align:middle}.emuwebapp-level-button img:hover{background-color:#0dc5ff}.emuwebapp-canvasSelectors{width:calc(100% - 40px);text-align:center;padding:0;margin-left:5px}.emuwebapp-canvasSelectors div{display:inline-block;padding-left:5px;padding-right:5px}.emuwebapp-canvasSelectors ul{list-style:none;padding:0;margin:0 0 0 0}.emuwebapp-canvasSelectors ul li{display:inline;margin:0 0 0 0}.emuwebapp-canvasSelectors button{padding:0;height:8px;width:8px;border-radius:50%;border:1px solid #424242}.emuwebapp-canvasSelectors button:hover{border:1px solid #0dc5ff}.emuwebapp-canvasSelectors button:focus{outline:none}",""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(415);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-history{position:absolute;display:flex;font-size:150% !important;align-items:center;justify-content:center;left:35%;top:0;width:30%;height:30px;background:#303030;color:#fff;z-index:-10;opacity:0;font-weight:900 !important;border:0;border-left:1px solid #fff;border-right:1px solid #fff;border-bottom:1px solid #fff;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.emuwebapp-history div{max-height:100%;max-width:100%;background-color:transparent}.emuwebapp-history-fade{z-index:999999;opacity:1}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(417);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small,.emuhierarchy-node text,.emuhierarchy-addbutton text,.emuhierarchy-levelcaption text{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-hierarchy-container{width:100%;height:calc(100% - 34px)}.emuhierarchy-node,.emuhierarchy-addbutton,.emuhierarchy-levelcaption{cursor:pointer}.emuhierarchy-node circle,.emuhierarchy-addbutton circle,.emuhierarchy-levelcaption circle{stroke-width:1.5px}.emuhierarchy-node text,.emuhierarchy-addbutton text,.emuhierarchy-levelcaption text{fill:#fff}.emuhierarchy-link{fill:none}.emuhierarchy-ghostlink{fill:none;stroke:#fff;opacity:0}.emuhierarchy-newlinkpreview{fill:none;stroke-dasharray:5 5}.emuwebapp-modal-select{padding:0;margin:0;width:auto;overflow:hidden;border-top:1px solid #000;border-bottom:1px solid #000;background:url("data:image/gif;base64,R0lGODlhDwAUAIABAAAAAP///yH5BAEAAAEALAAAAAAPABQAAAIXjI+py+0Po5wH2HsXzmw//lHiSJZmUAAAOw==") no-repeat 100% 50%}#emuwebapp-selection{width:100% !important;text-align:center}#emuwebapp-selection option{width:100% !important;text-align:center}.emuwebapp-modal-select select{-webkit-appearance:none;-ms-appearance:none;-moz-appearance:none;-o-appearance:none;appearance:none;border:none;background-color:transparent;background-image:none;width:100%;color:#000;padding:3px;margin:3px;box-shadow:0;cursor:pointer}.emuwebapp-modal-select select:focus{outline:none}.emuwebapp-modal-select select option{padding-left:40px;padding-right:40px}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(419);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-2d-map{position:absolute;right:0px;top:calc(100% - 200px);height:200px;width:200px;background-color:#424242;color:#000;box-shadow:-4px -4px 18px -4px rgba(0,0,0,.7);border-radius:0;z-index:1000000}.emuwebapp-2d-map .corner{position:absolute;height:10px;width:10px;border-top:1px solid #424242;border-left:1px solid #424242;cursor:nwse-resize;background:linear-gradient(135deg, #fff 30%, #000 30%, #000 40%, #fff 40%, #fff 50%, #000 50%, #000 60%, #fff 60%, #fff 70%, #000 70%, #000 80%, #fff 80%)}.emuwebapp-2d-map .topBorder{position:absolute;left:10px;height:10px;width:calc(100% - 10px);background-color:#424242;border-top:1px solid #000;border-bottom:1px solid #000;cursor:ns-resize}.emuwebapp-2d-map .leftBorder{position:absolute;height:calc(100% - 10px);top:10px;width:10px;background-color:#424242;border-left:1px solid #000;border-right:1px solid #000;cursor:ew-resize}.emuwebapp-split-panes{left:0px;right:0px;top:0px;bottom:0px;position:absolute}.emuwebapp-split-panes>.emuwebapp-split-handler{background:#424242;position:absolute;z-index:999}.emuwebapp-split-panes.horizontal>.emuwebapp-split-handler{width:4px;top:0px;left:50%;bottom:0px;cursor:ew-resize}.emuwebapp-split-panes.horizontal>.split-pane1{position:absolute;height:100%;width:50%}.emuwebapp-split-panes.horizontal>.split-pane2{position:absolute;height:100%;left:50%;right:0px;border-left:1px solid #fff}.emuwebapp-split-panes.vertical>.emuwebapp-split-handler{height:14px !important;width:100%;top:50%;left:0px;right:0px;cursor:ns-resize;vertical-align:middle;text-align:center;border-top:1px solid #111;border-bottom:1px solid #111;border-left:0px;border-right:0px}.emuwebapp-split-panes.vertical>.emuwebapp-split-handler:before{content:"";position:absolute;left:calc(50% - 20px);top:.21em;bottom:.21em;width:20px;background:linear-gradient(180deg, transparent, transparent 20%, #fff 20%, #fff 35%, transparent 35%, transparent 65%, #fff 65%, #fff 80%, transparent 80%, transparent 100%)}.emuwebapp-split-panes.vertical>.split-pane1{position:absolute;width:100%;height:50%}.emuwebapp-split-panes.vertical>.split-pane2{position:absolute;width:100%;z-index:100;top:50%;bottom:0px;overflow-y:auto;scrollbar-width:none}.emuwebapp-split-panes.vertical>.split-pane2::-webkit-scrollbar{display:none}.emuwebapp-split-panes.vertical{z-index:0 !important}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(421);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input,.emuwebapp-tabbed .emuwebapp-tabbed-link{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-tabbed{margin:0;padding:0;text-align:center;position:relative;overflow:hidden;top:0;left:0;height:100%}.emuwebapp-tabbed .emuwebapp-tabbed-menu{height:100%;width:240px !important;background:#424242;color:#fff;margin-left:0;line-height:1;left:0;top:0}.emuwebapp-tabbed .emuwebapp-tabbed-menu li{text-align:left;padding-left:10px;padding-top:2px;padding-bottom:2px}.emuwebapp-tabbed a{text-decoration:underline;cursor:pointer}.emuwebapp-tabbed .emuwebapp-tabbed-link{color:#fff;text-decoration:none;cursor:pointer;background:transparent}.emuwebapp-tabbed .emuwebapp-tabbed-view{border:0;clear:both;overflow-y:-moz-scrollbars-vertical;overflow-y:scroll;overflow-x:hidden;position:absolute;width:calc(100% - 240px);height:100%;overflow:auto;padding:0;top:0;right:0}.emuwebapp-tabbed .emuwebapp-tabbed-error{color:red;margin-left:10px;width:100%;font-size:1.1em}.emuwebapp-tabbed .emuwebapp-tabbed-rounded{border:0;border-radius:10px;text-align:left;background:#fff;margin:10px;padding:10px;padding-left:20px;padding-right:20px;margin-top:50px;position:relative;font-size:.9em}.emuwebapp-tabbed .emuwebapp-tabbed-rounded .highlight{background:#e7e7e7 !important}.emuwebapp-tabbed .dashed{border-style:dashed;padding-top:25px}.emuwebapp-tabbed .emuwebapp-tabbed-button,.emuwebapp-tabbed .emuwebapp-tabbed-add-small,.emuwebapp-tabbed .emuwebapp-tabbed-add,.emuwebapp-tabbed .emuwebapp-tabbed-delete-small,.emuwebapp-tabbed .emuwebapp-tabbed-delete,.emuwebapp-tabbed .emuwebapp-tabbed-close{background:#0dc5ff;color:#fff;line-height:18px;text-align:center;width:18px;text-decoration:none;font-weight:900;-webkit-border-radius:9px;-ms-border-radius:9px;-moz-border-radius:9px;-o-border-radius:9px;border-radius:9px;-webkit-box-shadow:1px 1px 3px #0DC5FF;-ms-box-shadow:1px 1px 3px #0DC5FF;-moz-box-shadow:1px 1px 3px #0DC5FF;-o-box-shadow:1px 1px 3px #0DC5FF;box-shadow:1px 1px 3px #0DC5FF;z-index:99999}.emuwebapp-tabbed .emuwebapp-tabbed-close{position:absolute;right:-9px;top:-9px}.emuwebapp-tabbed .emuwebapp-tabbed-close:hover{background:rgba(255,0,0,.95);text-decoration:none}.emuwebapp-tabbed .emuwebapp-tabbed-close:active{background:rgba(255,0,0,.95);color:#000;text-decoration:none}.emuwebapp-tabbed .emuwebapp-tabbed-delete{display:inline-block;margin-left:20px}.emuwebapp-tabbed .emuwebapp-tabbed-delete:hover{background:rgba(255,0,0,.95);text-decoration:none}.emuwebapp-tabbed .emuwebapp-tabbed-delete:active{background:rgba(255,0,0,.95);color:#000;text-decoration:none}.emuwebapp-tabbed .emuwebapp-tabbed-delete-small{display:inline-block;margin-left:10px;width:9px;line-height:9px;font-size:.5em}.emuwebapp-tabbed .emuwebapp-tabbed-add{display:inline-block}.emuwebapp-tabbed .emuwebapp-tabbed-add-small{display:inline-block;width:9px;line-height:9px;font-size:.5em}.emuwebapp-tabbed .emuwebapp-tabbed-border{position:absolute;top:-12px;left:5px;background-color:#fff}.emuwebapp-tabbed .emuwebapp-tabbed-table{display:table;width:100%}.emuwebapp-tabbed .emuwebapp-tabbed-table .emuwebapp-tabbed-row{display:table-row;width:100%;vertical-align:top}.emuwebapp-tabbed .emuwebapp-tabbed-table .emuwebapp-tabbed-cell{display:table-cell;width:50%;vertical-align:top}.emuwebapp-tabbed .emuwebapp-tabbed-table .emuwebapp-tabbed-cell3{display:table-cell;width:33%;vertical-align:top}.emuwebapp-tabbed .emuwebapp-tabbed-table .emuwebapp-tabbed-cell4{display:table-cell;width:25%;vertical-align:top}.emuwebapp-tabbed .emuwebapp-tabbed-table .emuwebapp-tabbed-cell5{display:table-cell;width:20%;vertical-align:top}.emuwebapp-tabbed .emuwebapp-tabbed-table .emuwebapp-align-right{text-align:right;padding-right:10px}.emuwebapp-tabbed .emuwebapp-tabbed-rowframe{border:0;border-radius:10px;text-align:left;background:linear-gradient(#E7E7E7, #fff);margin-bottom:5px;padding:5px}.emuwebapp-tabbed .emuwebapp-tabbed-orderitem{background:#fff;border:1px solid #0dc5ff;margin:4px;padding:4px;cursor:move;width:300px !important}.emuwebapp-tabbed .emuwebapp-tabbed-order{-webkit-box-sizing:border-box;-ms-box-sizing:border-box;-moz-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;padding:2px;width:100%}.emuwebapp-tabbed .emuwebapp-tabbed-text,.emuwebapp-tabbed .emuwebapp-tabbed-input-bold,.emuwebapp-tabbed .emuwebapp-tabbed-input,.emuwebapp-tabbed .emuwebapp-tabbed-input-small{overflow:hidden;-webkit-box-sizing:border-box;-ms-box-sizing:border-box;-moz-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;padding:2px;background:#fff}.emuwebapp-tabbed .emuwebapp-tabbed-input-small{width:50%;font-size:75%;border:1px solid #424242}.emuwebapp-tabbed .emuwebapp-tabbed-input{font-size:90%;border:1px solid #424242}.emuwebapp-tabbed .emuwebapp-tabbed-input-bold{font-size:115%;border:1px solid #0dc5ff}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(423);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-expandHeightTo20px{height:20px;-webkit-transition:height 400ms;-ms-transition:height 400ms;-moz-transition:height 400ms;-o-transition:height 400ms;transition:height 400ms}.emuwebapp-shrinkHeightTo0px{height:0;-webkit-transition:height 400ms;-ms-transition:height 400ms;-moz-transition:height 400ms;-o-transition:height 400ms;transition:height 400ms}.emuwebapp-expandWidthTo200px{right:0;-webkit-transition:right 400ms;-ms-transition:right 400ms;-moz-transition:right 400ms;-o-transition:right 400ms;transition:right 400ms}.emuwebapp-shrinkWidthTo0px{right:-201px;-webkit-transition:right 400ms;-ms-transition:right 400ms;-moz-transition:right 400ms;-o-transition:right 400ms;transition:right 400ms}.emuwebapp-opacityTo1{opacity:1;-webkit-transition:opacity 400ms;-ms-transition:opacity 400ms;-moz-transition:opacity 400ms;-o-transition:opacity 400ms;transition:opacity 400ms}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(425);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,".emuwebapp-rgbTextInput{width:50px;text-align:center}.emuwebapp-modalTable{border:1px solid rgba(0,0,0,.1);text-align:left;margin:0 auto}.emuwebapp-card{width:100%;margin-top:10px;background-color:transparent;border:1px solid #000;box-shadow:2px 2px 5px #888}.emuwebapp-card:hover{background-color:rgba(152,152,152,.28)}",""]),e.exports=t},function(e,t,r){var n=r(5),i=r(427);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.emuwebapp-largetextinputfield{background:pink;height:10%}.emuwebapp-largetextinputfield textarea{height:100%;width:100%;background:#ff0;border:none}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){var n=r(5),i=r(429);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,r){(t=r(6)(!1)).push([e.i,'.emuwebapp-font-small{font-family:Arial;font-size:12px;font-weight:400}.emuwebapp-font-large{font-family:Arial;font-size:16px;font-weight:400}.emuwebapp-font-code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:14px;font-weight:600}.emuwebapp-font-input{font-family:Arial;font-size:14px;font-weight:400}.allLevelCanvasesGrid{display:grid;border:1px solid #f76707;background-color:#fff4e6;margin-top:25px}.allLevelCanvasesGrid .levelCanvasGrid{display:grid;border:1px solid #ffa94d;background-color:#ffd8a8;color:#d9480f;height:64px;grid-template-columns:1fr 20px}.allLevelCanvasesGrid .levelCanvasGrid .levelCanvasArea{border:1px solid #f76707}.allLevelCanvasesGrid .levelCanvasGrid .levelCanvasButtonGrid{border:1px solid #f76707;display:grid;height:100%}',""]),t.locals={colorBlack:"#000",colorWhite:"#fff",colorBlue:"#0dc5ff",colorRed:"red",colorYellow:"#ff0",colorGreen:"#eeff41",colorGrey:"#424242",colorLightGrey:"#e7e7e7",colorDarkGrey:"#303030",colorTransparentGrey:"rgba(22,22,22,.1)",colorTransparentLightGrey:"rgba(152,152,152,.18)",colorTransparentBlack:"rgba(0,0,0,.7)",colorTransparentRed:"rgba(255,0,0,.95)",colorTransparentYellow:"rgba(255,255,22,.35)",animationPeriod:"400",fontSmallFamily:"Arial",fontSmallSize:"12px",fontSmallWeight:"400",fontLargeFamily:"Arial",fontLargeSize:"16px",fontLargeWeight:"400",fontInputFamily:"Arial",fontInputSize:"14px",fontInputWeight:"400",fontCodeFamily:'Consolas,"Liberation Mono",Menlo,Courier,monospace',fontCodeSize:"14px",fontCodeWeight:"600"},e.exports=t},function(e,t,r){"use strict";r.r(t);var n=r(1),i=(r(19),r(193),r(195),r(197),r(199),r(201),r(203),r(205),r(53)),a=r(99);n.module("emuwebApp",["ngAnimate","angular.filter","ngRoute"]).config(["$locationProvider",function(e){e.html5Mode(!0)}]);r(207),r(211);var o={selector:"largeTextFieldInput",template:'\n    <div class="emuwebapp-largetextinputfield" ng-show="$ctrl.ViewStateService.largeTextFieldInputFieldVisable" ng-focus="vs.largeTextFieldInputFieldVisable"><textarea ng-model="vs.largeTextFieldInputFieldCurLabel"></textarea></div>\n    ',bindings:{},controller:[function(){}]};n.module("emuwebApp").component(o.selector,o);var s=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},l=function(e){var t;return 1===e.length&&(t=e,e=function(e,r){return s(t(e),r)}),{left:function(t,r,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var a=n+i>>>1;e(t[a],r)<0?n=a+1:i=a}return n},right:function(t,r,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var a=n+i>>>1;e(t[a],r)>0?i=a:n=a+1}return n}}};var c=l(s),u=c.right,h=(c.left,u);var p=Array.prototype,f=(p.slice,p.map,Math.sqrt(50)),d=Math.sqrt(10),v=Math.sqrt(2),m=function(e,t,r){var n,i,a,o,s=-1;if(r=+r,(e=+e)===(t=+t)&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),0===(o=g(e,t,r))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(e-s)/o;return n&&a.reverse(),a};function g(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=f?10:a>=d?5:a>=v?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=f?10:a>=d?5:a>=v?2:1)}function S(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=f?i*=10:a>=d?i*=5:a>=v&&(i*=2),t<e?-i:i}var w=function(e,t){var r,n,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(r=e[a])&&r>=r)for(n=r;++a<i;)null!=(r=e[a])&&r>n&&(n=r)}else for(;++a<i;)if(null!=(r=t(e[a],a,e))&&r>=r)for(n=r;++a<i;)null!=(r=t(e[a],a,e))&&r>n&&(n=r);return n},y=function(e,t){var r,n,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(r=e[a])&&r>=r)for(n=r;++a<i;)null!=(r=e[a])&&n>r&&(n=r)}else for(;++a<i;)if(null!=(r=t(e[a],a,e))&&r>=r)for(n=r;++a<i;)null!=(r=t(e[a],a,e))&&n>r&&(n=r);return n};var b=Array.prototype.slice,x=function(e){return e};function k(e){return"translate("+(e+.5)+",0)"}function C(e){return"translate(0,"+(e+.5)+")"}function $(e){return function(t){return+e(t)}}function P(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(r){return+e(r)+t}}function T(){return!this.__axis}function E(e,t){var r=[],n=null,i=null,a=6,o=6,s=3,l=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",u=1===e||3===e?k:C;function h(h){var p=null==n?t.ticks?t.ticks.apply(t,r):t.domain():n,f=null==i?t.tickFormat?t.tickFormat.apply(t,r):x:i,d=Math.max(a,0)+s,v=t.range(),m=+v[0]+.5,g=+v[v.length-1]+.5,S=(t.bandwidth?P:$)(t.copy()),w=h.selection?h.selection():h,y=w.selectAll(".domain").data([null]),b=w.selectAll(".tick").data(p,t).order(),k=b.exit(),C=b.enter().append("g").attr("class","tick"),E=b.select("line"),_=b.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(C),E=E.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),_=_.merge(C.append("text").attr("fill","currentColor").attr(c,l*d).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==w&&(y=y.transition(h),b=b.transition(h),E=E.transition(h),_=_.transition(h),k=k.transition(h).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=S(e))?u(e):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return u(t&&isFinite(t=t(e))?t:S(e))}))),k.remove(),y.attr("d",4===e||2==e?o?"M"+l*o+","+m+"H0.5V"+g+"H"+l*o:"M0.5,"+m+"V"+g:o?"M"+m+","+l*o+"V0.5H"+g+"V"+l*o:"M"+m+",0.5H"+g),b.attr("opacity",1).attr("transform",(function(e){return u(S(e))})),E.attr(c+"2",l*a),_.attr(c,l*d).text(f),w.filter(T).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),w.each((function(){this.__axis=S}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return r=b.call(arguments),h},h.tickArguments=function(e){return arguments.length?(r=null==e?[]:b.call(e),h):r.slice()},h.tickValues=function(e){return arguments.length?(n=null==e?null:b.call(e),h):n&&n.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(a=o=+e,h):a},h.tickSizeInner=function(e){return arguments.length?(a=+e,h):a},h.tickSizeOuter=function(e){return arguments.length?(o=+e,h):o},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h}var _={value:function(){}};function M(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new A(n)}function A(e){this._=e}function D(e,t){return e.trim().split(/^|\s+/).map((function(e){var r="",n=e.indexOf(".");if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}}))}function L(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function V(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=_,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}A.prototype=M.prototype={constructor:A,on:function(e,t){var r,n=this._,i=D(e+"",n),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(e=i[a]).type)n[r]=V(n[r],e.name,t);else if(null==t)for(r in n)n[r]=V(n[r],e.name,null);return this}for(;++a<o;)if((r=(e=i[a]).type)&&(r=L(n[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new A(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),a=0;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,r=(n=this._[e]).length;a<r;++a)n[a].value.apply(t,i)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};var I=M;function O(){}var N=function(e){return null==e?O:function(){return this.querySelector(e)}};function B(){return[]}var F=function(e){return null==e?B:function(){return this.querySelectorAll(e)}},R=function(e){return function(){return this.matches(e)}},H=function(e){return new Array(e.length)};function j(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}j.prototype={constructor:j,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function z(e,t,r,n,i,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],n[s]=o):r[s]=new j(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function U(e,t,r,n,i,a,o){var s,l,c,u={},h=t.length,p=a.length,f=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(f[s]=c="$"+o.call(l,l.__data__,s,t),c in u?i[s]=l:u[c]=l);for(s=0;s<p;++s)(l=u[c="$"+o.call(e,a[s],s,a)])?(n[s]=l,l.__data__=a[s],u[c]=null):r[s]=new j(e,a[s]);for(s=0;s<h;++s)(l=t[s])&&u[f[s]]===l&&(i[s]=l)}function W(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var G="http://www.w3.org/1999/xhtml",q={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=function(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),q.hasOwnProperty(t)?{space:q[t],local:e}:e};function X(e){return function(){this.removeAttribute(e)}}function Z(e){return function(){this.removeAttributeNS(e.space,e.local)}}function K(e,t){return function(){this.setAttribute(e,t)}}function J(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Q(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function ee(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}var te=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function re(e){return function(){this.style.removeProperty(e)}}function ne(e,t,r){return function(){this.style.setProperty(e,t,r)}}function ie(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function ae(e,t){return e.style.getPropertyValue(t)||te(e).getComputedStyle(e,null).getPropertyValue(t)}function oe(e){return function(){delete this[e]}}function se(e,t){return function(){this[e]=t}}function le(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function ce(e){return e.trim().split(/^|\s+/)}function ue(e){return e.classList||new he(e)}function he(e){this._node=e,this._names=ce(e.getAttribute("class")||"")}function pe(e,t){for(var r=ue(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function fe(e,t){for(var r=ue(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function de(e){return function(){pe(this,e)}}function ve(e){return function(){fe(this,e)}}function me(e,t){return function(){(t.apply(this,arguments)?pe:fe)(this,e)}}he.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ge(){this.textContent=""}function Se(e){return function(){this.textContent=e}}function we(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ye(){this.innerHTML=""}function be(e){return function(){this.innerHTML=e}}function xe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ke(){this.nextSibling&&this.parentNode.appendChild(this)}function Ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $e(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===G&&t.documentElement.namespaceURI===G?t.createElement(e):t.createElementNS(r,e)}}function Pe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var Te=function(e){var t=Y(e);return(t.local?Pe:$e)(t)};function Ee(){return null}function _e(){var e=this.parentNode;e&&e.removeChild(this)}function Me(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ae(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var De={},Le=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(De={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ve(e,t,r){return e=Ie(e,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||e.call(this,t)}}function Ie(e,t,r){return function(n){var i=Le;Le=n;try{e.call(this,this.__data__,t,r)}finally{Le=i}}}function Oe(e){return e.trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}}))}function Ne(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,a=t.length;n<a;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?t.length=i:delete this.__on}}}function Be(e,t,r){var n=De.hasOwnProperty(e.type)?Ve:Ie;return function(i,a,o){var s,l=this.__on,c=n(t,a,o);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=r),void(s.value=t);this.addEventListener(e.type,c,r),s={type:e.type,name:e.name,value:t,listener:c,capture:r},l?l.push(s):this.__on=[s]}}function Fe(e,t,r,n){var i=Le;e.sourceEvent=Le,Le=e;try{return t.apply(r,n)}finally{Le=i}}function Re(e,t,r){var n=te(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function He(e,t){return function(){return Re(this,e,t)}}function je(e,t){return function(){return Re(this,e,t.apply(this,arguments))}}var ze=[null];function Ue(e,t){this._groups=e,this._parents=t}function We(){return new Ue([[document.documentElement]],ze)}Ue.prototype=We.prototype={constructor:Ue,select:function(e){"function"!=typeof e&&(e=N(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o,s=t[i],l=s.length,c=n[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new Ue(n,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=F(e));for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(n.push(e.call(o,o.__data__,c,s)),i.push(o));return new Ue(n,i)},filter:function(e){"function"!=typeof e&&(e=R(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new Ue(n,this._parents)},data:function(e,t){if(!e)return d=new Array(this.size()),u=-1,this.each((function(e){d[++u]=e})),d;var r,n=t?U:z,i=this._parents,a=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var o=a.length,s=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],p=a[u],f=p.length,d=e.call(h,h&&h.__data__,u,i),v=d.length,m=l[u]=new Array(v),g=s[u]=new Array(v);n(h,p,m,g,c[u]=new Array(f),d,t);for(var S,w,y=0,b=0;y<v;++y)if(S=m[y]){for(y>=b&&(b=y+1);!(w=g[b])&&++b<v;);S._next=w||null}}return(s=new Ue(s,i))._enter=l,s._exit=c,s},enter:function(){return new Ue(this._enter||this._groups.map(H),this._parents)},exit:function(){return new Ue(this._exit||this._groups.map(H),this._parents)},join:function(e,t,r){var n=this.enter(),i=this,a=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(i=t(i)),null==r?a.remove():r(a),n&&i?n.merge(i).order():i},merge:function(e){for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l,c=t[s],u=r[s],h=c.length,p=o[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<n;++s)o[s]=t[s];return new Ue(o,this._parents)},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],a=i.length-1,o=i[a];--a>=0;)(n=i[a])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=W);for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o,s=r[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new Ue(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,a=t[r],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var r=Y(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?Z:X:"function"==typeof t?r.local?ee:Q:r.local?J:K)(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?re:"function"==typeof t?ie:ne)(e,t,null==r?"":r)):ae(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?oe:"function"==typeof t?le:se)(e,t)):this.node()[e]},classed:function(e,t){var r=ce(e+"");if(arguments.length<2){for(var n=ue(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?me:t?de:ve)(r,t))},text:function(e){return arguments.length?this.each(null==e?ge:("function"==typeof e?we:Se)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ye:("function"==typeof e?xe:be)(e)):this.node().innerHTML},raise:function(){return this.each(ke)},lower:function(){return this.each(Ce)},append:function(e){var t="function"==typeof e?e:Te(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var r="function"==typeof e?e:Te(e),n=null==t?Ee:"function"==typeof t?t:N(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(_e)},clone:function(e){return this.select(e?Ae:Me)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,i,a=Oe(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?Be:Ne,null==r&&(r=!1),n=0;n<o;++n)this.each(s(a[n],t,r));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(n=0,l=s[c];n<o;++n)if((i=a[n]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?je:He)(e,t))}};var Ge=We,qe=function(e){return"string"==typeof e?new Ue([[document.querySelector(e)]],[document.documentElement]):new Ue([[e]],ze)};var Ye=function(){Le.preventDefault(),Le.stopImmediatePropagation()},Xe=function(e){var t=e.document.documentElement,r=qe(e).on("dragstart.drag",Ye,!0);"onselectstart"in t?r.on("selectstart.drag",Ye,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function Ze(e,t){var r=e.document.documentElement,n=qe(e).on("dragstart.drag",null);t&&(n.on("click.drag",Ye,!0),setTimeout((function(){n.on("click.drag",null)}),0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Ke=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function Je(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qe(){}var et="\\s*([+-]?\\d+)\\s*",tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nt=/^#([0-9a-f]{3,8})$/,it=new RegExp("^rgb\\("+[et,et,et]+"\\)$"),at=new RegExp("^rgb\\("+[rt,rt,rt]+"\\)$"),ot=new RegExp("^rgba\\("+[et,et,et,tt]+"\\)$"),st=new RegExp("^rgba\\("+[rt,rt,rt,tt]+"\\)$"),lt=new RegExp("^hsl\\("+[tt,rt,rt]+"\\)$"),ct=new RegExp("^hsla\\("+[tt,rt,rt,tt]+"\\)$"),ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ht(){return this.rgb().formatHex()}function pt(){return this.rgb().formatRgb()}function ft(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?dt(t):3===r?new St(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?new St(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?new St(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=it.exec(e))?new St(t[1],t[2],t[3],1):(t=at.exec(e))?new St(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ot.exec(e))?vt(t[1],t[2],t[3],t[4]):(t=st.exec(e))?vt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lt.exec(e))?xt(t[1],t[2]/100,t[3]/100,1):(t=ct.exec(e))?xt(t[1],t[2]/100,t[3]/100,t[4]):ut.hasOwnProperty(e)?dt(ut[e]):"transparent"===e?new St(NaN,NaN,NaN,0):null}function dt(e){return new St(e>>16&255,e>>8&255,255&e,1)}function vt(e,t,r,n){return n<=0&&(e=t=r=NaN),new St(e,t,r,n)}function mt(e){return e instanceof Qe||(e=ft(e)),e?new St((e=e.rgb()).r,e.g,e.b,e.opacity):new St}function gt(e,t,r,n){return 1===arguments.length?mt(e):new St(e,t,r,null==n?1:n)}function St(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function wt(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)}function yt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function bt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function xt(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ct(e,t,r,n)}function kt(e){if(e instanceof Ct)return new Ct(e.h,e.s,e.l,e.opacity);if(e instanceof Qe||(e=ft(e)),!e)return new Ct;if(e instanceof Ct)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ct(o,s,l,e.opacity)}function Ct(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function $t(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Pt(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}Ke(Qe,ft,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ht,formatHex:ht,formatHsl:function(){return kt(this).formatHsl()},formatRgb:pt,toString:pt}),Ke(St,gt,Je(Qe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wt,formatHex:wt,formatRgb:yt,toString:yt})),Ke(Ct,(function(e,t,r,n){return 1===arguments.length?kt(e):new Ct(e,t,r,null==n?1:n)}),Je(Qe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ct(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ct(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new St($t(e>=240?e-240:e+120,i,n),$t(e,i,n),$t(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Tt=function(e){return function(){return e}};function Et(e,t){return function(r){return e+r*t}}function _t(e){return 1==(e=+e)?Mt:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Tt(isNaN(t)?r:t)}}function Mt(e,t){var r=t-e;return r?Et(e,r):Tt(isNaN(e)?t:e)}var At=function e(t){var r=_t(t);function n(e,t){var n=r((e=gt(e)).r,(t=gt(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=Mt(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Dt(e){return function(t){var r,n,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=gt(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}Dt((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return Pt((r-n/t)*t,o,i,a,s)}})),Dt((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return Pt((r-n/t)*t,i,a,o,s)}}));var Lt=function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}};function Vt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function It(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=Ut(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}var Ot=function(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}},Nt=function(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}},Bt=function(e,t){var r,n={},i={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Ut(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}},Ft=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rt=new RegExp(Ft.source,"g");var Ht,jt,zt=function(e,t){var r,n,i,a=Ft.lastIndex=Rt.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=Ft.exec(e))&&(n=Rt.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:Nt(r,n)})),a=Rt.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})},Ut=function(e,t){var r,n=typeof t;return null==t||"boolean"===n?Tt(t):("number"===n?Nt:"string"===n?(r=ft(t))?(t=r,At):zt:t instanceof ft?At:t instanceof Date?Ot:Vt(t)?Lt:Array.isArray(t)?It:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Bt:Nt)(e,t)},Wt=function(){for(var e,t=Le;e=t.sourceEvent;)t=e;return t},Gt=function(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},qt=function(e,t,r){arguments.length<3&&(r=t,t=Wt().changedTouches);for(var n,i=0,a=t?t.length:0;i<a;++i)if((n=t[i]).identifier===r)return Gt(e,n);return null},Yt=function(e){var t=Wt();return t.changedTouches&&(t=t.changedTouches[0]),Gt(e,t)},Xt=0,Zt=0,Kt=0,Jt=0,Qt=0,er=0,tr="object"==typeof performance&&performance.now?performance:Date,rr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nr(){return Qt||(rr(ir),Qt=tr.now()+er)}function ir(){Qt=0}function ar(){this._call=this._time=this._next=null}function or(e,t,r){var n=new ar;return n.restart(e,t,r),n}function sr(){Qt=(Jt=tr.now())+er,Xt=Zt=0;try{!function(){nr(),++Xt;for(var e,t=Ht;t;)(e=Qt-t._time)>=0&&t._call.call(null,e),t=t._next;--Xt}()}finally{Xt=0,function(){var e,t,r=Ht,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Ht=t);jt=e,cr(n)}(),Qt=0}}function lr(){var e=tr.now(),t=e-Jt;t>1e3&&(er-=t,Jt=e)}function cr(e){Xt||(Zt&&(Zt=clearTimeout(Zt)),e-Qt>24?(e<1/0&&(Zt=setTimeout(sr,e-tr.now()-er)),Kt&&(Kt=clearInterval(Kt))):(Kt||(Jt=tr.now(),Kt=setInterval(lr,1e3)),Xt=1,rr(sr)))}ar.prototype=or.prototype={constructor:ar,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?nr():+r)+(null==t?0:+t),this._next||jt===this||(jt?jt._next=this:Ht=this,jt=this),this._call=e,this._time=r,cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,cr())}};var ur=function(e,t,r){var n=new ar;return t=null==t?0:+t,n.restart((function(r){n.stop(),e(r+t)}),t,r),n},hr=I("start","end","cancel","interrupt"),pr=[],fr=function(e,t,r,n,i,a){var o=e.__transition;if(o){if(r in o)return}else e.__transition={};!function(e,t,r){var n,i=e.__transition;function a(l){var c,u,h,p;if(1!==r.state)return s();for(c in i)if((p=i[c]).name===r.name){if(3===p.state)return ur(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[c]):+c<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[c])}if(ur((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(l))})),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(h=r.tween.length),c=0,u=-1;c<h;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(n[++u]=p);n.length=u+1}}function o(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=5,1),a=-1,o=n.length;++a<o;)n[a].call(e,i);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){for(var n in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=or((function(e){r.state=1,r.timer.restart(a,r.delay,r.time),r.delay<=e&&a(e-r.delay)}),0,r.time)}(e,r,{name:t,index:n,group:i,on:hr,tween:pr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function dr(e,t){var r=mr(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function vr(e,t){var r=mr(e,t);if(r.state>3)throw new Error("too late; already running");return r}function mr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}var gr,Sr,wr,yr,br=function(e,t){var r,n,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(r=a[i]).name===t?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete a[i]):o=!1;o&&delete e.__transition}},xr=180/Math.PI,kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Cr=function(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*xr,skewX:Math.atan(l)*xr,scaleX:o,scaleY:s}};function $r(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,n,i,a,o,s){if(e!==i||n!==a){var l=o.push("translate(",null,t,null,r);s.push({i:l-4,x:Nt(e,i)},{i:l-2,x:Nt(n,a)})}else(i||a)&&o.push("translate("+i+t+a+r)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,r,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:r.push(i(r)+"rotate(",null,n)-2,x:Nt(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}(a.rotate,o.rotate,s,l),function(e,t,r,a){e!==t?a.push({i:r.push(i(r)+"skewX(",null,n)-2,x:Nt(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}(a.skewX,o.skewX,s,l),function(e,t,r,n,a,o){if(e!==r||t!==n){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Nt(e,r)},{i:s-2,x:Nt(t,n)})}else 1===r&&1===n||a.push(i(a)+"scale("+r+","+n+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,r=-1,n=l.length;++r<n;)s[(t=l[r]).i]=t.x(e);return s.join("")}}}var Pr=$r((function(e){return"none"===e?kr:(gr||(gr=document.createElement("DIV"),Sr=document.documentElement,wr=document.defaultView),gr.style.transform=e,e=wr.getComputedStyle(Sr.appendChild(gr),null).getPropertyValue("transform"),Sr.removeChild(gr),e=e.slice(7,-1).split(","),Cr(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Tr=$r((function(e){return null==e?kr:(yr||(yr=document.createElementNS("http://www.w3.org/2000/svg","g")),yr.setAttribute("transform",e),(e=yr.transform.baseVal.consolidate())?(e=e.matrix,Cr(e.a,e.b,e.c,e.d,e.e,e.f)):kr)}),", ",")",")");function Er(e,t){var r,n;return function(){var i=vr(this,e),a=i.tween;if(a!==r)for(var o=0,s=(n=r=a).length;o<s;++o)if(n[o].name===t){(n=n.slice()).splice(o,1);break}i.tween=n}}function _r(e,t,r){var n,i;if("function"!=typeof r)throw new Error;return function(){var a=vr(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function Mr(e,t,r){var n=e._id;return e.each((function(){var e=vr(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)})),function(e){return mr(e,n).value[t]}}var Ar=function(e,t){var r;return("number"==typeof t?Nt:t instanceof ft?At:(r=ft(t))?(t=r,At):zt)(e,t)};function Dr(e){return function(){this.removeAttribute(e)}}function Lr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vr(e,t,r){var n,i,a=r+"";return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function Ir(e,t,r){var n,i,a=r+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function Or(e,t,r){var n,i,a;return function(){var o,s,l=r(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===n&&s===i?a:(i=s,a=t(n=o,l));this.removeAttribute(e)}}function Nr(e,t,r){var n,i,a;return function(){var o,s,l=r(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===n&&s===i?a:(i=s,a=t(n=o,l));this.removeAttributeNS(e.space,e.local)}}function Br(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Fr(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Rr(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Fr(e,i)),r}return i._value=t,i}function Hr(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Br(e,i)),r}return i._value=t,i}function jr(e,t){return function(){dr(this,e).delay=+t.apply(this,arguments)}}function zr(e,t){return t=+t,function(){dr(this,e).delay=t}}function Ur(e,t){return function(){vr(this,e).duration=+t.apply(this,arguments)}}function Wr(e,t){return t=+t,function(){vr(this,e).duration=t}}function Gr(e,t){if("function"!=typeof t)throw new Error;return function(){vr(this,e).ease=t}}function qr(e,t,r){var n,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?dr:vr;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}var Yr=Ge.prototype.constructor;function Xr(e){return function(){this.style.removeProperty(e)}}function Zr(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Kr(e,t,r){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Zr(e,a,r)),n}return a._value=t,a}function Jr(e){return function(t){this.textContent=e.call(this,t)}}function Qr(e){var t,r;function n(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&Jr(n)),t}return n._value=e,n}var en=0;function tn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function rn(){return++en}var nn=Ge.prototype;tn.prototype=function(e){return Ge().transition(e)}.prototype={constructor:tn,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=N(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=n[o],u=c.length,h=a[o]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),h[p]=l,fr(h[p],t,r,p,h,mr(s,r)));return new tn(a,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=F(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l,c=n[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var p,f=e.call(l,l.__data__,h,c),d=mr(l,r),v=0,m=f.length;v<m;++v)(p=f[v])&&fr(p,t,r,v,f,d);a.push(f),o.push(l)}return new tn(a,o,t,r)},filter:function(e){"function"!=typeof e&&(e=R(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new tn(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l,c=t[s],u=r[s],h=c.length,p=o[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<n;++s)o[s]=t[s];return new tn(o,this._parents,this._name,this._id)},selection:function(){return new Yr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=rn(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o,s=n[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=mr(o,t);fr(o,e,r,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new tn(n,this._parents,e,r)},call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:function(e,t){var r=this._id;return arguments.length<2?mr(this.node(),r).on.on(e):this.each(qr(r,e,t))},attr:function(e,t){var r=Y(e),n="transform"===r?Tr:Ar;return this.attrTween(e,"function"==typeof t?(r.local?Nr:Or)(r,n,Mr(this,"attr."+e,t)):null==t?(r.local?Lr:Dr)(r):(r.local?Ir:Vr)(r,n,t))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=Y(e);return this.tween(r,(n.local?Rr:Hr)(n,t))},style:function(e,t,r){var n="transform"==(e+="")?Pr:Ar;return null==t?this.styleTween(e,function(e,t){var r,n,i;return function(){var a=ae(this,e),o=(this.style.removeProperty(e),ae(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}(e,n)).on("end.style."+e,Xr(e)):"function"==typeof t?this.styleTween(e,function(e,t,r){var n,i,a;return function(){var o=ae(this,e),s=r(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=ae(this,e)),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}(e,n,Mr(this,"style."+e,t))).each(function(e,t){var r,n,i,a,o="style."+t,s="end."+o;return function(){var l=vr(this,e),c=l.on,u=null==l.value[o]?a||(a=Xr(t)):void 0;c===r&&i===u||(n=(r=c).copy()).on(s,i=u),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,r){var n,i,a=r+"";return function(){var o=ae(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}(e,n,t),r).on("end.style."+e,null)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Kr(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Mr(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Qr(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=mr(this.node(),r).tween,a=0,o=i.length;a<o;++a)if((n=i[a]).name===e)return n.value;return null}return this.each((null==t?Er:_r)(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?jr:zr)(t,e)):mr(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ur:Wr)(t,e)):mr(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Gr(t,e)):mr(this.node(),t).ease},end:function(){var e,t,r=this,n=r._id,i=r.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};r.each((function(){var r=vr(this,n),i=r.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),r.on=t}))}))}};var an={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function on(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return an.time=nr(),an;return r}Ge.prototype.interrupt=function(e){return this.each((function(){br(this,e)}))},Ge.prototype.transition=function(e){var t,r;e instanceof tn?(t=e._id,e=e._name):(t=rn(),(r=an).time=nr(),e=null==e?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o,s=n[a],l=s.length,c=0;c<l;++c)(o=s[c])&&fr(o,e,t,c,s,r||on(o,t));return new tn(n,this._parents,e,t)};function sn(e){return[+e[0],+e[1]]}function ln(e){return[sn(e[0]),sn(e[1])]}["w","e"].map(cn),["n","s"].map(cn),["n","w","e","s","nw","ne","sw","se"].map(cn);function cn(e){return{type:e}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var un=Math.PI,hn=2*un,pn=hn-1e-6;function fn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function dn(){return new fn}fn.prototype=dn.prototype={constructor:fn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var a=this._x1,o=this._y1,s=r-e,l=n-t,c=a-e,u=o-t,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(u*s-l*c)>1e-6&&i){var p=r-a,f=n-o,d=s*s+l*l,v=p*p+f*f,m=Math.sqrt(d),g=Math.sqrt(h),S=i*Math.tan((un-Math.acos((d+h-v)/(2*m*g)))/2),w=S/g,y=S/m;Math.abs(w-1)>1e-6&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*p>c*f)+","+(this._x1=e+y*s)+","+(this._y1=t+y*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,r,n,i,a){e=+e,t=+t,a=!!a;var o=(r=+r)*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^a,h=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),r&&(h<0&&(h=h%hn+hn),h>pn?this._+="A"+r+","+r+",0,1,"+u+","+(e-o)+","+(t-s)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>1e-6&&(this._+="A"+r+","+r+",0,"+ +(h>=un)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var vn=dn;function mn(){}function gn(e,t){var r=new mn;if(e instanceof mn)e.each((function(e,t){r.set(t,e)}));else if(Array.isArray(e)){var n,i=-1,a=e.length;if(null==t)for(;++i<a;)r.set(i,e[i]);else for(;++i<a;)r.set(t(n=e[i],i,e),n)}else if(e)for(var o in e)r.set(o,e[o]);return r}mn.prototype=gn.prototype={constructor:mn,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var Sn=gn;function wn(){}var yn=Sn.prototype;function bn(e,t){var r=new wn;if(e instanceof wn)e.each((function(e){r.add(e)}));else if(e){var n=-1,i=e.length;if(null==t)for(;++n<i;)r.add(e[n]);else for(;++n<i;)r.add(t(e[n],n,e))}return r}wn.prototype=bn.prototype={constructor:wn,has:yn.has,add:function(e){return this["$"+(e+="")]=e,this},remove:yn.remove,clear:yn.clear,values:yn.keys,size:yn.size,empty:yn.empty,each:yn.each};Array.prototype.slice;var xn={},kn={};function Cn(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function $n(e){var t=Object.create(null),r=[];return e.forEach((function(e){for(var n in e)n in t||r.push(t[n]=n)})),r}function Pn(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function Tn(e){var t,r=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+Pn(-t,6):t>9999?"+"+Pn(t,6):Pn(t,4))+"-"+Pn(e.getUTCMonth()+1,2)+"-"+Pn(e.getUTCDate(),2)+(a?"T"+Pn(r,2)+":"+Pn(n,2)+":"+Pn(i,2)+"."+Pn(a,3)+"Z":i?"T"+Pn(r,2)+":"+Pn(n,2)+":"+Pn(i,2)+"Z":n||r?"T"+Pn(r,2)+":"+Pn(n,2)+"Z":"")}var En=function(e){var t=new RegExp('["'+e+"\n\r]"),r=e.charCodeAt(0);function n(e,t){var n,i=[],a=e.length,o=0,s=0,l=a<=0,c=!1;function u(){if(l)return kn;if(c)return c=!1,xn;var t,n,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?l=!0:10===(n=e.charCodeAt(o++))?c=!0:13===n&&(c=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(n=e.charCodeAt(t=o++)))c=!0;else if(13===n)c=!0,10===e.charCodeAt(o)&&++o;else if(n!==r)continue;return e.slice(i,t)}return l=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(n=u())!==kn;){for(var h=[];n!==xn&&n!==kn;)h.push(n),n=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,r){return t.map((function(t){return r.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?Tn(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var r,i,a=n(e,(function(e,n){if(r)return r(e,n-1);i=e,r=t?function(e,t){var r=Cn(e);return function(n,i){return t(r(n),i,e)}}(e,t):Cn(e)}));return a.columns=i||[],a},parseRows:n,format:function(t,r){return null==r&&(r=$n(t)),[r.map(o).join(e)].concat(i(t,r)).join("\n")},formatBody:function(e,t){return null==t&&(t=$n(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}},_n=En(","),Mn=_n.parse,An=(_n.parseRows,_n.format,_n.formatBody,_n.formatRows,_n.formatRow,_n.formatValue,En("\t")),Dn=An.parse;An.parseRows,An.format,An.formatBody,An.formatRows,An.formatRow,An.formatValue;function Ln(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var Vn=function(e,t){return fetch(e,t).then(Ln)};function In(e){return function(t,r,n){return 2===arguments.length&&"function"==typeof r&&(n=r,r=void 0),Vn(t,r).then((function(t){return e(t,n)}))}}In(Mn),In(Dn);function On(e){return function(t,r){return Vn(t,r).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}On("application/xml"),On("text/html"),On("image/svg+xml");function Nn(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,a,o,s,l,c,u,h,p,f=e._root,d={data:n},v=e._x0,m=e._y0,g=e._x1,S=e._y1;if(!f)return e._root=d,e;for(;f.length;)if((c=t>=(a=(v+g)/2))?v=a:g=a,(u=r>=(o=(m+S)/2))?m=o:S=o,i=f,!(f=f[h=u<<1|c]))return i[h]=d,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&r===l)return d.next=f,i?i[h]=d:e._root=d,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(a=(v+g)/2))?v=a:g=a,(u=r>=(o=(m+S)/2))?m=o:S=o}while((h=u<<1|c)==(p=(l>=o)<<1|s>=a));return i[p]=f,i[h]=d,e}var Bn=function(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i};function Fn(e){return e[0]}function Rn(e){return e[1]}function Hn(e,t,r){var n=new jn(null==t?Fn:t,null==r?Rn:r,NaN,NaN,NaN,NaN);return null==e?n:n.addAll(e)}function jn(e,t,r,n,i,a){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function zn(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Un=Hn.prototype=jn.prototype;Un.copy=function(){var e,t,r=new jn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=zn(n),r;for(e=[{source:n,target:r._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(t=n.source[i])&&(t.length?e.push({source:t,target:n.target[i]=new Array(4)}):n.target[i]=zn(t));return r},Un.add=function(e){var t=+this._x.call(null,e),r=+this._y.call(null,e);return Nn(this.cover(t,r),t,r,e)},Un.addAll=function(e){var t,r,n,i,a=e.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,u=-1/0,h=-1/0;for(r=0;r<a;++r)isNaN(n=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||(o[r]=n,s[r]=i,n<l&&(l=n),n>u&&(u=n),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),r=0;r<a;++r)Nn(this,o[r],s[r],e[r]);return this},Un.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,a=(n=Math.floor(t))+1;else{for(var o,s,l=i-r,c=this._root;r>e||e>=i||n>t||t>=a;)switch(s=(t<n)<<1|e<r,(o=new Array(4))[s]=c,c=o,l*=2,s){case 0:i=r+l,a=n+l;break;case 1:r=i-l,a=n+l;break;case 2:i=r+l,n=a-l;break;case 3:r=i-l,n=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=i,this._y1=a,this},Un.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Un.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Un.find=function(e,t,r){var n,i,a,o,s,l,c,u=this._x0,h=this._y0,p=this._x1,f=this._y1,d=[],v=this._root;for(v&&d.push(new Bn(v,u,h,p,f)),null==r?r=1/0:(u=e-r,h=t-r,p=e+r,f=t+r,r*=r);l=d.pop();)if(!(!(v=l.node)||(i=l.x0)>p||(a=l.y0)>f||(o=l.x1)<u||(s=l.y1)<h))if(v.length){var m=(i+o)/2,g=(a+s)/2;d.push(new Bn(v[3],m,g,o,s),new Bn(v[2],i,g,m,s),new Bn(v[1],m,a,o,g),new Bn(v[0],i,a,m,g)),(c=(t>=g)<<1|e>=m)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=l)}else{var S=e-+this._x.call(null,v.data),w=t-+this._y.call(null,v.data),y=S*S+w*w;if(y<r){var b=Math.sqrt(r=y);u=e-b,h=t-b,p=e+b,f=t+b,n=v.data}}return n},Un.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,r,n,i,a,o,s,l,c,u,h,p,f=this._root,d=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((c=a>=(s=(d+m)/2))?d=s:m=s,(u=o>=(l=(v+g)/2))?v=l:g=l,t=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(r=t,p=h)}for(;f.data!==e;)if(n=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,n?(i?n.next=i:delete n.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(r?r[p]=f:this._root=f),this):(this._root=i,this)},Un.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},Un.root=function(){return this._root},Un.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Un.visit=function(e){var t,r,n,i,a,o,s=[],l=this._root;for(l&&s.push(new Bn(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,n=t.x0,i=t.y0,a=t.x1,o=t.y1)&&l.length){var c=(n+a)/2,u=(i+o)/2;(r=l[3])&&s.push(new Bn(r,c,u,a,o)),(r=l[2])&&s.push(new Bn(r,n,u,c,o)),(r=l[1])&&s.push(new Bn(r,c,i,a,u)),(r=l[0])&&s.push(new Bn(r,n,i,c,u))}return this},Un.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new Bn(this._root,this._x0,this._y0,this._x1,this._y1));t=r.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(o+l)/2,h=(s+c)/2;(a=i[0])&&r.push(new Bn(a,o,s,u,h)),(a=i[1])&&r.push(new Bn(a,u,s,l,h)),(a=i[2])&&r.push(new Bn(a,o,h,u,c)),(a=i[3])&&r.push(new Bn(a,u,h,l,c))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Un.x=function(e){return arguments.length?(this._x=e,this):this._x},Un.y=function(e){return arguments.length?(this._y=e,this):this._y};Math.PI,Math.sqrt(5);var Wn=function(){return Math.random()},Gn=(function e(t){function r(e,r){return e=null==e?0:+e,r=null==r?1:+r,1===arguments.length?(r=e,e=0):r-=e,function(){return t()*r+e}}return r.source=e,r}(Wn),function e(t){function r(e,r){var n,i;return e=null==e?0:+e,r=null==r?1:+r,function(){var a;if(null!=n)a=n,n=null;else do{n=2*t()-1,a=2*t()-1,i=n*n+a*a}while(!i||i>1);return e+r*a*Math.sqrt(-2*Math.log(i)/i)}}return r.source=e,r}(Wn)),qn=(function e(t){function r(){var e=Gn.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(Wn),function e(t){function r(e){return function(){for(var r=0,n=0;n<e;++n)r+=t();return r}}return r.source=e,r}(Wn));(function e(t){function r(e){var r=qn.source(t)(e);return function(){return r()/e}}return r.source=e,r})(Wn),function e(t){function r(e){return function(){return-Math.log(1-t())/e}}return r.source=e,r}(Wn);function Yn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Xn=Array.prototype,Zn=Xn.map,Kn=Xn.slice;var Jn=function(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}},Qn=function(e){return+e},ei=[0,1];function ti(e){return e}function ri(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function ni(e){var t,r=e[0],n=e[e.length-1];return r>n&&(t=r,r=n,n=t),function(e){return Math.max(r,Math.min(n,e))}}function ii(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=ri(i,n),a=r(o,a)):(n=ri(n,i),a=r(a,o)),function(e){return a(n(e))}}function ai(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ri(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=h(e,t,1,n)-1;return a[r](i[r](t))}}function oi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function si(){var e,t,r,n,i,a,o=ei,s=ei,l=Ut,c=ti;function u(){return n=Math.min(o.length,s.length)>2?ai:ii,i=a=null,h}function h(t){return isNaN(t=+t)?r:(i||(i=n(o.map(e),s,l)))(e(c(t)))}return h.invert=function(r){return c(t((a||(a=n(s,o.map(e),Nt)))(r)))},h.domain=function(e){return arguments.length?(o=Zn.call(e,Qn),c===ti||(c=ni(o)),u()):o.slice()},h.range=function(e){return arguments.length?(s=Kn.call(e),u()):s.slice()},h.rangeRound=function(e){return s=Kn.call(e),l=Jn,u()},h.clamp=function(e){return arguments.length?(c=e?ni(o):ti,h):c!==ti},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(r=e,h):r},function(r,n){return e=r,t=n,u()}}function li(e,t){return si()(e,t)}var ci=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ui(e){if(!(t=ci.exec(e)))throw new Error("invalid format: "+e);var t;return new hi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function hi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}ui.prototype=hi.prototype,hi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var pi,fi,di,vi,mi=function(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]},gi=function(e){return(e=mi(Math.abs(e)))?e[1]:NaN},Si=function(e,t){var r=mi(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")},wi={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Si(100*e,t)},r:Si,s:function(e,t){var r=mi(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(pi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mi(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},yi=function(e){return e},bi=Array.prototype.map,xi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];fi=function(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?yi:(t=bi.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?yi:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(bi.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=ui(e)).fill,r=e.align,h=e.sign,p=e.symbol,f=e.zero,d=e.width,v=e.comma,m=e.precision,g=e.trim,S=e.type;"n"===S?(v=!0,S="g"):wi[S]||(void 0===m&&(m=12),g=!0,S="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var w="$"===p?i:"#"===p&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",y="$"===p?a:/[%p]/.test(S)?l:"",b=wi[S],x=/[defgprs%]/.test(S);function k(e){var i,a,l,p=w,k=y;if("c"===S)k=b(e)+k,e="";else{var C=(e=+e)<0;if(e=isNaN(e)?u:b(Math.abs(e),m),g&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),C&&0==+e&&(C=!1),p=(C?"("===h?h:c:"-"===h||"("===h?"":h)+p,k=("s"===S?xi[8+pi/3]:"")+k+(C&&"("===h?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!f&&(e=n(e,1/0));var $=p.length+e.length+k.length,P=$<d?new Array(d-$+1).join(t):"";switch(v&&f&&(e=n(P+e,P.length?d-k.length:1/0),P=""),r){case"<":e=p+e+k+P;break;case"=":e=p+P+e+k;break;case"^":e=P.slice(0,$=P.length>>1)+p+e+k+P.slice($);break;default:e=P+p+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:h,formatPrefix:function(e,t){var r=h(((e=ui(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(gi(t)/3))),i=Math.pow(10,-n),a=xi[8+n/3];return function(e){return r(i*e)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),di=fi.format,vi=fi.formatPrefix;var ki=function(e,t,r,n){var i,a=S(e,t,r);switch((n=ui(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gi(t)/3)))-gi(Math.abs(e)))}(a,o))||(n.precision=i),vi(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gi(t)-gi(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-gi(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return di(n)};function Ci(e){var t=e.domain;return e.ticks=function(e){var r=t();return m(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return ki(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i=t(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(n=s,s=l,l=n,n=a,a=o,o=n),(n=g(s,l,r))>0?n=g(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,r):n<0&&(n=g(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,r)),n>0?(i[a]=Math.floor(s/n)*n,i[o]=Math.ceil(l/n)*n,t(i)):n<0&&(i[a]=Math.ceil(s*n)/n,i[o]=Math.floor(l*n)/n,t(i)),e},e}function $i(){var e=li(ti,ti);return e.copy=function(){return oi(e,$i())},Yn.apply(e,arguments),Ci(e)}var Pi=new Date,Ti=new Date;function Ei(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(r){return e(r=new Date(r-1)),t(r,1),e(r),r},i.round=function(e){var t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=function(e,r){return t(e=new Date(+e),null==r?1:Math.floor(r)),e},i.range=function(r,n,a){var o,s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return s;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return s},i.filter=function(r){return Ei((function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}))},r&&(i.count=function(t,n){return Pi.setTime(+t),Ti.setTime(+n),e(Pi),e(Ti),Math.floor(r(Pi,Ti))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?function(t){return n(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var _i=Ei((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));_i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ei((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,r){t.setFullYear(t.getFullYear()+r*e)})):null};var Mi=_i,Ai=(_i.range,Ei((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})));Ai.range;function Di(e){return Ei((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Li=Di(0),Vi=Di(1),Ii=Di(2),Oi=Di(3),Ni=Di(4),Bi=Di(5),Fi=Di(6),Ri=(Li.range,Vi.range,Ii.range,Oi.range,Ni.range,Bi.range,Fi.range,Ei((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),Hi=Ri,ji=(Ri.range,Ei((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),zi=(ji.range,Ei((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),Ui=(zi.range,Ei((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),Wi=(Ui.range,Ei((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Wi.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Ei((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,r){t.setTime(+t+r*e)}),(function(t,r){return(r-t)/e})):Wi:null};Wi.range;function Gi(e){return Ei((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var qi=Gi(0),Yi=Gi(1),Xi=Gi(2),Zi=Gi(3),Ki=Gi(4),Ji=Gi(5),Qi=Gi(6),ea=(qi.range,Yi.range,Xi.range,Zi.range,Ki.range,Ji.range,Qi.range,Ei((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),ta=ea,ra=(ea.range,Ei((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));ra.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ei((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null};var na=ra;ra.range;function ia(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aa(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oa(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var sa,la={"-":"",_:" ",0:"0"},ca=/^\s*\d+/,ua=/^%/,ha=/[\\^$*+?|[\]().{}]/g;function pa(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function fa(e){return e.replace(ha,"\\$&")}function da(e){return new RegExp("^(?:"+e.map(fa).join("|")+")","i")}function va(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function ma(e,t,r){var n=ca.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ga(e,t,r){var n=ca.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Sa(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function wa(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ya(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ba(e,t,r){var n=ca.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xa(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ka(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ca(e,t,r){var n=ca.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function $a(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Pa(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ta(e,t,r){var n=ca.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ea(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _a(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ma(e,t,r){var n=ca.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Aa(e,t,r){var n=ca.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Da(e,t,r){var n=ca.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function La(e,t,r){var n=ua.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Va(e,t,r){var n=ca.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ia(e,t,r){var n=ca.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Oa(e,t){return pa(e.getDate(),t,2)}function Na(e,t){return pa(e.getHours(),t,2)}function Ba(e,t){return pa(e.getHours()%12||12,t,2)}function Fa(e,t){return pa(1+Hi.count(Mi(e),e),t,3)}function Ra(e,t){return pa(e.getMilliseconds(),t,3)}function Ha(e,t){return Ra(e,t)+"000"}function ja(e,t){return pa(e.getMonth()+1,t,2)}function za(e,t){return pa(e.getMinutes(),t,2)}function Ua(e,t){return pa(e.getSeconds(),t,2)}function Wa(e){var t=e.getDay();return 0===t?7:t}function Ga(e,t){return pa(Li.count(Mi(e)-1,e),t,2)}function qa(e,t){var r=e.getDay();return e=r>=4||0===r?Ni(e):Ni.ceil(e),pa(Ni.count(Mi(e),e)+(4===Mi(e).getDay()),t,2)}function Ya(e){return e.getDay()}function Xa(e,t){return pa(Vi.count(Mi(e)-1,e),t,2)}function Za(e,t){return pa(e.getFullYear()%100,t,2)}function Ka(e,t){return pa(e.getFullYear()%1e4,t,4)}function Ja(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pa(t/60|0,"0",2)+pa(t%60,"0",2)}function Qa(e,t){return pa(e.getUTCDate(),t,2)}function eo(e,t){return pa(e.getUTCHours(),t,2)}function to(e,t){return pa(e.getUTCHours()%12||12,t,2)}function ro(e,t){return pa(1+ta.count(na(e),e),t,3)}function no(e,t){return pa(e.getUTCMilliseconds(),t,3)}function io(e,t){return no(e,t)+"000"}function ao(e,t){return pa(e.getUTCMonth()+1,t,2)}function oo(e,t){return pa(e.getUTCMinutes(),t,2)}function so(e,t){return pa(e.getUTCSeconds(),t,2)}function lo(e){var t=e.getUTCDay();return 0===t?7:t}function co(e,t){return pa(qi.count(na(e)-1,e),t,2)}function uo(e,t){var r=e.getUTCDay();return e=r>=4||0===r?Ki(e):Ki.ceil(e),pa(Ki.count(na(e),e)+(4===na(e).getUTCDay()),t,2)}function ho(e){return e.getUTCDay()}function po(e,t){return pa(Yi.count(na(e)-1,e),t,2)}function fo(e,t){return pa(e.getUTCFullYear()%100,t,2)}function vo(e,t){return pa(e.getUTCFullYear()%1e4,t,4)}function mo(){return"+0000"}function go(){return"%"}function So(e){return+e}function wo(e){return Math.floor(+e/1e3)}!function(e){sa=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=da(i),u=va(i),h=da(a),p=va(a),f=da(o),d=va(o),v=da(s),m=va(s),g=da(l),S=va(l),w={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Oa,e:Oa,f:Ha,H:Na,I:Ba,j:Fa,L:Ra,m:ja,M:za,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:So,s:wo,S:Ua,u:Wa,U:Ga,V:qa,w:Ya,W:Xa,x:null,X:null,y:Za,Y:Ka,Z:Ja,"%":go},y={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Qa,e:Qa,f:io,H:eo,I:to,j:ro,L:no,m:ao,M:oo,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:So,s:wo,S:so,u:lo,U:co,V:uo,w:ho,W:po,x:null,X:null,y:fo,Y:vo,Z:mo,"%":go},b={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=d[n[0].toLowerCase()],r+n[0].length):-1},A:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p[n[0].toLowerCase()],r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=S[n[0].toLowerCase()],r+n[0].length):-1},B:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=m[n[0].toLowerCase()],r+n[0].length):-1},c:function(e,r,n){return C(e,t,r,n)},d:Pa,e:Pa,f:Da,H:Ea,I:Ea,j:Ta,L:Aa,m:$a,M:_a,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u[n[0].toLowerCase()],r+n[0].length):-1},q:Ca,Q:Va,s:Ia,S:Ma,u:ga,U:Sa,V:wa,w:ma,W:ya,x:function(e,t,n){return C(e,r,t,n)},X:function(e,t,r){return C(e,n,t,r)},y:xa,Y:ba,Z:ka,"%":La};function x(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=la[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(r){var n,i,a=oa(1900,void 0,1);if(C(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=aa(oa(a.y,0,1))).getUTCDay(),n=i>4||0===i?Yi.ceil(n):Yi(n),n=ta.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=ia(oa(a.y,0,1))).getDay(),n=i>4||0===i?Vi.ceil(n):Vi(n),n=Hi.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?aa(oa(a.y,0,1)).getUTCDay():ia(oa(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,aa(a)):ia(a)}}function C(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=b[i in la?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return w.x=x(r,w),w.X=x(n,w),w.c=x(t,w),y.x=x(r,y),y.X=x(n,y),y.c=x(t,y),{format:function(e){var t=x(e+="",w);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),sa.format,sa.parse,sa.utcFormat,sa.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var yo=Ei((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),bo=(yo.range,Ei((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),xo=(bo.range,Ei((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()})));xo.range;var ko=function(e){return function(){return e}};function Co(e){this._context=e}Co.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var $o=function(e){return new Co(e)};function Po(e){return e[0]}function To(e){return e[1]}function Eo(){this._=null}function _o(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Mo(e,t){var r=t,n=t.R,i=r.U;i?i.L===r?i.L=n:i.R=n:e._=n,n.U=i,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function Ao(e,t){var r=t,n=t.L,i=r.U;i?i.L===r?i.L=n:i.R=n:e._=n,n.U=i,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function Do(e){for(;e.L;)e=e.L;return e}Eo.prototype={constructor:Eo,insert:function(e,t){var r,n,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=Do(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)r===(n=r.U).L?(i=n.R)&&i.C?(r.C=i.C=!1,n.C=!0,e=n):(e===r.R&&(Mo(this,r),r=(e=r).U),r.C=!1,n.C=!0,Ao(this,n)):(i=n.L)&&i.C?(r.C=i.C=!1,n.C=!0,e=n):(e===r.L&&(Ao(this,r),r=(e=r).U),r.C=!1,n.C=!0,Mo(this,n)),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,r,n,i=e.U,a=e.L,o=e.R;if(r=a?o?Do(o):a:o,i?i.L===e?i.L=r:i.R=r:this._=r,a&&o?(n=r.C,r.C=e.C,r.L=a,a.U=r,r!==o?(i=r.U,r.U=e.U,e=r.R,i.L=e,r.R=o,o.U=r):(r.U=i,i=r,e=r.R)):(n=e.C,e=r),e&&(e.U=i),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Mo(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Ao(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Mo(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Ao(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Mo(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Ao(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var Lo=Eo;function Vo(e,t,r,n){var i=[null,null],a=is.push(i)-1;return i.left=e,i.right=t,r&&Oo(i,e,t,r),n&&Oo(i,t,e,n),rs[e.index].halfedges.push(a),rs[t.index].halfedges.push(a),i}function Io(e,t,r){var n=[t,r];return n.left=e,n}function Oo(e,t,r,n){e[0]||e[1]?e.left===r?e[1]=n:e[0]=n:(e[0]=n,e.left=t,e.right=r)}function No(e,t,r,n,i){var a,o=e[0],s=e[1],l=o[0],c=o[1],u=0,h=1,p=s[0]-l,f=s[1]-c;if(a=t-l,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>u&&(u=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<h&&(h=a)}if(a=r-c,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>u&&(u=a)}if(a=i-c,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<h&&(h=a)}return!(u>0||h<1)||(u>0&&(e[0]=[l+u*p,c+u*f]),h<1&&(e[1]=[l+h*p,c+h*f]),!0)}}}}}function Bo(e,t,r,n,i){var a=e[1];if(a)return!0;var o,s,l=e[0],c=e.left,u=e.right,h=c[0],p=c[1],f=u[0],d=u[1],v=(h+f)/2,m=(p+d)/2;if(d===p){if(v<t||v>=n)return;if(h>f){if(l){if(l[1]>=i)return}else l=[v,r];a=[v,i]}else{if(l){if(l[1]<r)return}else l=[v,i];a=[v,r]}}else if(s=m-(o=(h-f)/(d-p))*v,o<-1||o>1)if(h>f){if(l){if(l[1]>=i)return}else l=[(r-s)/o,r];a=[(i-s)/o,i]}else{if(l){if(l[1]<r)return}else l=[(i-s)/o,i];a=[(r-s)/o,r]}else if(p<d){if(l){if(l[0]>=n)return}else l=[t,o*t+s];a=[n,o*n+s]}else{if(l){if(l[0]<t)return}else l=[n,o*n+s];a=[t,o*t+s]}return e[0]=l,e[1]=a,!0}function Fo(e,t){var r=e.site,n=t.left,i=t.right;return r===i&&(i=n,n=r),i?Math.atan2(i[1]-n[1],i[0]-n[0]):(r===n?(n=t[1],i=t[0]):(n=t[0],i=t[1]),Math.atan2(n[0]-i[0],i[1]-n[1]))}function Ro(e,t){return t[+(t.left!==e.site)]}function Ho(e,t){return t[+(t.left===e.site)]}var jo,zo=[];function Uo(){_o(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wo(e){var t=e.P,r=e.N;if(t&&r){var n=t.site,i=e.site,a=r.site;if(n!==a){var o=i[0],s=i[1],l=n[0]-o,c=n[1]-s,u=a[0]-o,h=a[1]-s,p=2*(l*h-c*u);if(!(p>=-os)){var f=l*l+c*c,d=u*u+h*h,v=(h*f-c*d)/p,m=(l*d-u*f)/p,g=zo.pop()||new Uo;g.arc=e,g.site=i,g.x=v+o,g.y=(g.cy=m+s)+Math.sqrt(v*v+m*m),e.circle=g;for(var S=null,w=ns._;w;)if(g.y<w.y||g.y===w.y&&g.x<=w.x){if(!w.L){S=w.P;break}w=w.L}else{if(!w.R){S=w;break}w=w.R}ns.insert(S,g),S||(jo=g)}}}}function Go(e){var t=e.circle;t&&(t.P||(jo=t.N),ns.remove(t),zo.push(t),_o(t),e.circle=null)}var qo=[];function Yo(){_o(this),this.edge=this.site=this.circle=null}function Xo(e){var t=qo.pop()||new Yo;return t.site=e,t}function Zo(e){Go(e),ts.remove(e),qo.push(e),_o(e)}function Ko(e){var t=e.circle,r=t.x,n=t.cy,i=[r,n],a=e.P,o=e.N,s=[e];Zo(e);for(var l=a;l.circle&&Math.abs(r-l.circle.x)<as&&Math.abs(n-l.circle.cy)<as;)a=l.P,s.unshift(l),Zo(l),l=a;s.unshift(l),Go(l);for(var c=o;c.circle&&Math.abs(r-c.circle.x)<as&&Math.abs(n-c.circle.cy)<as;)o=c.N,s.push(c),Zo(c),c=o;s.push(c),Go(c);var u,h=s.length;for(u=1;u<h;++u)c=s[u],l=s[u-1],Oo(c.edge,l.site,c.site,i);l=s[0],(c=s[h-1]).edge=Vo(l.site,c.site,null,i),Wo(l),Wo(c)}function Jo(e){for(var t,r,n,i,a=e[0],o=e[1],s=ts._;s;)if((n=Qo(s,o)-a)>as)s=s.L;else{if(!((i=a-es(s,o))>as)){n>-as?(t=s.P,r=s):i>-as?(t=s,r=s.N):t=r=s;break}if(!s.R){t=s;break}s=s.R}!function(e){rs[e.index]={site:e,halfedges:[]}}(e);var l=Xo(e);if(ts.insert(t,l),t||r){if(t===r)return Go(t),r=Xo(t.site),ts.insert(l,r),l.edge=r.edge=Vo(t.site,l.site),Wo(t),void Wo(r);if(r){Go(t),Go(r);var c=t.site,u=c[0],h=c[1],p=e[0]-u,f=e[1]-h,d=r.site,v=d[0]-u,m=d[1]-h,g=2*(p*m-f*v),S=p*p+f*f,w=v*v+m*m,y=[(m*S-f*w)/g+u,(p*w-v*S)/g+h];Oo(r.edge,c,d,y),l.edge=Vo(c,e,null,y),r.edge=Vo(e,d,null,y),Wo(t),Wo(r)}else l.edge=Vo(t.site,l.site)}}function Qo(e,t){var r=e.site,n=r[0],i=r[1],a=i-t;if(!a)return n;var o=e.P;if(!o)return-1/0;var s=(r=o.site)[0],l=r[1],c=l-t;if(!c)return s;var u=s-n,h=1/a-1/c,p=u/c;return h?(-p+Math.sqrt(p*p-2*h*(u*u/(-2*c)-l+c/2+i-a/2)))/h+n:(n+s)/2}function es(e,t){var r=e.N;if(r)return Qo(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var ts,rs,ns,is,as=1e-6,os=1e-12;function ss(e,t){return t[1]-e[1]||t[0]-e[0]}function ls(e,t){var r,n,i,a=e.sort(ss).pop();for(is=[],rs=new Array(e.length),ts=new Lo,ns=new Lo;;)if(i=jo,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===r&&a[1]===n||(Jo(a),r=a[0],n=a[1]),a=e.pop();else{if(!i)break;Ko(i.arc)}if(function(){for(var e,t,r,n,i=0,a=rs.length;i<a;++i)if((e=rs[i])&&(n=(t=e.halfedges).length)){var o=new Array(n),s=new Array(n);for(r=0;r<n;++r)o[r]=r,s[r]=Fo(e,is[t[r]]);for(o.sort((function(e,t){return s[t]-s[e]})),r=0;r<n;++r)s[r]=t[o[r]];for(r=0;r<n;++r)t[r]=s[r]}}(),t){var o=+t[0][0],s=+t[0][1],l=+t[1][0],c=+t[1][1];!function(e,t,r,n){for(var i,a=is.length;a--;)Bo(i=is[a],e,t,r,n)&&No(i,e,t,r,n)&&(Math.abs(i[0][0]-i[1][0])>as||Math.abs(i[0][1]-i[1][1])>as)||delete is[a]}(o,s,l,c),function(e,t,r,n){var i,a,o,s,l,c,u,h,p,f,d,v,m=rs.length,g=!0;for(i=0;i<m;++i)if(a=rs[i]){for(o=a.site,s=(l=a.halfedges).length;s--;)is[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)d=(f=Ho(a,is[l[s]]))[0],v=f[1],h=(u=Ro(a,is[l[++s%c]]))[0],p=u[1],(Math.abs(d-h)>as||Math.abs(v-p)>as)&&(l.splice(s,0,is.push(Io(o,f,Math.abs(d-e)<as&&n-v>as?[e,Math.abs(h-e)<as?p:n]:Math.abs(v-n)<as&&r-d>as?[Math.abs(p-n)<as?h:r,n]:Math.abs(d-r)<as&&v-t>as?[r,Math.abs(h-r)<as?p:t]:Math.abs(v-t)<as&&d-e>as?[Math.abs(p-t)<as?h:e,t]:null))-1),++c);c&&(g=!1)}if(g){var S,w,y,b=1/0;for(i=0,g=null;i<m;++i)(a=rs[i])&&(y=(S=(o=a.site)[0]-e)*S+(w=o[1]-t)*w)<b&&(b=y,g=a);if(g){var x=[e,t],k=[e,n],C=[r,n],$=[r,t];g.halfedges.push(is.push(Io(o=g.site,x,k))-1,is.push(Io(o,k,C))-1,is.push(Io(o,C,$))-1,is.push(Io(o,$,x))-1)}}for(i=0;i<m;++i)(a=rs[i])&&(a.halfedges.length||delete rs[i])}(o,s,l,c)}this.edges=is,this.cells=rs,ts=ns=is=rs=null}ls.prototype={constructor:ls,polygons:function(){var e=this.edges;return this.cells.map((function(t){var r=t.halfedges.map((function(r){return Ro(t,e[r])}));return r.data=t.site.data,r}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(r,n){if(a=(i=r.halfedges).length)for(var i,a,o,s,l,c,u=r.site,h=-1,p=t[i[a-1]],f=p.left===u?p.right:p.left;++h<a;)o=f,f=(p=t[i[h]]).left===u?p.right:p.left,o&&f&&n<o.index&&n<f.index&&(l=o,c=f,((s=u)[0]-c[0])*(l[1]-s[1])-(s[0]-l[0])*(c[1]-s[1])<0)&&e.push([u.data,o.data,f.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,r){for(var n,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=e-i.site[0],c=t-i.site[1],u=l*l+c*c;do{i=a.cells[n=o],o=null,i.halfedges.forEach((function(r){var n=a.edges[r],s=n.left;if(s!==i.site&&s||(s=n.right)){var l=e-s[0],c=t-s[1],h=l*l+c*c;h<u&&(u=h,o=s.index)}}))}while(null!==o);return a._found=n,null==r||u<=r*r?i.site:null}};var cs=Math.SQRT2;function us(e){return((e=Math.exp(e))+1/e)/2}var hs=function(e,t){var r,n,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],c=t[2],u=s-i,h=l-a,p=u*u+h*h;if(p<1e-12)n=Math.log(c/o)/cs,r=function(e){return[i+e*u,a+e*h,o*Math.exp(cs*e*n)]};else{var f=Math.sqrt(p),d=(c*c-o*o+4*p)/(2*o*2*f),v=(c*c-o*o-4*p)/(2*c*2*f),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(v*v+1)-v);n=(g-m)/cs,r=function(e){var t,r=e*n,s=us(m),l=o/(2*f)*(s*(t=cs*r+m,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[i+l*u,a+l*h,o*s/us(cs*r+m)]}}return r.duration=1e3*n,r},ps=function(e){return function(){return e}};function fs(e,t,r){this.target=e,this.type=t,this.transform=r}function ds(e,t,r){this.k=e,this.x=t,this.y=r}ds.prototype={constructor:ds,scale:function(e){return 1===e?this:new ds(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ds(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vs=new ds(1,0,0);function ms(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vs;return e.__zoom}function gs(){Le.stopImmediatePropagation()}ms.prototype=ds.prototype;var Ss=function(){Le.preventDefault(),Le.stopImmediatePropagation()};function ws(){return!Le.ctrlKey&&!Le.button}function ys(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function bs(){return this.__zoom||vs}function xs(){return-Le.deltaY*(1===Le.deltaMode?.05:Le.deltaMode?1:.002)}function ks(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cs(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var $s={selector:"lineChart",bindings:{data:"<",threshold:"<"},controller:["$element",function(){function e(e){var t,r=this;this.$element=e,this.margin={top:20,right:20,bottom:20,left:40},this.width=400-this.margin.left-this.margin.right,this.height=200-this.margin.top-this.margin.bottom,this.svg=qe(this.$element[0]).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x=$i().range([0,this.width]),this.y=$i().range([this.height,0]),this.xAxis=(t=this.x,E(3,t)).tickSize(5),this.yAxis=function(e){return E(4,e)}(this.y),this.lineFunc=function(){var e=Po,t=To,r=ko(!0),n=null,i=$o,a=null;function o(o){var s,l,c,u=o.length,h=!1;for(null==n&&(a=i(c=vn())),s=0;s<=u;++s)!(s<u&&r(l=o[s],s,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(l,s,o),+t(l,s,o));if(c)return a=null,c+""||null}return o.x=function(t){return arguments.length?(e="function"==typeof t?t:ko(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:ko(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:ko(!!e),o):r},o.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),o):i},o.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),o):n},o}().x((function(e){return r.x(e.x)})).y((function(e){return r.y(e.y)})).curve($o)}return e.prototype.$postLink=function(){},e.prototype.$onChanges=function(e){(e.data||e.threshold)&&this.render()},e.prototype.$onInit=function(){},e.prototype.render=function(){this.x.domain([y(this.data,(function(e){return e.x})),w(this.data,(function(e){return e.x}))]),this.y.domain([y(this.data,(function(e){return e.y})),w(this.data,(function(e){return e.y}))]),this.svg.selectAll("g.axis").remove(),this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+this.height+")").call(this.xAxis),this.svg.append("g").attr("class","y axis").call(this.yAxis),this.svg.append("svg:path").attr("d",this.lineFunc(this.data)).attr("stroke","red").attr("stroke-width",1).attr("fill","none"),this.svg.append("line").attr("x1",this.x(this.threshold)).attr("y1",0).attr("x2",this.x(this.threshold)).attr("y2",this.height).attr("stroke","steelblue").attr("class","verticalLine")},e}()]};n.module("emuwebApp").component($s.selector,$s);var Ps={selector:"bundleListSideBar",template:'\n\t<div class="emuwebapp-bundle-outer">\n\t<div>\n\t\t<h3>\n\t\t\t<div>\n\t\t\t\t<input type="text" ng-model="$ctrl.filterText" placeholder="&#x1f50d; Bundle Filter" ng-focus="$ctrl.ViewStateService.setcursorInTextField(true)" ng-blur="$ctrl.ViewStateService.setcursorInTextField(false)" class="emuwebapp-filter"/>\n\t\t\t</div>\n\t\t</h3>\n\t\t<my-drop-zone ng-if="$ctrl.ViewStateService.showDropZone && $ctrl.open"></my-drop-zone>\n\t\t<div id="emuwebapp-bundleListContainer" class="emuwebapp-bundle-container" ng-if="!$ctrl.ViewStateService.showDropZone">\n\t\t\t<ul ng-repeat="(key, value) in $ctrl.LoadedMetaDataService.getRendOptBndlList()" ng-class="{\'emuwebapp-bundle-last\':$last}">\n\t\t\t\t<div class="emuwebapp-bundle-session" ng-if="$ctrl.isSessionDefined(key)" ng-click="$ctrl.LoadedMetaDataService.toggleCollapseSession(key)">\n\t\t\t\t\t<div ng-if="$ctrl.LoadedMetaDataService.getSessionCollapseState(key)">\n\t\t\t\t\t\t▷{{key}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="!$ctrl.LoadedMetaDataService.getSessionCollapseState(key)">\n\t\t\t\t\t\t▽{{key}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="emuwebapp-bundleListSessionBndlsContainer" ng-if="!$ctrl.LoadedMetaDataService.getSessionCollapseState(key)">\n\t\t\t\t\t<div class="emuwebapp-bundleListSessionPager" ng-if="value.length > $ctrl.ViewStateService.pageSize">\n\t\t\t\t\t\t<button ng-disabled="$ctrl.ViewStateService.currentPage == 0" ng-click="$ctrl.turn(false);">\n\t\t\t\t\t\t\t←\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{{$ctrl.ViewStateService.currentPage+1}}/{{$ctrl.ViewStateService.numberOfPages(value.length)}}\n\t\t\t\t\t\t<button ng-disabled="$ctrl.ViewStateService.currentPage >= value.length/$ctrl.ViewStateService.pageSize - 1" ng-click="$ctrl.turn(true);">\n\t\t\t\t\t\t\t→\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-repeat="bundle in value | startFrom:$ctrl.ViewStateService.currentPage*$ctrl.ViewStateService.pageSize | limitTo:$ctrl.ViewStateService.pageSize | regex:$ctrl.filterText track by $index">\n\t\t\t\t\t\t<div class="emuwebapp-bundle-item" id="uttListItem" ng-style="$ctrl.getBndlColor(bundle);" ng-click="$ctrl.DbObjLoadSaveService.loadBundle(bundle);" dragout draggable="true" name="{{bundle.name}}">\n\t\t\t\t\t\t\t<b>{{bundle.name}}</b>\n\t\t\t\t\t\t\t<button ng-if="$ctrl.ConfigProviderService.vals.activeButtons.saveBundle && $ctrl.isCurBndl(bundle)" class="emuwebapp-saveBundleButton" ng-click="$ctrl.DbObjLoadSaveService.saveBundle();"><i class="material-icons">save</i></button>\n\t\t\t\t\t\t\t\x3c!----\x3e\n\t\t\t\t\t\t\t\x3c!--regulate finished editing display--\x3e\n\t\t\t\t\t\t\t\x3c!--display checkbox if current--\x3e\n\t\t\t\t\t\t\t<div ng-if="$ctrl.ConfigProviderService.vals.restrictions.bundleFinishedEditing && $ctrl.isCurBndl(bundle)">\n\t\t\t\t\t\t\t\tfinished editing:\n\t\t\t\t\t\t\t\t<input type="checkbox" ng-model="bundle.finishedEditing" ng-change="$ctrl.finishedEditing(bundle.finishedEditing, key, $index)"/>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!--display text "true" or "false" depending on model if not current--\x3e\n\t\t\t\t\t\t\t<div ng-if="$ctrl.ConfigProviderService.vals.restrictions.bundleFinishedEditing && !$ctrl.isCurBndl(bundle)">\n\t\t\t\t\t\t\t\tfinished editing:\n\t\t\t\t\t\t\t\t<strong ng-if="bundle.finishedEditing" style="color:green;">true</strong>\n\t\t\t\t\t\t\t\t<strong ng-if="!bundle.finishedEditing" style="color:red;">false</strong>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!----\x3e\n\t\t\t\t\t\t\t\x3c!--regulate comment editing display--\x3e\n\t\t\t\t\t\t\t\x3c!--display text input if current--\x3e\n\t\t\t\t\t\t\t<div ng-if="$ctrl.ConfigProviderService.vals.restrictions.bundleComments && $ctrl.isCurBndl(bundle)">\n\t\t\t\t\t\t\t\tcomment:\n\t\t\t\t\t\t\t\t<input type="text" ng-focus="$ctrl.ViewStateService.setcursorInTextField(true); $ctrl.startHistory(bundle);" ng-blur="$ctrl.ViewStateService.setcursorInTextField(false); $ctrl.updateHistory(bundle, key, $index); $ctrl.endHistory(bundle);" ng-model="bundle.comment"/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div ng-if="$ctrl.ConfigProviderService.vals.restrictions.bundleComments && !$ctrl.isCurBndl(bundle)">\n\t\t\t\t\t\t\t\tcomment: <strong style="font-style: italic;max-height: 20px; overflow-y: auto">{{bundle.comment}}</strong>\n\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\x3c!----\x3e\n\t\t\t\t\t\t\t\x3c!--timeAnchors controlls--\x3e\n\t\t\t\t\t\t\t<div class="emuwebapp-bundleListSessionPager" ng-if="bundle.timeAnchors.length > 0 && $ctrl.isCurBndl(bundle)">\n\t\t\t\t\t\t\t\t<button ng-disabled="$ctrl.ViewStateService.curTimeAnchorIdx == 0" ng-click="$ctrl.nextPrevAnchor(false);">\n\t\t\t\t\t\t\t\t\t←\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\ttime anchor idx: {{$ctrl.ViewStateService.curTimeAnchorIdx}}\n\t\t\t\t\t\t\t\t<button ng-disabled="$ctrl.ViewStateService.curTimeAnchorIdx == $ctrl.getTimeAnchorIdxMax()" ng-click="$ctrl.nextPrevAnchor(true);">\n\t\t\t\t\t\t\t\t\t→\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="emuwebapp-bundleListSessionPager" ng-if="value.length > $ctrl.ViewStateService.pageSize">\n\t\t\t\t\t\t<button ng-disabled="$ctrl.ViewStateService.currentPage == 0" ng-click="$ctrl.turn(false);">\n\t\t\t\t\t\t\t←\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{{$ctrl.ViewStateService.currentPage+1}}/{{$ctrl.ViewStateService.numberOfPages(value.length)}}\n\t\t\t\t\t\t<button ng-disabled="$ctrl.ViewStateService.currentPage >= value.length/$ctrl.ViewStateService.pageSize - 1" ng-click="ctrl.turn(true);">\n\t\t\t\t\t\t\t→\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n',bindings:{open:"<"},controller:["$element","$animate","ViewStateService","HistoryService","LoadedMetaDataService","DbObjLoadSaveService","ConfigProviderService","LevelService",function(){function e(e,t,r,n,i,a,o,s){this.$element=e,this.$animate=t,this.ViewStateService=r,this.HistoryService=n,this.LoadedMetaDataService=i,this.DbObjLoadSaveService=a,this.ConfigProviderService=o,this.LevelService=s,this.comment="",this.filterText="",this.ViewStateService.pageSize=500,this.ViewStateService.currentPage=0,this._inited=!1}return e.prototype.$postLink=function(){},e.prototype.$onChanges=function(e){this._inited&&e.open&&(e.open.currentValue?(this.$animate.removeClass(this.$element.find("div")[0],"emuwebapp-shrinkBundleListSidebarWidthTo0px"),this.$animate.addClass(this.$element.find("div")[0],"emuwebapp-expandBundleListSidebarWidthTo200px")):(this.$animate.removeClass(this.$element.find("div")[0],"emuwebapp-expandBundleListSidebarWidthTo200px"),this.$animate.addClass(this.$element.find("div")[0],"emuwebapp-shrinkBundleListSidebarWidthTo0px")))},e.prototype.$onInit=function(){this._inited=!0},e.prototype.finishedEditing=function(e,t,r){this.HistoryService.addObjToUndoStack({type:"WEBAPP",action:"FINISHED",finished:e,key:t,index:r})},e.prototype.updateHistory=function(e,t,r){this.comment!==e.comment&&this.HistoryService.updateCurChangeObj({type:"WEBAPP",action:"COMMENT",initial:this.comment,comment:e.comment,key:t,index:r})},e.prototype.endHistory=function(e){this.comment!==e.comment&&this.HistoryService.addCurChangeObjToUndoStack()},e.prototype.startHistory=function(e){this.comment=e.comment},e.prototype.turn=function(e){e?this.ViewStateService.currentPage++:this.ViewStateService.currentPage--},e.prototype.getBndlColor=function(e){var t;t=0!==this.HistoryService.movesAwayFromLastSave?{"background-color":"#f00",color:"white"}:{"background-color":"#999",color:"black"};var r=this.LoadedMetaDataService.getCurBndl();if(e.name===r.name&&e.session===r.session)return t},e.prototype.isSessionDefined=function(e){return"undefined"!==e},e.prototype.nextPrevAnchor=function(e){var t=this.LoadedMetaDataService.getCurBndl();e?this.ViewStateService.curTimeAnchorIdx<t.timeAnchors.length-1&&(this.ViewStateService.curTimeAnchorIdx=this.ViewStateService.curTimeAnchorIdx+1,this.ViewStateService.select(t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_start,t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_end),this.ViewStateService.setViewPort(t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_start,t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_end),this.ViewStateService.zoomViewPort(!1,this.LevelService)):this.ViewStateService.curTimeAnchorIdx>0&&(this.ViewStateService.curTimeAnchorIdx=this.ViewStateService.curTimeAnchorIdx-1,this.ViewStateService.select(t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_start,t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_end),this.ViewStateService.setViewPort(t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_start,t.timeAnchors[this.ViewStateService.curTimeAnchorIdx].sample_end),this.ViewStateService.zoomViewPort(!1,this.LevelService))},e.prototype.getTimeAnchorIdxMax=function(){var e=this.LoadedMetaDataService.getCurBndl();return n.equals({},e)?-1:e.timeAnchors.length-1},e.prototype.isCurBndl=function(e){var t=this.LoadedMetaDataService.getCurBndl();return e.name===t.name&&e.session===t.session},e}()]};n.module("emuwebApp").component(Ps.selector,Ps);var Ts=r(0),Es=r.n(Ts),_s={selector:"emuhierarchy",template:'<div class="emuwebapp-hierarchy-container" ng-mousemove="$ctrl.checkLink($event)"></div>',bindings:{vertical:"<",playing:"<",curLevelAttrDefs:"<",hierarchyPath:"<",movesAwayFromLastSave:"<",newLinkFromId:"<",isShown:"<",contextMenuId:"<",hierarchyResize:"<",attributeDefinitionClickCounter:"<"},controller:["$scope","$element","$timeout","ViewStateService","HistoryService","DataService","LevelService","HierarchyManipulationService","HierarchyLayoutService","SoundHandlerService","ConfigProviderService",function(){function e(e,t,r,n,i,a,o,s,l,c,u){this.$scope=e,this.$element=t,this.$timeout=r,this.ViewStateService=n,this.HistoryService=i,this.DataService=a,this.LevelService=o,this.HierarchyManipulationService=s,this.HierarchyLayoutService=l,this.SoundHandlerService=c,this.ConfigProviderService=u,this.offsetX=25,this.offsetY=30,this.vertOffsetX=150,this.vertOffsetY=25,this.transition={duration:750,links:!1,nodes:!1,rotation:!1,contextMenu:!1},this.scaleExtent=[.5,10],this.panningLimit=.95,this.allowCrossAxisZoom=!1,this.allowCrossAxisPan=!1,this.timeAxisStartPosition=void 0,this.timeAxisEndPosition=void 0,this.crossAxisStartPosition=void 0,this.crossAxisEndPosition=void 0,this.northernBoundary=void 0,this.southernBoundary=void 0,this.westernBoundary=void 0,this.easternBoundary=void 0,this.zoomTimeoutPromise=null,this.lastScaleFactor=1,this._inited=!1}return e.prototype.$postLink=function(){this.element=this.$element,this.width=0,this.height=0,this.background=Es.a.colorDarkGrey,this.zoomListener=function(){var e,t,r=ws,n=ys,i=Cs,a=xs,o=ks,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=hs,h=I("start","zoom","end"),p=0;function f(e){e.property("__zoom",bs).on("wheel.zoom",y).on("mousedown.zoom",b).on("dblclick.zoom",x).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new ds(t,e.x,e.y)}function v(e,t,r){var n=t[0]-r[0]*e.k,i=t[1]-r[1]*e.k;return n===e.x&&i===e.y?e:new ds(e.k,n,i)}function m(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function g(e,t,r){e.on("start.zoom",(function(){S(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).end()})).tween("zoom",(function(){var e=this,i=arguments,a=S(e,i),o=n.apply(e,i),s=null==r?m(o):"function"==typeof r?r.apply(e,i):r,l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=e.__zoom,h="function"==typeof t?t.apply(e,i):t,p=u(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(e){if(1===e)e=h;else{var t=p(e),r=l/t[2];e=new ds(r,s[0]-t[0]*r,s[1]-t[1]*r)}a.zoom(null,e)}}))}function S(e,t,r){return!r&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.extent=n.apply(e,t),this.taps=0}function y(){if(r.apply(this,arguments)){var e=S(this,arguments),t=this.__zoom,n=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,a.apply(this,arguments)))),o=Yt(this);if(e.wheel)e.mouse[0][0]===o[0]&&e.mouse[0][1]===o[1]||(e.mouse[1]=t.invert(e.mouse[0]=o)),clearTimeout(e.wheel);else{if(t.k===n)return;e.mouse=[o,t.invert(o)],br(this),e.start()}Ss(),e.wheel=setTimeout(c,150),e.zoom("mouse",i(v(d(t,n),e.mouse[0],e.mouse[1]),e.extent,l))}function c(){e.wheel=null,e.end()}}function b(){if(!t&&r.apply(this,arguments)){var e=S(this,arguments,!0),n=qe(Le.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),a=Yt(this),o=Le.clientX,s=Le.clientY;Xe(Le.view),gs(),e.mouse=[a,this.__zoom.invert(a)],br(this),e.start()}function c(){if(Ss(),!e.moved){var t=Le.clientX-o,r=Le.clientY-s;e.moved=t*t+r*r>p}e.zoom("mouse",i(v(e.that.__zoom,e.mouse[0]=Yt(e.that),e.mouse[1]),e.extent,l))}function u(){n.on("mousemove.zoom mouseup.zoom",null),Ze(Le.view,e.moved),Ss(),e.end()}}function x(){if(r.apply(this,arguments)){var e=this.__zoom,t=Yt(this),a=e.invert(t),o=e.k*(Le.shiftKey?.5:2),s=i(v(d(e,o),t,a),n.apply(this,arguments),l);Ss(),c>0?qe(this).transition().duration(c).call(g,s,t):qe(this).call(f.transform,s)}}function k(){if(r.apply(this,arguments)){var t,n,i,a,o=Le.touches,s=o.length,l=S(this,arguments,Le.changedTouches.length===s);for(gs(),n=0;n<s;++n)i=o[n],a=[a=qt(this,o,i.identifier),this.__zoom.invert(a),i.identifier],l.touch0?l.touch1||l.touch0[2]===a[2]||(l.touch1=a,l.taps=0):(l.touch0=a,t=!0,l.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(l.taps<2&&(e=setTimeout((function(){e=null}),500)),br(this),l.start())}}function C(){if(this.__zooming){var t,r,n,a,o=S(this,arguments),s=Le.changedTouches,c=s.length;for(Ss(),e&&(e=clearTimeout(e)),o.taps=0,t=0;t<c;++t)r=s[t],n=qt(this,s,r.identifier),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=n:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=n);if(r=o.that.__zoom,o.touch1){var u=o.touch0[0],h=o.touch0[1],p=o.touch1[0],f=o.touch1[1],m=(m=p[0]-u[0])*m+(m=p[1]-u[1])*m,g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g;r=d(r,Math.sqrt(m/g)),n=[(u[0]+p[0])/2,(u[1]+p[1])/2],a=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!o.touch0)return;n=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(v(r,n,a),o.extent,l))}}function $(){if(this.__zooming){var e,r,n=S(this,arguments),i=Le.changedTouches,a=i.length;for(gs(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),500),e=0;e<a;++e)r=i[e],n.touch0&&n.touch0[2]===r.identifier?delete n.touch0:n.touch1&&n.touch1[2]===r.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),2===n.taps){var o=qe(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return f.transform=function(e,t,r){var n=e.selection?e.selection():e;n.property("__zoom",bs),e!==n?g(e,t,r):n.interrupt().each((function(){S(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},f.scaleBy=function(e,t,r){f.scaleTo(e,(function(){var e=this.__zoom.k,r="function"==typeof t?t.apply(this,arguments):t;return e*r}),r)},f.scaleTo=function(e,t,r){f.transform(e,(function(){var e=n.apply(this,arguments),a=this.__zoom,o=null==r?m(e):"function"==typeof r?r.apply(this,arguments):r,s=a.invert(o),c="function"==typeof t?t.apply(this,arguments):t;return i(v(d(a,c),o,s),e,l)}),r)},f.translateBy=function(e,t,r){f.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof r?r.apply(this,arguments):r),n.apply(this,arguments),l)}))},f.translateTo=function(e,t,r,a){f.transform(e,(function(){var e=n.apply(this,arguments),o=this.__zoom,s=null==a?m(e):"function"==typeof a?a.apply(this,arguments):a;return i(vs.translate(s[0],s[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof r?-r.apply(this,arguments):-r),e,l)}),a)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){Fe(new fs(f,e,this.that.__zoom),h.apply,h,[e,this.that,this.args])}},f.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:ps(+e),f):a},f.filter=function(e){return arguments.length?(r="function"==typeof e?e:ps(!!e),f):r},f.touchable=function(e){return arguments.length?(o="function"==typeof e?e:ps(!!e),f):o},f.extent=function(e){return arguments.length?(n="function"==typeof e?e:ps([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),f):n},f.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],f):[s[0],s[1]]},f.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],f):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},f.constrain=function(e){return arguments.length?(i=e,f):i},f.duration=function(e){return arguments.length?(c=+e,f):c},f.interpolate=function(e){return arguments.length?(u=e,f):u},f.on=function(){var e=h.on.apply(h,arguments);return e===h?f:e},f.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,f):Math.sqrt(p)},f}().scaleExtent(this.scaleExtent).on("zoom",this.zoom.bind(this)),this.svg=qe(this.element.find("div")[0]).append("svg").attr("width","100%").attr("height","100%").style("background-color",this.background).call(this.zoomListener).on("dblclick.zoom",null).on("mousemove",this.svgOnMouseMove.bind(this)).on("click",this.svgOnClick.bind(this)).append("g"),this.zoomer=this.svg.append("rect").attr("width","100%").attr("height","100%").style("fill","none").style("pointer-events","all").call(this.zoomListener),this.shiftMode=!1,this.captionLayer=this.svg.append("g").style("z-index",5),this.timeArrow=this.svg.append("g").append("text").style("fill",Es.a.colorWhite).text("time →"),this.scaleFactorDisplay=this.svg.append("g"),this.scaleFactorDisplay.append("text"),this.svg=this.svg.append("g").style("z-index",1);var e=ms(this.zoomer.node());this.zoomer.call(this.zoomListener.transform,vs.translate(e.x,e.y).scale(e.k))},e.prototype.$onChanges=function(e){e.vertical&&e.vertical.currentValue!==e.vertical.previousValue&&this._inited&&this.rotate(),e.curLevelAttrDefs&&e.curLevelAttrDefs.currentValue!==e.curLevelAttrDefs.previousValue&&this._inited&&this.render(),e.playing&&e.playing.currentValue!==e.playing.previousValue&&this._inited&&void 0!==this.selectedItem&&this.play(this.selectedItem),e.hierarchyPath&&e.hierarchyPath.currentValue!==e.hierarchyPath.previousValue&&this._inited&&(this.newLinkFromId=void 0,this.render()),e.movesAwayFromLastSave&&e.movesAwayFromLastSave.currentValue!==e.movesAwayFromLastSave.previousValue&&this._inited&&this.render(),e.newLinkFromId&&e.newLinkFromId.currentValue!==e.newLinkFromId.previousValue&&this._inited&&(this.newLinkSrc=this.LevelService.getItemByID(e.newLinkFromId.currentValue),this.render()),e.isShown&&e.isShown.currentValue!==e.isShown.previousValue&&e.isShown.currentValue&&this._inited&&this.render(),e.contextMenuId&&e.contextMenuId.currentValue!==e.contextMenuId.previousValue&&this._inited&&this.render(),e.hierarchyResize&&e.hierarchyResize.currentValue!==e.hierarchyResize.previousValue&&this._inited&&this.render(),e.attributeDefinitionClickCounter&&e.attributeDefinitionClickCounter.currentValue!==e.attributeDefinitionClickCounter.previousValue&&this._inited&&this.render()},e.prototype.$onInit=function(){this._inited=!0},e.prototype.checkLink=function(e){if(e.shiftKey&&!this.shiftMode&&void 0===this.ViewStateService.hierarchyState.newLinkFromID&&(this.ViewStateService.hierarchyState.newLinkFromID=this.ViewStateService.hierarchyState.selectedItemID,this.shiftMode=!0),!e.shiftKey&&this.shiftMode){this.shiftMode=!1;var t=this.HierarchyManipulationService.addLink(this.ViewStateService.hierarchyState.path,this.ViewStateService.hierarchyState.newLinkFromID,this.ViewStateService.hierarchyState.selectedItemID);this.ViewStateService.hierarchyState.newLinkFromID=void 0,null!==t&&this.HistoryService.addObjToUndoStack({type:"HIERARCHY",action:"ADDLINK",link:t})}},e.prototype.selectItem=function(e){this.selectedItem=e,this.ViewStateService.hierarchyState.selectedItemID=e.id},e.prototype.selectLink=function(e){this.selectedLink=e,this.ViewStateService.hierarchyState.selectedLinkFromID=e.fromID,this.ViewStateService.hierarchyState.selectedLinkToID=e.toID},e.prototype.zoom=function(){var e=ms(this.zoomer.node());e=this.limitPanning(e),this.ViewStateService.hierarchyState.translate=[e.x,e.y],this.ViewStateService.hierarchyState.scaleFactor=e.k,this.svg.attr("transform",this.getOrientatedTransform(!0)),this.captionLayer.attr("transform",this.getOrientatedLevelCaptionLayerTransform()),this.captionLayer.selectAll("g.emuhierarchy-levelcaption").attr("transform",this.getOrientatedLevelCaptionTransform.bind(this)),null!==this.zoomTimeoutPromise&&(this.$timeout.cancel(this.zoomTimeoutPromise),this.zoomTimeoutPromise=null),this.zoomTimeoutPromise=this.$timeout(this.render.bind(this),200)},e.prototype.limitPanning=function(e){var t=e.x,r=e.y;return this.vertical?(this.allowCrossAxisPan?(r>this.southernBoundary-this.crossAxisStartPosition&&(r=this.southernBoundary-this.crossAxisStartPosition),r<this.northernBoundary-this.crossAxisEndPosition&&(r=this.northernBoundary-this.crossAxisEndPosition)):r=0,t>this.easternBoundary-this.timeAxisStartPosition&&(t=this.easternBoundary-this.timeAxisStartPosition),t<this.westernBoundary-this.timeAxisEndPosition&&(t=this.westernBoundary-this.timeAxisEndPosition)):(this.allowCrossAxisPan?(t>this.easternBoundary-this.crossAxisStartPosition&&(t=this.easternBoundary-this.crossAxisStartPosition),t<this.westernBoundary-this.crossAxisEndPosition&&(t=this.westernBoundary-this.crossAxisEndPosition)):t=0,r>this.southernBoundary-this.timeAxisStartPosition&&(r=this.southernBoundary-this.timeAxisStartPosition),r<this.northernBoundary-this.timeAxisEndPosition&&(r=this.northernBoundary-this.timeAxisEndPosition)),{x:t,y:r,k:e.k}},e.prototype.rotate=function(){var e,t,r=ms(this.zoomer.node());!0===this.vertical?(e=r.y/this.timeAxisEndPosition,t=r.x/this.crossAxisEndPosition):(e=r.x/this.timeAxisEndPosition,t=r.y/this.crossAxisEndPosition),this.render(),e*=this.timeAxisEndPosition,t*=this.crossAxisEndPosition,!0===this.vertical?this.zoomer.call(this.zoomListener.transform,vs.translate(e,t).scale(r.k)):this.zoomer.call(this.zoomListener.transform,vs.translate(t,e).scale(r.k)),this.limitPanning(r)},e.prototype.getOrientatedTransform=function(e){var t="",r=ms(this.zoomer.node());if(r=this.limitPanning(r),this.vertical?(t+="translate("+r.x+","+r.y+")",t+="scale(-1,1),rotate(90)"):(t+="translate("+r.x+","+r.y+")",t+="rotate(0)"),!0===e){var n=r.k/this.lastScaleFactor;this.allowCrossAxisZoom?t+="scale("+n+")":t+="scale(1,"+n+")"}return t},e.prototype.getOrientatedNodeTransform=function(){return this.vertical?"scale(-1,1)rotate(90)":"rotate(0)"},e.prototype.getOrientatedLinkStrokeWidth=function(){return"2px"},e.prototype.getOrientatedGhostLinkStrokeWidth=function(){return"15px"},e.prototype.getNodeText=function(e){for(var t=this.ViewStateService.getCurAttrDef(this.LevelService.getLevelName(e.id)),r=0;r<e.labels.length;++r)if(e.labels[r].name===t)return e.labels[r].value;return console.debug("Likely a bug: Did not find the label selected for display","Selected level:",t,"Node: ",e),"NO VALUE"},e.prototype.getLevelCaptionText=function(e){var t=this.ViewStateService.getCurAttrDef(e);return e===t?e:e+":"+t},e.prototype.getOrientatedNodeCollapseText=function(e){return this.vertical?this.ViewStateService.hierarchyState.getCollapsed(e.id)?"↓":"↑":this.ViewStateService.hierarchyState.getCollapsed(e.id)?"→":"←"},e.prototype.getOrientatedTextTransform=function(){},e.prototype.getOrientatedTextAnchor=function(){return this.vertical?"middle":"begin"},e.prototype.getOrientatedTextX=function(){return this.vertical?0:10},e.prototype.getOrientatedTextY=function(){return this.vertical?"1.45em":"0.35em"},e.prototype.getOrientatedLevelCaptionLayerTransform=function(){var e=ms(this.zoomer.node());return e=this.limitPanning(e),this.vertical?"translate(0, "+e.y+")":"translate("+e.x+", 0)"},e.prototype.getOrientatedLevelCaptionTransform=function(e){var t=n.copy(this.ViewStateService.hierarchyState.path).reverse();return this.vertical?"translate(25, "+this.depthToX(t.indexOf(e))+")":"translate("+this.depthToX(t.indexOf(e))+", 20)"},e.prototype.getOrientatedAddItemButtonTransform=function(){return this.vertical,"translate(-12, -5)"},e.prototype.getOrientatedTimeLevelBackgroundTransform=function(){return this.vertical?"translate("+(this.vertOffsetX-25)+",-8)":"translate(-8,"+(this.offsetY-20)+")"},e.prototype.getOrientatedTimeLevelBackgroundWidth=function(){return this.vertical?"100%":"15px"},e.prototype.getOrientatedTimeLevelBackgroundHeight=function(){return this.vertical?"15px":"100%"},e.prototype.getOrientatedMousePosition=function(e){var t=ms(this.zoomer.node());return t=this.limitPanning(t),this.vertical?[e[1]-t.y,e[0]-t.x]:[e[0]-t.x,e[1]-t.y]},e.prototype.getPath=function(e){return"M"+e._fromX+" "+e._fromY+"Q"+e._fromX+" "+e._toY+" "+e._toX+" "+e._toY},e.prototype.getPreviewPath=function(){var e=this.newLinkSrc._x,t=this.newLinkSrc._y,r=this.selectedItem._x,n=this.selectedItem._y;return"M"+e+" "+t+"Q"+e+" "+n+" "+r+" "+n},e.prototype.getPreviewColor=function(){var e=this.HierarchyManipulationService.checkLinkValidity(this.ViewStateService.hierarchyState.path,this.newLinkSrc.id,this.selectedItem.id);return e.valid||3===e.reason&&(e=this.HierarchyManipulationService.checkLinkValidity(this.ViewStateService.hierarchyState.path,this.selectedItem.id,this.newLinkSrc.id)).valid?"green":"red"},e.prototype.getLabelLegalnessColor=function(e){var t=this.svg.select(".emuhierarchy-contextmenu input").node(),r=this.LevelService.getLevelName(e.id),n=this.ViewStateService.getCurAttrIndex(r),i=this.ConfigProviderService.getLevelDefinition(r).attributeDefinitions[n].legalLabels;return void 0===i||t.value.length>0&&i.indexOf(t.value)>=0?"lightgreen":"red"},e.prototype.svgOnMouseMove=function(){if(void 0!==this.newLinkSrc){var e=this.getOrientatedMousePosition(Yt(this.element.find("svg")[0])),t=e[0],r=e[1];this.svg.select("path.emuhierarchy-newlink").attr("d","M"+this.newLinkSrc._x+","+this.newLinkSrc._y+" L"+t+","+r)}},e.prototype.svgOnClick=function(){var e=this;void 0!==this.ViewStateService.hierarchyState.contextMenuID&&this.$scope.$apply((function(){e.ViewStateService.hierarchyState.contextMenuID=void 0}))},e.prototype.nodeOnClick=function(e){var t=this;console.debug("Clicked node",e),void 0===this.ViewStateService.hierarchyState.contextMenuID&&(Le.stopPropagation(),this.ViewStateService.hierarchyState.contextMenuID=e.id,this.ViewStateService.hierarchyState.setEditValue(this.getNodeText(e)),this.$scope.$apply((function(){t.render()}))),this.ViewStateService.hierarchyState.contextMenuID===e.id&&Le.stopPropagation()},e.prototype.nodeOnPlayClick=function(e){this.play(e)},e.prototype.nodeOnCollapseClick=function(e){var t=this;console.debug("collapsing",e),this.HierarchyLayoutService.toggleCollapse(e,this.ViewStateService.hierarchyState.path),this.$scope.$apply((function(){t.render()}))},e.prototype.nodeOnMouseOver=function(e){this.selectItem(e),this.renderSelectionOnly()},e.prototype.nodeOnInput=function(e){var t=this.svg.select(".emuhierarchy-contextmenu input").node();this.ViewStateService.hierarchyState.setEditValue(t.value),t.style.backgroundColor=this.getLabelLegalnessColor(e)},e.prototype.nodeOnFocusIn=function(){this.ViewStateService.hierarchyState.inputFocus=!0},e.prototype.nodeOnFocusOut=function(){this.ViewStateService.hierarchyState.inputFocus=!1},e.prototype.linkOnMouseOver=function(e){this.selectLink(e),this.renderSelectionOnly()},e.prototype.addButtonOnClick=function(e){var t=this,r=this.LevelService.pushNewItem(e);-1!==r&&this.HistoryService.addObjToUndoStack({type:"HIERARCHY",action:"PUSHITEM",newID:r,level:e}),this.$scope.$apply((function(){t.render()}))},e.prototype.play=function(e){var t=this.ViewStateService.hierarchyState.path[0];if(void 0!==t){for(var r,n=this.LevelService.getLevelDetails(t).type,i=null,a=null,o=[e];o.length>0;){if((r=o.pop()).labels[0].name===t)if("EVENT"===n)(r.samplePoint<i||null===i)&&(i=r.samplePoint),(r.samplePoint>a||null===a)&&(a=r.samplePoint);else if("SEGMENT"===n){(r.sampleStart<i||null===i)&&(i=r.sampleStart);var s=r.sampleStart+r.sampleDur;(s>a||null===a)&&(a=s)}o=o.concat(this.HierarchyLayoutService.findChildren(r,this.ViewStateService.hierarchyState.path))}console.debug("Node info for playback: ",n,e,i,a),null!==i&&null!==a?this.SoundHandlerService.playFromTo(i,a):console.debug("No time information found for node, aborting playback",e)}else console.debug("Likely a bug: There is no path selection. Not executing play():",e)},e.prototype.depthToX=function(e){var t,r;this.vertical?(t=this.height,r=this.vertOffsetY):(t=this.width,r=this.offsetX);var n=e/this.ViewStateService.hierarchyState.path.length*t;return this.allowCrossAxisZoom&&(n*=this.zoomListener.scale()),n+=r},e.prototype.posInLevelToY=function(e){var t,r,n=ms(this.zoomer.node());n=this.limitPanning(n);this.vertical?(t=this.vertOffsetX,r=this.width-t):(t=this.offsetY,r=this.height-t);var i=e*r*n.k;return i+=t},e.prototype.renderSelectionOnly=function(){var e=this;this.svg.selectAll("circle.emuhierarchy-nodeCircle").style("fill",(function(t){var r=Es.a.colorWhite;return void 0!==e.selectedItem&&t.id===e.selectedItem.id&&(r=Es.a.colorBlue),r})),this.svg.selectAll("path.emuhierarchy-link").style("stroke",(function(t){return e.selectedLink===t?Es.a.colorYellow:Es.a.colorGrey})),this.svg.select(".emuhierarchy-newlinkpreview").attr("d",this.getPreviewPath.bind(this)).style("stroke",this.getPreviewColor.bind(this))},e.prototype.render=function(){var e,t=this,r=ms(this.zoomer.node());r=this.limitPanning(r),this.lastScaleFactor=r.k,this.width=parseInt(qe(this.element.find("svg")[0]).style("width"),10),this.height=parseInt(qe(this.element.find("svg")[0]).style("height"),10),this.transition.rotation?this.svg.transition().duration(this.transition.duration).attr("transform",this.getOrientatedTransform(!1)):this.svg.attr("transform",this.getOrientatedTransform(!1)),this.vertical?this.timeArrow.attr("transform","translate("+this.width/2+","+(this.height-10)+")"):this.timeArrow.attr("transform","translate("+(this.width-20)+","+this.height/2+")rotate(90)"),this.vertical?(this.scaleFactorDisplay.attr("transform","translate("+this.width+", 20)"),this.scaleFactorDisplay.select("text").attr("text-anchor","end").style("fill",Es.a.colorWhite).text("Zoom: "+Math.round(100*r.k)+" %")):(this.scaleFactorDisplay.attr("transform","translate(0, "+this.height+")"),this.scaleFactorDisplay.select("text").attr("text-anchor","start").style("fill",Es.a.colorWhite).text("Zoom: "+Math.round(100*r.k)+" %")),this.captionLayer.attr("transform",this.getOrientatedLevelCaptionLayerTransform());var n=this.captionLayer.selectAll("g.emuhierarchy-levelcaption").data(this.ViewStateService.hierarchyState.path,(function(e){return e})),i=n.exit(),a=n.enter();(a=a.append("g").attr("class","emuhierarchy-levelcaption")).append("text");var o=a.filter((function(e){return"ITEM"===t.LevelService.getLevelDetails(e).type})).append("g").attr("class","emuhierarchy-addbutton").attr("transform",this.getOrientatedAddItemButtonTransform.bind(this)).on("click",this.addButtonOnClick.bind(this));o.append("circle").style("fill",Es.a.colorBlue).attr("r",8),o.append("path").style("stroke",Es.a.colorWhite).attr("d","M0,-6 V6 M-6,0 H6"),a.filter((function(e){var r=t.LevelService.getLevelDetails(e).type;return"SEGMENT"===r||"EVENT"===r})).append("rect").attr("class","emuhierarchy-timelevelbackground").style("fill",Es.a.colorTransparentGrey),(n=n.merge(a)).attr("transform",this.getOrientatedLevelCaptionTransform.bind(this)),n.select("text").text(this.getLevelCaptionText.bind(this)),n.select(".emuhierarchy-timelevelbackground").attr("transform",this.getOrientatedTimeLevelBackgroundTransform.bind(this)).style("width",this.getOrientatedTimeLevelBackgroundWidth.bind(this)).style("height",this.getOrientatedTimeLevelBackgroundHeight.bind(this)),this.transition.rotation?i=i.transition().duration(this.transition.duration).remove():i.remove(),i.select("text").style("fill-opacity",0);var s=[];for(this.HierarchyLayoutService.calculateWeightsBottomUp(this.ViewStateService.hierarchyState.path),e=0;e<this.ViewStateService.hierarchyState.path.length;++e)for(var l=this.LevelService.getLevelDetails(this.ViewStateService.hierarchyState.path[e]).items,c=0;c<l.length;++c)l[c]._visible&&s.push(l[c]);var u=this.LevelService.getItemByID(this.ViewStateService.hierarchyState.selectedItemID),h=this.LevelService.getItemByID(this.ViewStateService.hierarchyState.contextMenuID),p=this.LevelService.getItemByID(this.ViewStateService.hierarchyState.selectedLinkFromID),f=this.LevelService.getItemByID(this.ViewStateService.hierarchyState.selectedLinkToID);void 0===u||u._visible||(console.debug("Unselecting node"),this.ViewStateService.hierarchyState.selectedItemID=void 0),void 0===p||p._visible||(console.debug("Unselecting link"),this.ViewStateService.hierarchyState.selectedLinkFromID=void 0,this.ViewStateService.hierarchyState.selectedLinkToID=void 0),void 0===f||f._visible||(console.debug("Unselecting link"),this.ViewStateService.hierarchyState.selectedLinkFromID=void 0,this.ViewStateService.hierarchyState.selectedLinkToID=void 0),void 0===h||h._visible||(console.debug("Closing context menu (node became invisible)"),this.ViewStateService.hierarchyState.contextMenuID=void 0);for(var d=[],v=this.DataService.getData().links,m=0;m<v.length;++m)for(e=0;e<this.ViewStateService.hierarchyState.path.length-1;++e){var g=this.LevelService.getItemFromLevelById(this.ViewStateService.hierarchyState.path[e],v[m].toID),S=this.LevelService.getItemFromLevelById(this.ViewStateService.hierarchyState.path[e+1],v[m].fromID);null!==g&&(null!==S&&g._visible&&!this.ViewStateService.hierarchyState.getCollapsed(S.id)&&S._visible&&d.push(v[m]))}s.forEach((function(e){e._x=t.depthToX(e._depth),e._y=t.posInLevelToY(e._posInLevel)})),d.forEach((function(e){e._fromX=t.depthToX(e._fromDepth),e._fromY=t.posInLevelToY(e._fromPosInLevel),e._toX=t.depthToX(e._toDepth),e._toY=t.posInLevelToY(e._toPosInLevel)}));var w=this.svg.selectAll("g.emuhierarchy-node").data(s,(function(e){return e.id})),y=w.exit(),b=w.enter(),x=(b=b.append("g").attr("class","emuhierarchy-node").merge(b).attr("pointer-events","mouseover").on("click",this.nodeOnClick.bind(this)).on("mouseover",this.nodeOnMouseOver.bind(this))).append("circle").attr("class","emuhierarchy-nodeCircle").style("stroke",Es.a.colorGrey);this.transition.nodes?x.attr("r",0).transition().duration(this.transition.duration).attr("r",4.5):x.attr("r",4.5),b.append("text").attr("class","emuhierarchy-nodeText"),b.attr("transform",(function(e){var r=t.ViewStateService.hierarchyState.getCollapsePosition(e.id);if(void 0!==r){var n=r[0],i=r[1];return t.ViewStateService.hierarchyState.setCollapsePosition(e.id,void 0),"translate("+n+","+i+")"+t.getOrientatedNodeTransform()}})),w=w.merge(b),(y=this.transition.nodes?y.transition().duration(this.transition.duration).attr("transform",(function(e){var r=t.ViewStateService.hierarchyState.getCollapsePosition(e.id);if(void 0!==r){var n=r[0],i=r[1];return t.ViewStateService.hierarchyState.setCollapsePosition(e.id,void 0),"translate("+n+","+i+")"}return"translate(0,0)"})).remove():y.attr("transform",(function(e){var r=t.ViewStateService.hierarchyState.getCollapsePosition(e.id);if(void 0!==r){var n=r[0],i=r[1];return t.ViewStateService.hierarchyState.setCollapsePosition(e.id,void 0),"translate("+n+","+i+")"}return"translate(0,0)"})).remove()).select("text").style("fill-opacity",0),w.select("text").attr("x",this.getOrientatedTextX.bind(this)).attr("y",this.getOrientatedTextY.bind(this)).attr("text-anchor",this.getOrientatedTextAnchor.bind(this)).attr("transform",this.getOrientatedTextTransform.bind(this)).text(this.getNodeText.bind(this)),w.select("circle.emuhierarchy-nodeCircle").style("fill",(function(e){var r=Es.a.colorWhite;return void 0!==t.selectedItem&&e.id===t.selectedItem.id&&(r=Es.a.colorBlue),r})).style("stroke",(function(e){return t.ViewStateService.hierarchyState.getCollapsed(e.id)?Es.a.colorRed:Es.a.colorGrey})),this.transition.nodes?w.transition().duration(this.transition.duration).attr("transform",(function(e){return"translate("+e._x+","+e._y+")"+t.getOrientatedNodeTransform()})):w.attr("transform",(function(e){return"translate("+e._x+","+e._y+")"+t.getOrientatedNodeTransform()})),void 0===this.ViewStateService.hierarchyState.contextMenuID&&this.svg.selectAll(".emuhierarchy-contextmenu").remove();var k=this.svg.select(".emuhierarchy-contextmenu");if(k.empty()){(k=w.filter((function(e){return e.id===t.ViewStateService.hierarchyState.contextMenuID})).append("g").attr("class","emuhierarchy-contextmenu")).append("circle").style("fill","darkgrey").attr("r",50).style("cursor","default"),this.transition.contextMenu&&k.style("opacity",0).transition().duration(this.transition.duration).style("opacity",.5),k.append("text").text(this.getOrientatedNodeCollapseText.bind(this)).attr("x",-25).attr("y",-25).attr("text-anchor","middle").on("click",this.nodeOnCollapseClick.bind(this)),this.transition.contextMenu&&k.style("opacity",0).transition().duration(this.transition.duration).style("opacity",1),k.append("text").text("play").attr("x",-25).attr("y",25).attr("text-anchor","middle").on("click",this.nodeOnPlayClick.bind(this)),this.transition.contextMenu&&k.style("opacity",0).transition().duration(this.transition.duration).style("opacity",1);var C=k.append("foreignObject").attr("height",30).attr("x",10).attr("y",-15).attr("width",0);this.transition.contextMenu?C.transition().duration(this.transition.duration).attr("width",100):C.attr("width",100),C.append("xhtml:body").append("input").attr("value",this.getNodeText.bind(this)).style("width","100%").style("height","100%").style("outline","none").style("border","0").style("background-color",this.getLabelLegalnessColor.bind(this)).on("input",this.nodeOnInput.bind(this)).on("focus",this.nodeOnFocusIn.bind(this)).on("blur",this.nodeOnFocusOut.bind(this)),C.empty()||(C.select("input").node().focus(),C.select("input").node().select())}else this.svg.select(".emuhierarchy-contextmenu text").text(this.getOrientatedNodeCollapseText.bind(this));this.svg.selectAll(".emuhierarchy-node").sort((function(e,r){return e.id===t.ViewStateService.hierarchyState.contextMenuID?1:r.id===t.ViewStateService.hierarchyState.contextMenuID?-1:0}));var $=this.svg.selectAll(".emuhierarchy-linkgroup").data(d,(function(e){return"s"+e.fromID+"t"+e.toID})),P=$.exit(),T=$.enter();(T=T.insert("g",":first-child").attr("class","emuhierarchy-linkgroup")).append("path").attr("class","emuhierarchy-ghostlink").style("stroke-width",this.getOrientatedGhostLinkStrokeWidth.bind(this)).on("mouseover",this.linkOnMouseOver.bind(this)),T.append("path").attr("class","emuhierarchy-link").style("stroke-width",this.getOrientatedLinkStrokeWidth.bind(this)),this.transition.links&&T.style("opacity",0).transition().duration(this.transition.duration).style("opacity",1),$=$.merge(T),this.transition.links?P.transition().duration(this.transition.duration).style("opacity",0).remove():P.remove(),$.selectAll(".emuhierarchy-link").style("stroke",(function(e){return t.selectedLink===e?Es.a.colorYellow:Es.a.colorGrey})),this.transition.links?$.selectAll(".emuhierarchy-link").transition().duration(this.transition.duration).attr("d",this.getPath.bind(this)).style("stroke-width",this.getOrientatedLinkStrokeWidth.bind(this)).style("opacity",1):$.selectAll(".emuhierarchy-link").attr("d",this.getPath.bind(this)).style("stroke-width",this.getOrientatedLinkStrokeWidth),$.selectAll(".emuhierarchy-ghostlink").attr("d",this.getPath.bind(this)),this.svg.selectAll(".emuhierarchy-newlink").remove(),this.svg.selectAll(".emuhierarchy-newlinkpreview").remove(),void 0!==this.newLinkSrc&&(this.svg.append("path").attr("class","emuhierarchy-newlink").style("stroke","black").style("stroke-width",this.getOrientatedLinkStrokeWidth.bind(this)),this.svg.append("path").attr("class","emuhierarchy-newlinkpreview").attr("d",this.getPreviewPath.bind(this)).style("stroke",this.getPreviewColor.bind(this)).style("stroke-width",this.getOrientatedLinkStrokeWidth.bind(this))),this.vertical?(this.northernBoundary=this.vertOffsetY+this.height*(1-this.panningLimit),this.southernBoundary=this.height*this.panningLimit,this.westernBoundary=this.vertOffsetX+this.width*(1-this.panningLimit),this.easternBoundary=this.width*this.panningLimit):(this.northernBoundary=this.offsetY+this.height*(1-this.panningLimit),this.southernBoundary=this.height*this.panningLimit,this.westernBoundary=this.offsetX+this.width*(1-this.panningLimit),this.easternBoundary=this.width*this.panningLimit),this.timeAxisStartPosition=this.svg.node().getBBox().y,this.timeAxisEndPosition=this.timeAxisStartPosition+this.svg.node().getBBox().height,this.crossAxisStartPosition=this.svg.node().getBBox().x,this.crossAxisEndPosition=this.crossAxisStartPosition+this.svg.node().getBBox().width},e}()]};n.module("emuwebApp").component(_s.selector,_s);var Ms={selector:"settings",template:'\n\t<div class="emuwebapp-text">\n\t\t<div ng-if="$ctrl.ConfigProviderService.curDbConfig.linkDefinitions.length > 0">\n\t\t<h1>Hierarchy Settings</h1>\n\n\t\t<span>Show hierarchy path canvas: <input type="checkbox" ng-model="$ctrl.hierarchySettings.showHierarchyPathCanvas"></span>\n\n\t\t<h2>Visable Path</h2>\n\t\t<select \n\t\tid="emuwebapp-selection" \n\t\tname="emuwebapp-selection" \n\t\tng-model="$ctrl.hierarchySettings.paths.selected" \n\t\tng-options="value for value in $ctrl.hierarchySettings.paths.possibleAsStr"\n\t\tng-change="$ctrl.getCurVisAttributes()"></select>\n\t\t\n\t\t<h2>Visable Attribute Definitions</h2>\n\t\t<div class="emuwebapp-nav-wrap" ng-repeat="(key, levelName) in $ctrl.StandardFuncsService.reverseCopy($ctrl.hierarchySettings.paths.possible[$ctrl.getSelHierarchyPathIdx()])">\n\t\t{{levelName}}: \n\t\t\t<select \n\t\t\tid="emuwebapp-selection" \n\t\t\tname="emuwebapp-selection"\n\t\t\tng-options="attrDef as attrDef for attrDef in $ctrl.ConfigProviderService.getAttrDefsNames(levelName)"\n\t\t\tng-model="$ctrl.hierarchySettings.paths.curVisAttributeDefs[levelName]"\n\t\t\t>\n\t\t\t</select>\n\t\t</div>\n\t\t</div>\n\t<h1>Level Canvas Settings</h1>\n\n\t<span>Font scaling factor: <input type="range" ng-model="$ctrl.levelCanvasesFontScalingFactor" min="1" max="200"> {{$ctrl.levelCanvasesFontScalingFactor}}%</span>\n\n\n    <h1>OSCI Settings</h1>\n    <div>\n        <h2>Current channel</h2>\n        <select ng-model="$ctrl.osciChannel" ng-options="channel for channel in $ctrl.osciAvailableChannels"></select>\n    </div>\t\n    <h1>SPEC Settings</h1>\n    <div>\n        <h2>View Range (Hz)</h2>\n\t\tFrom: <input type="text" \n\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\tng-style="$ctrl.cssError(2,4)" \n\t\tng-model="$ctrl.modalVals.rangeFrom" \n\t\tng-focus="$ctrl.cursorInTextField();" \n\t\tng-blur="$ctrl.cursorOutOfTextField();"/>\n\t\tTo: <input type="text" \n\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\tng-style="$ctrl.cssError(1,3)" \n\t\tng-model="$ctrl.modalVals.rangeTo" \n\t\tng-focus="$ctrl.cursorInTextField();" \n\t\tng-blur="$ctrl.cursorOutOfTextField();"/><br />\n        <div ng-show="$ctrl.htmlError(1)"><b style="color: #f00;">Error:</b> Upper Range is bigger then {{upperBoundary}}</div>\n        <div ng-show="$ctrl.htmlError(2)"><b style="color: #f00;">Error:</b> Only positive Integers are allowed.</div>\n        <div ng-show="$ctrl.htmlError(3)"><b style="color: #f00;">Error:</b> Only Integers allowed inside \'To\'.</div>\n        <div ng-show="$ctrl.htmlError(4)"><b style="color: #f00;">Error:</b> Only Integers allowed inside \'From\'.</div>\n    </div>\n    <div>\n        <h2>Window Size (seconds)</h2>\n        <span>resulting number of samples <em>{{$ctrl.modalVals._windowSizeInSamples}}</em> zero-padded to <em>{{$ctrl.modalVals._fftN}} (min. = 512)</em></span>\n\t\t<input type="text" \n\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\tng-style="$ctrl.cssError(6)" \n\t\tng-model="$ctrl.modalVals.windowSizeInSecs" \n\t\tng-change="$ctrl.calcWindowSizeVals()" \n\t\tng-focus="$ctrl.cursorInTextField();" \n\t\tng-blur="$ctrl.cursorOutOfTextField();"/> <br />\n        <div ng-show="$ctrl.htmlError(6)"><b style="color: #f00;">Error:</b> Only Floats are allowed.</div>\n    </div>\n    <div>\n        <h2>Dynamic Range for Maximum (dB)</h2>\n\t\t<input type="text" \n\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\tng-style="$ctrl.cssError(5)" \n\t\tng-model="$ctrl.modalVals.dynamicRange" \n\t\tng-focus="$ctrl.cursorInTextField();" \n\t\tng-blur="$ctrl.cursorOutOfTextField();"/> <br />\n        <div ng-show="$ctrl.htmlError(5)"><b style="color: #f00;">Error:</b> Only Integers are allowed.</div>\n    </div>\n    <div>\n        <h2>Pre-emphasis filter factor</h2> \n        <span>resulting high pass filter function: <em>ŝ(k) = s(k)-{{$ctrl.modalVals.preEmphasisFilterFactor}}*s(k-1)</em></span>\n\t\t<input type="text" \n\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\tng-style="$ctrl.cssError(7)" \n\t\tng-model="$ctrl.modalVals.preEmphasisFilterFactor" \n\t\tng-focus="$ctrl.cursorInTextField();" \n\t\tng-blur="$ctrl.cursorOutOfTextField();"/> <br />\n        <div ng-show="$ctrl.htmlError(7)"><b style="color: #f00;">Error:</b> Only Floats are allowed.</div>\n    </div>\n    <div>\n        <h2>Window Function</h2>\n\t\t<select id="selWindowInfo" \n\t\tng-model="$ctrl.selWindowInfo.name" \n\t\tng-options="opt for opt in $ctrl.windowOptions"></select>\n    </div>\n    <div>\n        <h2>Invert</h2>\n        <span>Invert colors of spectrogram: <input type="checkbox" ng-model="$ctrl.modalVals.invert"></span>\n    </div>\n    <div>\n        <h2>Color Options</h2>\n        <span>Draw spectrogram in heat map colors: <input type="checkbox" ng-model="$ctrl.modalVals.drawHeatMapColors"></span>\n        <table class=\'emuwebapp-modalTable\' ng-style="$ctrl.cssError(8)">\n            <tr>\n                <th></th>\n                <th>red</th>\n                <th>green</th>\n                <th>blue</th>\n                <th>resulting color</th>\n            </tr>\n\n            <tr>\n                <td>First spectrogram color anchor:</td>\n\t\t\t\t<td>r: <input type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()"  \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[0][0]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n\t\t\t\t<td>g: <input type="text" class="emuwebapp-rgbTextInput"\n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[0][1]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n\t\t\t\t<td>b: <input type="text" class="emuwebapp-rgbTextInput"\n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[0][2]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n                <td><div ng-style="$ctrl.ViewStateService.getColorOfAnchor($ctrl.modalVals.heatMapColorAnchors, 0);"></div></td>\n            </tr>\n            <tr>\n                <td>Second spectrogram color anchor: </td>\n\t\t\t\t<td>r: <input  type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[1][0]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n\t\t\t\t<td>g: <input  type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[1][1]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n\t\t\t\t<td>b: <input  type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[1][2]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n                <td><div ng-style="$ctrl.ViewStateService.getColorOfAnchor($ctrl.modalVals.heatMapColorAnchors, 1);"></div></td>\n            </tr>\n            <tr>\n                <td>Third spectrogram color anchor: </td>\n\t\t\t\t<td>r: <input  type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[2][0]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n\t\t\t\t<td>g: <input  type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[2][1]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n\t\t\t\t<td>b: <input  type="text" class="emuwebapp-rgbTextInput" \n\t\t\t\tng-keyup="$ctrl.checkSpectroSettings()" \n\t\t\t\tng-model="$ctrl.modalVals.heatMapColorAnchors[2][2]" \n\t\t\t\tng-focus="$ctrl.cursorInTextField();" \n\t\t\t\tng-blur="$ctrl.cursorOutOfTextField();"/></td>\n                <td><div ng-style="$ctrl.ViewStateService.getColorOfAnchor($ctrl.modalVals.heatMapColorAnchors, 2);"></div></td>\n            </tr>\n        </table>\n        <div ng-show="$ctrl.htmlError(8)"><b style="color: #f00;">Error:</b> Only Integers allowed.</div>\n    </div>\n</div>\n<div class="emuwebapp-inline-modal-footer">\n\t<button class="emuwebapp-mini-btn" ng-click="$ctrl.reset()"><i class="material-icons">cancel</i>Cancel</button>\n\t<button id="emuwebapp-modal-save" class="emuwebapp-mini-btn" ng-click="$ctrl.saveSettings()"><i class="material-icons">save</i>Save</button>\n</div>\n',bindings:{},controller:["$scope","ModalService","ViewStateService","DataService","MathHelperService","SoundHandlerService","StandardFuncsService","HierarchyLayoutService","ConfigProviderService",function(){function e(e,t,r,n,i,a,o,s,l){this.$scope=e,this.ModalService=t,this.ViewStateService=r,this.DataService=n,this.MathHelperService=i,this.SoundHandlerService=a,this.StandardFuncsService=o,this.HierarchyLayoutService=s,this.ConfigProviderService=l,this.windowOptions=Object.keys(this.ViewStateService.getWindowFunctions()),this.selWindowInfo={},this.selWindowInfo.name=Object.keys(this.ViewStateService.getWindowFunctions())[this.ViewStateService.spectroSettings.window-1],this.errorID=[],this.upperBoundary="",this.osciChannel=this.ViewStateService.osciSettings.curChannel,"number"==typeof this.SoundHandlerService.audioBuffer.numberOfChannels&&(this.osciAvailableChannels=Array.from(Array(this.SoundHandlerService.audioBuffer.numberOfChannels).keys())),this.modalVals={rangeFrom:this.ViewStateService.spectroSettings.rangeFrom,rangeTo:this.ViewStateService.spectroSettings.rangeTo,dynamicRange:this.ViewStateService.spectroSettings.dynamicRange,windowSizeInSecs:this.ViewStateService.spectroSettings.windowSizeInSecs,window:this.ViewStateService.spectroSettings.window,drawHeatMapColors:this.ViewStateService.spectroSettings.drawHeatMapColors,preEmphasisFilterFactor:this.ViewStateService.spectroSettings.preEmphasisFilterFactor,heatMapColorAnchors:this.ViewStateService.spectroSettings.heatMapColorAnchors,_fftN:512,_windowSizeInSamples:this.SoundHandlerService.audioBuffer.sampleRate*this.ViewStateService.spectroSettings.windowSizeInSecs,invert:this.ViewStateService.spectroSettings.invert},this.hierarchySettings={paths:{possible:[],possibleAsStr:[],selected:"",curVisAttributeDefs:{}},showHierarchyPathCanvas:"true"==localStorage.getItem("showHierarchyPathCanvas")};var c=this.HierarchyLayoutService.findAllNonPartialPaths();this.hierarchySettings.paths.possible=c.possible,this.hierarchySettings.paths.possibleAsStr=c.possibleAsStr,this.hierarchySettings.paths.selected=this.hierarchySettings.paths.possibleAsStr[r.hierarchyState.curPathIdx],this.getCurVisAttributes(),this.ViewStateService.hierarchyState.curNrOfPaths=this.hierarchySettings.paths.possibleAsStr.length,0===Number(localStorage.getItem("levelCanvasesFontScalingFactor"))?this.levelCanvasesFontScalingFactor=100:this.levelCanvasesFontScalingFactor=Number(localStorage.getItem("levelCanvasesFontScalingFactor"))}return e.prototype.getCurVisAttributes=function(){var e=this;(this.hierarchySettings.paths.curVisAttributeDefs={},void 0!==this.hierarchySettings.paths.possible[this.getSelHierarchyPathIdx()])&&this.StandardFuncsService.reverseCopy(this.hierarchySettings.paths.possible[this.getSelHierarchyPathIdx()]).forEach((function(t){e.hierarchySettings.paths.curVisAttributeDefs[t]=e.ViewStateService.getCurAttrDef(t)}))},e.prototype.getSelHierarchyPathIdx=function(){return this.hierarchySettings.paths.possibleAsStr.indexOf(this.hierarchySettings.paths.selected)},e.prototype.cursorInTextField=function(){this.ViewStateService.setEditing(!0),this.ViewStateService.setcursorInTextField(!0)},e.prototype.cursorOutOfTextField=function(){this.ViewStateService.setEditing(!1),this.ViewStateService.setcursorInTextField(!1)},e.prototype.calcWindowSizeInSamples=function(){this.modalVals._windowSizeInSamples=this.SoundHandlerService.audioBuffer.sampleRate*this.modalVals.windowSizeInSecs},e.prototype.calcFftN=function(){var e=this.MathHelperService.calcClosestPowerOf2Gt(this.modalVals._windowSizeInSamples);e<512&&(e=512),this.modalVals._fftN=e},e.prototype.calcWindowSizeVals=function(){this.calcWindowSizeInSamples(),this.calcFftN()},e.prototype.reset=function(){this.errorID=[],this.modalVals={rangeFrom:this.ViewStateService.spectroSettings.rangeFrom,rangeTo:this.ViewStateService.spectroSettings.rangeTo,dynamicRange:this.ViewStateService.spectroSettings.dynamicRange,windowSizeInSecs:this.ViewStateService.spectroSettings.windowSizeInSecs,window:this.ViewStateService.spectroSettings.window,drawHeatMapColors:this.ViewStateService.spectroSettings.drawHeatMapColors,preEmphasisFilterFactor:this.ViewStateService.spectroSettings.preEmphasisFilterFactor,heatMapColorAnchors:this.ViewStateService.spectroSettings.heatMapColorAnchors,_fftN:512,_windowSizeInSamples:this.SoundHandlerService.audioBuffer.sampleRate*this.ViewStateService.spectroSettings.windowSizeInSecs,invert:this.ViewStateService.spectroSettings.invert},this.ModalService.close()},e.prototype.cssError=function(e,t){return this.errorID[e]||void 0!==t&&this.errorID[t]?{background:"#f00"}:void 0},e.prototype.htmlError=function(e){return this.errorID[e]},e.prototype.saveSettings=function(){var e=this,t=!1;this.errorID.forEach((function(e){!0===e&&(t=!0)})),t||(this.ViewStateService.setspectroSettings(this.modalVals.windowSizeInSecs,this.modalVals.rangeFrom,this.modalVals.rangeTo,this.modalVals.dynamicRange,this.selWindowInfo.name,this.modalVals.drawHeatMapColors,this.modalVals.preEmphasisFilterFactor,this.modalVals.heatMapColorAnchors,this.modalVals.invert),this.ViewStateService.setOsciSettings(this.osciChannel),this.ViewStateService.hierarchyState.path=this.hierarchySettings.paths.possible[this.getSelHierarchyPathIdx()],this.ViewStateService.hierarchyState.curPathIdx=this.getSelHierarchyPathIdx(),Object.keys(this.hierarchySettings.paths.curVisAttributeDefs).forEach((function(t){e.ViewStateService.setCurAttrDef(t,e.hierarchySettings.paths.curVisAttributeDefs[t],e.ConfigProviderService.getAttrDefsNames(t).indexOf(e.hierarchySettings.paths.curVisAttributeDefs[t]))})),this.hierarchySettings.showHierarchyPathCanvas?localStorage.setItem("showHierarchyPathCanvas","true"):localStorage.setItem("showHierarchyPathCanvas","false"),localStorage.setItem("levelCanvasesFontScalingFactor",this.levelCanvasesFontScalingFactor),this.reset())},e.prototype.checkSpectroSettings=function(){this.modalVals.heatMapColorAnchors[0][0]%1!=0||this.modalVals.heatMapColorAnchors[0][1]%1!=0||this.modalVals.heatMapColorAnchors[0][2]%1!=0||this.modalVals.heatMapColorAnchors[1][0]%1!=0||this.modalVals.heatMapColorAnchors[1][1]%1!=0||this.modalVals.heatMapColorAnchors[1][2]%1!=0||this.modalVals.heatMapColorAnchors[2][0]%1!=0||this.modalVals.heatMapColorAnchors[2][1]%1!=0||this.modalVals.heatMapColorAnchors[2][2]%1!=0?this.errorID[8]=!0:this.errorID[8]=!1,isNaN(this.modalVals.preEmphasisFilterFactor*this.SoundHandlerService.audioBuffer.sampleRate)?this.errorID[7]=!0:this.errorID[7]=!1,isNaN(this.SoundHandlerService.audioBuffer.sampleRate*this.modalVals.windowSizeInSecs)?this.errorID[6]=!0:this.errorID[6]=!1,this.modalVals.dynamicRange%1!=0?this.errorID[5]=!0:this.errorID[5]=!1,this.modalVals.rangeFrom%1!=0?this.errorID[4]=!0:this.errorID[4]=!1,this.modalVals.rangeTo%1!=0?this.errorID[3]=!0:this.errorID[3]=!1,this.modalVals.rangeFrom<0?this.errorID[2]=!0:this.errorID[2]=!1,this.upperBoundary=this.DataService.data.sampleRate/2,this.modalVals.rangeTo>this.upperBoundary?this.errorID[1]=!0:this.errorID[1]=!1},e}()]};n.module("emuwebApp").component(Ms.selector,Ms);var As={selector:"osci",template:'\n    <div class="emuwebapp-timeline">\n    <div class="emuwebapp-timelineCanvasContainer">\n    \n    <canvas \n    class="emuwebapp-timelineCanvasMain" \n    width="4096"></canvas>\n    \n    \x3c!--\n    <canvas \n    class="emuwebapp-timelineCanvasSSFF" \n    width="4096" \n    drawssff \n    ssff-trackname="{{$ctrl.trackName}}"></canvas>\n    --\x3e\n\n    <ssff-canvas\n    track-name="$ctrl.trackName"\n    all-ssff-data="$ctrl.SsffDataService.data"\n    view-port-sample-start="$ctrl.viewPortSampleStart"\n    view-port-sample-end="$ctrl.viewPortSampleEnd"\n    cur-bndl="$ctrl.curBundl"\n    cur-mouse-x="$ctrl.curMouseX"\n    cur-mouse-y="$ctrl.curMouseY"\n    ></ssff-canvas>\n\n\n    <signal-canvas-markup-canvas\n    track-name="$ctrl.trackName"\n    play-head-current-sample="$ctrl.playHeadCurrentSample"\n    moving-boundary-sample="$ctrl.movingBoundarySample"\n    cur-mouse-x="$ctrl.curMouseX" \n    moving-boundary="$ctrl.movingBoundary"\n    view-port-sample-start="$ctrl.viewPortSampleStart"\n    view-port-sample-end="$ctrl.viewPortSampleEnd"\n    view-port-select-start="$ctrl.viewPortSelectStart"\n    view-port-select-end="$ctrl.viewPortSelectEnd"\n    cur-bndl="$ctrl.curBundl"\n    ></signal-canvas-markup-canvas>\n    ',bindings:{trackName:"<",curChannel:"<",lastUpdate:"<",timelineSize:"<",curPerspectiveIdx:"<",playHeadCurrentSample:"<",movingBoundarySample:"<",curMouseX:"<",movingBoundary:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",viewPortSelectStart:"<",viewPortSelectEnd:"<",curBndl:"<"},controller:["$scope","$element","$timeout","ViewStateService","SoundHandlerService","ConfigProviderService","SsffDataService","DrawHelperService","LoadedMetaDataService",function(e,t,r,n,i,a,o,s,l){this.$postLink=function(){this.canvasLength=this.$element.find("canvas").length,this.canvas=this.$element.find("canvas")[0]},this.$onChanges=function(e){this._inited&&(e.timelineSize&&this.$timeout(this.redraw,Es.a.animationPeriod),e.curBndl&&this.DrawHelperService.freshRedrawDrawOsciOnCanvas(this.canvas,this.viewPortSampleStart,this.viewPortSampleEnd,!0),(e.viewPortSampleStart||e.viewPortSampleEnd||e.curChannel)&&this.DrawHelperService.freshRedrawDrawOsciOnCanvas(this.canvas,this.viewPortSampleStart,this.viewPortSampleEnd,!1))},this.$onInit=function(){this._inited=!0},this.$scope=e,this.$element=t,this.$timeout=r,this.ViewStateService=n,this.SoundHandlerService=i,this.ConfigProviderService=a,this.SsffDataService=o,this.DrawHelperService=s,this.LoadedMetaDataService=l,this._inited=!1}]};n.module("emuwebApp").component(As.selector,As);r(212);var Ds=r(69),Ls=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},Vs=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Is={selector:"emuwebapp",template:'\n    <div\n    class="emuwebapp-main" \n    id="MainCtrl">\n        \x3c!-- start: modal --\x3e\n        <modal></modal>\n        \x3c!-- end: modal --\x3e\n        \x3c!-- start: hint --\x3e\n\t\t<new-version-hint \n\t\tng-if="$ctrl.internalVars.showAboutHint"\n\t\tabout-btn-overlay-click="$ctrl.aboutBtnClick()"\n\t\t></new-version-hint>\n        \x3c!-- end: hint --\x3e\n        \x3c!-- start: left side menu bar --\x3e\n\t\t\x3c!-- ng-if="$ctrl.ViewStateService.bundleListSideBarOpen" --\x3e\n\t\t<bundle-list-side-bar \n\t\topen="$ctrl.ViewStateService.bundleListSideBarOpen">\n\t\t</bundle-list-side-bar>\n        \x3c!-- end: left side menu bar --\x3e\n\n        \x3c!-- start: main window --\x3e\n        <div class="emuwebapp-window" id="mainWindow">\n\t\t\t<progress-bar \n\t\t\tclass="emuwebapp-progressBar"\n\t\t\topen="$ctrl.ViewStateService.somethingInProgress"\n\t\t\ttxt="$ctrl.ViewStateService.somethingInProgressTxt"\n\t\t\t></progress-bar>\n\t\t\t\n\t\t\t<div class="printTitle">EMU-webApp : {{$ctrl.LoadedMetaDataService.getCurBndlName()}}</div>\n\n            \x3c!-- start: top menu bar --\x3e\n            <div class="emuwebapp-top-menu">\n                <button class="emuwebapp-button-icon" \n                id="bundleListSideBarOpen" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.openMenu" \n                ng-click="$ctrl.ViewStateService.toggleBundleListSideBar($ctrl.styles.animation.period);" \n                style="float:left"><i class="material-icons">menu</i></button>\n                \n                <button class="emuwebapp-mini-btn left" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.addLevelSeg" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'addLevelSegBtnClick\')" \n                ng-click="addLevelSegBtnClick();">add level (SEG.)</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.addLevelEvent" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'addLevelPointBtnClick\')" \n                ng-click="$ctrl.addLevelPointBtnClick();">add level (EVENT)</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.renameSelLevel" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'renameSelLevelBtnClick\')" \n                ng-click="$ctrl.renameSelLevelBtnClick();">rename sel. level</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                id="downloadTextgrid" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.downloadTextGrid" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'downloadTextGridBtnClick\')" \n                ng-click="$ctrl.downloadTextGridBtnClick();"><i class="material-icons">save</i>TextGrid</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                id="downloadAnnotation" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.downloadAnnotation" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'downloadAnnotationBtnClick\')" \n                ng-click="$ctrl.downloadAnnotationBtnClick();"><i class="material-icons">save</i>annotJSON</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                id="spectSettingsBtn" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.specSettings" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'spectSettingsChange\')" \n                ng-click="$ctrl.settingsBtnClick();"><i class="material-icons">settings</i> settings</button>\n                \n                <div class="emuwebapp-nav-wrap" ng-show="$ctrl.ConfigProviderService.vals.activeButtons.openDemoDB">\n                    <ul class="emuwebapp-dropdown-container">\n                        <li class="left">\n                            <button type="button" \n                            class="emuwebapp-mini-btn full" \n                            id="demoDB" \n                            ng-mouseover="$ctrl.dropdown = true" \n                            ng-mouseleave="$ctrl.dropdown = false" \n                            ng-click="$ctrl.dropdown = !$ctrl.dropdown" \n                            ng-disabled="!$ctrl.ViewStateService.getPermission(\'openDemoBtnDBclick\')">open demo <span id="emuwebapp-dropdown-arrow"></span></button>\n                            <ul class="emuwebapp-dropdown-menu" \n                            ng-mouseover="$ctrl.dropdown = true" \n                            ng-mouseleave="$ctrl.dropdown = false" \n                            ng-init="$ctrl.dropdown = false" \n                            ng-show="$ctrl.dropdown">\n                                <li class="divider"></li>\n                                <li \n                                ng-repeat="curDB in $ctrl.ConfigProviderService.vals.demoDBs" \n                                ng-click="$ctrl.openDemoDBbtnClick(curDB);" id="demo{{$index}}">{{curDB}}</li>\n                            </ul>\n                        </li>\n                    </ul>\n                </div>\n\n                <button class="emuwebapp-mini-btn left" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.connect" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'connectBtnClick\')" \n                ng-click="$ctrl.connectBtnClick();"><i class="material-icons">input</i>{{connectBtnLabel}}</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                id="showHierarchy" \n                ng-click="$ctrl.showHierarchyBtnClick();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'showHierarchyBtnClick\')" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.showHierarchy"><i class="material-icons" style="transform: rotate(180deg)">details</i>hierarchy</button>\n          \n                <button class="emuwebapp-mini-btn left" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.search" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'searchBtnClick\')" \n                ng-click="$ctrl.searchBtnClick();"><i class="material-icons">search</i>search</button>\n                \n                <button class="emuwebapp-mini-btn left" \n                id="clear" \n                ng-show="$ctrl.ConfigProviderService.vals.activeButtons.clear" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'clearBtnClick\')" \n                ng-click="$ctrl.clearBtnClick();"><i class="material-icons">clear_all</i>clear</button>\n                \n                <button class="emuwebapp-button-icon" \n                id="aboutBtn" \n                style="float: right;" \n                ng-click="$ctrl.aboutBtnClick();"><img src="assets/EMU-webAppEmu.svg" class="_35px" /></button>\n            </div>\n            \x3c!-- top menu bar end --\x3e\n\n            \x3c!-- vertical split layout that contains top and bottom pane --\x3e\n            <div class="emuwebapp-canvas">\n\t\t\t\t<history-action-popup\n\t\t\t\tclass="emuwebapp-history"\n\t\t\t\thistory-action-txt="$ctrl.ViewStateService.historyActionTxt">\n\t\t\t\t</history-action-popup>\n                <bg-splitter show-two-dim-cans="{{$ctrl.ConfigProviderService.vals.perspectives[$ctrl.ViewStateService.curPerspectiveIdx].twoDimCanvases.order.length > 0}}">\n                    <bg-pane type="topPane" min-size="80" max-size="500">\n                        <ul class="emuwebapp-timeline-flexcontainer">\n                            <li class="emuwebapp-timeline-flexitem" ng-style="{\'height\': getEnlarge($index)}" ng-repeat="curTrack in $ctrl.ConfigProviderService.vals.perspectives[$ctrl.ViewStateService.curPerspectiveIdx].signalCanvases.order track by $index" ng-switch on="curTrack">\n                                <osci \n                                ng-switch-when="OSCI" \n                                track-name="curTrack"\n                                cur-channel="$ctrl.ViewStateService.osciSettings.curChannel"\n                                last-update="$ctrl.ViewStateService.lastUpdate"\n                                timeline-size="$ctrl.ViewStateService.timelineSize"\n                                cur-perspective-idx="$ctrl.ViewStateService.curPerspectiveIdx"\n                                play-head-current-sample="$ctrl.ViewStateService.playHeadAnimationInfos.curS"\n                                moving-boundary-sample="$ctrl.ViewStateService.movingBoundarySample"\n                                cur-mouse-x="$ctrl.ViewStateService.curMouseX"\n                                moving-boundary="$ctrl.ViewStateService.movingBoundary"\n                                view-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n                                view-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n                                view-port-select-start="$ctrl.ViewStateService.curViewPort.selectS"\n                                view-port-select-end="$ctrl.ViewStateService.curViewPort.selectE"\n                                cur-bndl="$ctrl.LoadedMetaDataService.getCurBndl()"\n                                ></osci>\n                                \n                                <spectro \n                                ng-switch-when="SPEC" \n                                track-name="curTrack"\n\t\t\t\t\t\t\t\twindow-size-in-secs="$ctrl.ViewStateService.spectroSettings.windowSizeInSecs"\n\t\t\t\t\t\t\t\trange-from="$ctrl.ViewStateService.spectroSettings.rangeFrom"\n\t\t\t\t\t\t\t\trange-to="$ctrl.ViewStateService.spectroSettings.rangeTo"\n\t\t\t\t\t\t\t\tdynamic-range="$ctrl.ViewStateService.spectroSettings.dynamicRange"\n\t\t\t\t\t\t\t\twindow="$ctrl.ViewStateService.spectroSettings.window"\n\t\t\t\t\t\t\t\tdraw-heat-map-colors="$ctrl.ViewStateService.spectroSettings.drawHeatMapColors"\n\t\t\t\t\t\t\t\tpre-emphasis-filter-factor="$ctrl.ViewStateService.spectroSettings.preEmphasisFilterFactor"\n\t\t\t\t\t\t\t\theat-map-color-anchors="$ctrl.ViewStateService.spectroSettings.heatMapColorAnchors"\n\t\t\t\t\t\t\t\tinvert="$ctrl.ViewStateService.spectroSettings.invert"\n                                osci-settings="$ctrl.ViewStateService.osciSettings"\n                                last-update="$ctrl.ViewStateService.lastUpdate"\n                                moving-boundary-sample="$ctrl.ViewStateService.movingBoundarySample"\n\t\t\t\t\t\t\t\tcur-mouse-x="$ctrl.ViewStateService.curMouseX"\n\t\t\t\t\t\t\t\tcur-mouse-y="$ctrl.ViewStateService.curMouseY"\n                                view-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n                                view-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n                                view-port-select-start="$ctrl.ViewStateService.curViewPort.selectS"\n                                view-port-select-end="$ctrl.ViewStateService.curViewPort.selectE"\n                                cur-bndl="$ctrl.LoadedMetaDataService.getCurBndl()"\n                                ></spectro>\n                                \n                                <ssff-track \n                                ng-switch-default \n                                order="{{$index}}" \n\t\t\t\t\t\t\t\ttrack-name="curTrack"\n\t\t\t\t\t\t\t\tcur-mouse-x="$ctrl.ViewStateService.curMouseX"\n\t\t\t\t\t\t\t\tcur-mouse-y="$ctrl.ViewStateService.curMouseY"\n                                view-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n                                view-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n                                view-port-select-start="$ctrl.ViewStateService.curViewPort.selectS"\n                                view-port-select-end="$ctrl.ViewStateService.curViewPort.selectE"\n                                ></ssff-track>\n                            </li>\n                        </ul>\n                    </bg-pane>\n                    <bg-pane type="bottomPane" min-size="80">\n                        \x3c!-- ghost level div containing ul of ghost levels--\x3e\n                        <div style="margin-top: 25px;">\n                            <hierarchy-path-canvas \n                            ng-if="$ctrl.ViewStateService.getPermission(\'zoom\') && $ctrl.ConfigProviderService.curDbConfig.linkDefinitions.length > 0 && $ctrl.showHierarchyPathCanvas()"\n                            annotation="$ctrl.DataService.getData()"\n                            path="$ctrl.ViewStateService.hierarchyState.path"\n                            view-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n                            view-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n                            view-port-select-start="$ctrl.ViewStateService.curViewPort.selectS"\n                            view-port-select-end="$ctrl.ViewStateService.curViewPort.selectE"\n                            cur-mouse-x="$ctrl.ViewStateService.curMouseX"\n                            cur-click-level-name="$ctrl.ViewStateService.curClickLevelName"\n                            moving-boundary-sample="$ctrl.ViewStateService.movingBoundarySample"\n                            moving-boundary="$ctrl.ViewStateService.movingBoundary"\n                            moves-away-from-last-save="$ctrl.HistoryService.movesAwayFromLastSave"\n                            cur-perspective-idx="$ctrl.ViewStateService.curPerspectiveIdx"\n                            cur-bndl="$ctrl.LoadedMetaDataService.getCurBndl()"\n                            ></hierarchy-path-canvas>\n                        </div>\n                        \x3c!-- level div containing ul of levels --\x3e\n                        <div ng-if="true" style="margin-top: 25px;">\n                            <ul>\n                                <li ng-repeat="levelName in $ctrl.ConfigProviderService.vals.perspectives[$ctrl.ViewStateService.curPerspectiveIdx].levelCanvases.order">\n                                    <level \n                                    ng-if="$ctrl.LevelService.getLevelDetails(levelName)"\n                                    level="$ctrl.LevelService.getLevelDetails(levelName)" \n                                    idx="$index" \n                                    view-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n                                    view-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n                                    view-port-select-start="$ctrl.ViewStateService.curViewPort.selectS"\n                                    view-port-select-end="$ctrl.ViewStateService.curViewPort.selectE"\n                                    cur-mouse-x="$ctrl.ViewStateService.curMouseX"\n                                    cur-click-level-name="$ctrl.ViewStateService.curClickLevelName"\n                                    moving-boundary-sample="$ctrl.ViewStateService.movingBoundarySample"\n                                    moving-boundary="$ctrl.ViewStateService.movingBoundary",\n                                    moves-away-from-last-save="$ctrl.HistoryService.movesAwayFromLastSave"\n                                    cur-perspective-idx="$ctrl.ViewStateService.curPerspectiveIdx"\n                                    cur-bndl="$ctrl.LoadedMetaDataService.getCurBndl()"\n                                    ></level>\n                                </li>\n                            </ul>\n                        </div>\n                    </bg-pane>\n                    <bg-pane type="emuwebapp-2d-map">\n                        <ul>\n                            <li ng-repeat="cur2dTrack in $ctrl.ConfigProviderService.vals.perspectives[$ctrl.ViewStateService.curPerspectiveIdx].twoDimCanvases.order" ng-switch on="cur2dTrack">\n\t\t\t\t\t\t\t\t<epg-grid-canvas \n\t\t\t\t\t\t\t\tng-switch-when="EPG"\n\t\t\t\t\t\t\t\tcur-mouse-pos-sample="$ctrl.ViewStateService.curMousePosSample"\n\t\t\t\t\t\t\t\tview-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n\t\t\t\t\t\t\t\tview-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n\t\t\t\t\t\t\t\t></epg-grid-canvas>\n\t\t\t\t\t\t\t\t<dots-canvas \n\t\t\t\t\t\t\t\tng-switch-when="DOTS"\n\t\t\t\t\t\t\t\tcur-bndl="$ctrl.LoadedMetaDataService.getCurBndl()"\n\t\t\t\t\t\t\t\tcur-perspective-idx="$ctrl.ViewStateService.curPerspectiveIdx"\n\t\t\t\t\t\t\t\tcur-perspective-idx="$ctrl.ViewStateService.curPerspectiveIdx"\n\t\t\t\t\t\t\t\tcur-mouse-pos-sample="$ctrl.ViewStateService.curMousePosSample"\n\t\t\t\t\t\t\t\tview-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n\t\t\t\t\t\t\t\tview-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n\t\t\t\t\t\t\t\t></dots-canvas>\n                            </li>\n                        </ul>\n                    </bg-pane>\n                </bg-splitter>\n            </div>\n            \x3c!-- end: vertical split layout --\x3e\n\n            \x3c!-- start: bottom menu bar --\x3e\n            <div class="emuwebapp-bottom-menu">\n                <div>\n                    <osci-overview class="preview" \n\t\t\t\t\tid="preview"\n\t\t\t\t\tcur-channel="$ctrl.ViewStateService.osciSettings.curChannel"\n\t\t\t\t\tview-port-sample-start="$ctrl.ViewStateService.curViewPort.sS"\n\t\t\t\t\tview-port-sample-end="$ctrl.ViewStateService.curViewPort.eS"\n\t\t\t\t\tcur-bndl="$ctrl.LoadedMetaDataService.getCurBndl()"\n\t\t\t\t\t></osci-overview>\n                </div>\n\n                <button class="emuwebapp-mini-btn left"\n                id="zoomInBtn" \n                ng-click="$ctrl.cmdZoomIn();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'zoom\')"><i class="material-icons">expand_less</i>in</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="zoomOutBtn" \n                ng-click="$ctrl.cmdZoomOut();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'zoom\')"><i class="material-icons">expand_more</i>out</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="zoomLeftBtn" \n                ng-click="$ctrl.cmdZoomLeft();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'zoom\')"><i class="material-icons">chevron_left</i>left</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="zoomRightBtn" \n                ng-click="$ctrl.cmdZoomRight();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'zoom\')"><i class="material-icons">chevron_right</i>right</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="zoomAllBtn" \n                ng-click="$ctrl.cmdZoomAll();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'zoom\')"><i class="material-icons" style="transform: rotate(90deg)">unfold_less</i>all</button>\n\n                <button class="emuwebapp-mini-btn left"\n                id="zoomSelBtn" \n                ng-click="$ctrl.cmdZoomSel();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'zoom\')"><i class="material-icons" style="transform: rotate(90deg)">unfold_more</i>selection</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="playViewBtn" \n                ng-show="$ctrl.ConfigProviderService.vals.restrictions.playback" \n                ng-click="$ctrl.cmdPlayView();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'playaudio\')" ><i class="material-icons">play_arrow</i>in view</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="playSelBtn" \n                ng-show="$ctrl.ConfigProviderService.vals.restrictions.playback" \n                ng-click="$ctrl.cmdPlaySel();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'playaudio\')"><i class="material-icons">play_circle_outline</i>selected</button>\n                \n                <button class="emuwebapp-mini-btn left"\n                id="playAllBtn" \n                ng-show="$ctrl.ConfigProviderService.vals.restrictions.playback" \n                ng-click="$ctrl.cmdPlayAll();" \n                ng-disabled="!$ctrl.ViewStateService.getPermission(\'playaudio\')"><i class="material-icons">play_circle_filled</i>entire file</button>\n            </div>\n            \x3c!-- end: bottom menu bar --\x3e\n\n            \x3c!-- start: large text input field --\x3e\n            \x3c!--<large-text-field-input></large-text-field-input>--\x3e\n\n            \x3c!-- start: perspectives menu bar (right) --\x3e\n\t\t\t<perspectives-side-bar></perspectives-side-bar>\n            \x3c!-- end: perspectives menu bar (right) --\x3e\n        </div>\n        \x3c!-- end: main window --\x3e\n    </div>\n    \x3c!-- end: container EMU-webApp --\x3e\n    ',bindings:{audioGetUrl:"<",labelGetUrl:"<",labelType:"<"},controller:["$scope","$element","$window","$document","$location","$timeout","ViewStateService","HistoryService","IoHandlerService","SoundHandlerService","ConfigProviderService","FontScaleService","SsffDataService","LevelService","TextGridParserService","WavParserService","DrawHelperService","ValidationService","AppcacheHandlerService","LoadedMetaDataService","DbObjLoadSaveService","AppStateService","DataService","ModalService","BrowserDetectorService","HierarchyLayoutService","HandleGlobalKeyStrokes",function(){function e(e,t,r,i,a,o,s,l,c,u,h,p,f,d,v,m,g,S,w,y,b,x,k,C,$,P,T){this.$postLink=function(){var e=this;this.$element.bind("mouseenter",(function(){e.ViewStateService.mouseInEmuWebApp=!0})),this.$element.bind("mouseleave",(function(){e.ViewStateService.mouseInEmuWebApp=!1})),n.element(this.$window).bind("resize",(function(){e.LevelService.deleteEditArea(),e.ViewStateService.setWindowWidth(e.$window.outerWidth),e.ViewStateService.hierarchyState.isShown()&&++e.ViewStateService.hierarchyState.resize,e.$scope.$digest()})),n.element(this.$window).bind("keyup",(function(t){void 0!==e.ConfigProviderService.vals.keyMappings&&(t.keyCode!==e.ConfigProviderService.vals.keyMappings.shift&&t.keyCode!==e.ConfigProviderService.vals.keyMappings.alt||(e.HistoryService.addCurChangeObjToUndoStack(),e.$scope.$digest()))})),n.element(this.$window).bind("blur",(function(){e.ViewStateService.focusOnEmuWebApp=!1})),n.element(this.$document).bind("blur",(function(){e.ViewStateService.focusOnEmuWebApp=!1})),n.element(this.$window).bind("focus",(function(){e.ViewStateService.focusOnEmuWebApp=!0})),n.element(this.$document).bind("focus",(function(){e.ViewStateService.focusOnEmuWebApp=!0})),window.onbeforeunload=function(){if(""===e.ConfigProviderService.embeddedVals.audioGetUrl&&e.LoadedMetaDataService.getBundleList().length>0&&!e.ConfigProviderService.vals.main.autoConnect&&e.HistoryService.movesAwayFromLastSave>0)return"Do you really wish to leave/reload the EMU-webApp? All unsaved changes will be lost..."};var t=this;this.$scope.$on("connectionDisrupted",(function(){t.AppStateService.resetToInitState()})),this.$scope.$on("resetToInitState",(function(){t.loadDefaultConfig()})),this.$scope.$on("reloadToInitState",(function(e,r){t.loadDefaultConfig(),t.ViewStateService.url=r.url,t.ViewStateService.somethingInProgressTxt="Connecting to server...",t.ViewStateService.somethingInProgress=!0,t.IoHandlerService.WebSocketHandlerService.initConnect(r.url).then((function(e){"error"===e.type?t.ModalService.open("views/error.html","Could not connect to websocket server: "+r.url).then((function(){t.AppStateService.resetToInitState()})):t.handleConnectedToWSserver(r)}),(function(e){t.ModalService.open("views/error.html","Could not connect to websocket server: "+JSON.stringify(e,null,4)).then((function(){t.AppStateService.resetToInitState()}))}))}))},this.$onChanges=function(e){this._inited&&(e.audioGetUrl&&(this.ConfigProviderService.embeddedVals.audioGetUrl=e.audioGetUrl.currentValue),e.labelGetUrl&&(this.ConfigProviderService.embeddedVals.labelGetUrl=e.labelGetUrl.currentValue),e.labelType&&(this.ConfigProviderService.embeddedVals.labelType=e.labelGetUrl.currentValue))},this.$onInit=function(){this._inited=!0},this.$scope=e,this.$element=t,this.$window=r,this.$document=i,this.$location=a,this.$timeout=o,this.ViewStateService=s,this.HistoryService=l,this.IoHandlerService=c,this.SoundHandlerService=u,this.ConfigProviderService=h,this.FontScaleService=p,this.SsffDataService=f,this.LevelService=d,this.TextGridParserService=v,this.WavParserService=m,this.DrawHelperService=g,this.ValidationService=S,this.AppcacheHandlerService=w,this.LoadedMetaDataService=y,this.DbObjLoadSaveService=b,this.AppStateService=x,this.DataService=k,this.ModalService=C,this.BrowserDetectorService=$,this.HierarchyLayoutService=P,this.HandleGlobalKeyStrokes=T,this.connectBtnLabel="connect",this.dbLoaded=!1,this.is2dCancasesHidden=!0,this.windowWidth=r.outerWidth,this.internalVars={},this.internalVars.showAboutHint=!1,this.AppcacheHandlerService.checkForNewVersion();var E=this.$location.search();E.audioGetUrl&&E.labelGetUrl&&E.labelType&&(h.embeddedVals.audioGetUrl=E.audioGetUrl,h.embeddedVals.labelGetUrl=E.labelGetUrl,h.embeddedVals.labelType=E.labelType,h.embeddedVals.fromUrlParams=!0),this.loadDefaultConfig(),this.HandleGlobalKeyStrokes.bindGlobalKeys()}return e.prototype.loadFilesForEmbeddedApp=function(){var e=this,t=this.$location.search();if(t.audioGetUrl||t.bndlJsonGetUrl){if(t.audioGetUrl){this.ConfigProviderService.embeddedVals.audioGetUrl=t.audioGetUrl,this.ConfigProviderService.vals.activeButtons.openDemoDB=!1;var r=this.IoHandlerService.httpGetPath(this.ConfigProviderService.embeddedVals.audioGetUrl,"arraybuffer")}else r=this.IoHandlerService.httpGetPath(t.bndlJsonGetUrl,"application/json");r.then((function(r){e.ViewStateService.showDropZone=!1;var n,i=e.ConfigProviderService.embeddedVals.audioGetUrl;e.LoadedMetaDataService.setCurBndlName(i.substr(0,i.lastIndexOf(".")).substr(i.lastIndexOf("/")+1,i.length)),e.ViewStateService.getBundleListSideBarOpen()&&"true"!==t.saveToWindowParent&&e.ViewStateService.toggleBundleListSideBar(Es.a.animationPeriod),e.ViewStateService.somethingInProgressTxt="Loading DB config...",n=t.DBconfigGetUrl?t.DBconfigGetUrl:"configFiles/embedded_emuwebappConfig.json",e.IoHandlerService.httpGetPath(n).then((function(n){return Ls(e,void 0,void 0,(function(){var e,i,a=this;return Vs(this,(function(o){return this.ViewStateService.curPerspectiveIdx=0,this.ConfigProviderService.setVals(n.data.EMUwebAppConfig),!0===(e=this.ValidationService.validateJSO("emuwebappConfigSchema",this.ConfigProviderService.vals))?(this.ConfigProviderService.embeddedVals.fromUrlParams&&(this.ConfigProviderService.vals.main.catchMouseForKeyBinding=!1),this.ConfigProviderService.curDbConfig=n.data,!0===(e=this.ValidationService.validateJSO("DBconfigFileSchema",this.ConfigProviderService.curDbConfig))?("true"===t.saveToWindowParent&&(this.ConfigProviderService.vals.activeButtons.saveBundle=!0),i=[{session:"File(s)",name:"from URL parameters"}],this.LoadedMetaDataService.setBundleList(i),this.LoadedMetaDataService.setCurBndl(i[0]),this.ViewStateService.somethingInProgress=!0,this.ViewStateService.somethingInProgressTxt="Parsing WAV file...",t.audioGetUrl?this.WavParserService.parseWavAudioBuf(r.data).then((function(e){var r,n=e;a.ViewStateService.curViewPort.sS=0,a.ViewStateService.curViewPort.eS=n.length,a.ViewStateService.resetSelect(),a.SoundHandlerService.audioBuffer=n,r=(a.ConfigProviderService.embeddedVals.labelType,"text"),t.labelGetUrl?a.IoHandlerService.httpGetPath(a.ConfigProviderService.embeddedVals.labelGetUrl,r).then((function(e){a.ViewStateService.somethingInProgressTxt="Parsing "+a.ConfigProviderService.embeddedVals.labelType+" file...",a.IoHandlerService.parseLabelFile(e.data,a.ConfigProviderService.embeddedVals.labelGetUrl,"embeddedTextGrid",a.ConfigProviderService.embeddedVals.labelType).then((function(e){return Ls(a,void 0,void 0,(function(){var r,n,i,a,o,s,l,c,u,h,p;return Vs(this,(function(f){switch(f.label){case 0:if(r=e,this.DataService.setData(r),t.DBconfigGetUrl)return[3,3];for(n=[],i=[],a=0,o=r.levels.length;a<o;a++){for(s=r.levels[a],n.push(s.name),l=[],c=0,u=s.items[0].labels.length;c<u;c++)l.push({name:s.items[0].labels[c].name,type:"string"});i.push({name:s.name,type:s.type,attributeDefinitions:l})}return this.ConfigProviderService.curDbConfig.levelDefinitions=i,this.ViewStateService.setCurLevelAttrDefs(this.ConfigProviderService.curDbConfig.levelDefinitions),h=[],i.forEach((function(e){"ITEM"!==e.type&&h.push(e.name)})),this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.order=h,[4,new Ds.HierarchyWorker];case 1:return[4,f.sent().guessLinkDefinitions(r)];case 2:p=f.sent(),this.ConfigProviderService.curDbConfig.linkDefinitions=p,this.ConfigProviderService.vals.activeButtons.showHierarchy=!0,f.label=3;case 3:return this.ViewStateService.setCurLevelAttrDefs(this.ConfigProviderService.curDbConfig.levelDefinitions),this.ViewStateService.somethingInProgressTxt="Done!",this.ViewStateService.somethingInProgress=!1,this.ViewStateService.setState("labeling"),[2]}}))}))}),(function(e){this.ModalService.open("views/error.html","Error parsing wav file: "+e.status.message)}))}),(function(e){this.ModalService.open("views/error.html","Could not get label file: "+this.ConfigProviderService.embeddedVals.labelGetUrl+" ERROR "+JSON.stringify(e.message,null,4))})):(a.ConfigProviderService.vals.activeButtons.downloadAnnotation=!1,a.ConfigProviderService.vals.activeButtons.downloadTextGrid=!1,a.ConfigProviderService.vals.activeButtons.search=!1,a.ViewStateService.somethingInProgressTxt="Done!",a.ViewStateService.somethingInProgress=!1,a.ViewStateService.setState("labeling"))}),(function(e){this.ModalService.open("views/error.html","Error parsing wav file: "+e.status.message)})):this.DbObjLoadSaveService.loadBundle({name:"fromURLparams"},t.bndlJsonGetUrl)):this.ModalService.open("views/error.html","Error validating / checking DBconfig: "+JSON.stringify(e,null,4))):this.ModalService.open("views/error.html","Error validating ConfigProviderService.vals (emuwebappConfig data) after applying changes of newly loaded config (most likely due to wrong entry...): "+JSON.stringify(e,null,4)),[2]}))}))}),(function(t){e.ModalService.open("views/error.html","Could not get embedded_config.json: "+t)}))}),(function(t){e.ModalService.open("views/error.html","Could not get audio file:"+e.ConfigProviderService.embeddedVals.audioGetUrl+" ERROR: "+JSON.stringify(t,null,4))}))}},e.prototype.loadDefaultConfig=function(){var e=this;this.ViewStateService.somethingInProgress=!0,this.ViewStateService.somethingInProgressTxt="Loading schema files",this.ValidationService.loadSchemas().then((function(t){e.ValidationService.setSchemas(t),e.IoHandlerService.httpGetDefaultConfig().then((function(t){e.ViewStateService.somethingInProgressTxt="Validating emuwebappConfig";var r=e.ValidationService.validateJSO("emuwebappConfigSchema",t.data);!0===r?(e.ConfigProviderService.setVals(t.data),n.copy(e.ConfigProviderService.vals,e.ConfigProviderService.initDbConfig),e.handleDefaultConfigLoaded(),e.loadFilesForEmbeddedApp(),e.checkIfToShowWelcomeModal(),e.ViewStateService.somethingInProgress=!1):e.ModalService.open("views/error.html","Error validating / checking emuwebappConfigSchema: "+JSON.stringify(r,null,4)).then((function(){e.AppStateService.resetToInitState()}))}),(function(t){e.ModalService.open("views/error.html","Could not get defaultConfig for EMU-webApp:  status: "+t.status+" headers: "+t.headers+" config "+t.config).then((function(){e.AppStateService.resetToInitState()}))}))}),(function(t){e.ModalService.open("views/error.html","Error loading schema file: "+JSON.stringify(t,null,4)).then((function(){e.AppStateService.resetToInitState()}))}))},e.prototype.checkIfToShowWelcomeModal=function(){var e=this,t=localStorage.getItem("haveShownWelcomeModal"),r=this.$location.search();this.BrowserDetectorService.isBrowser.PhantomJS()||null!==t||void 0===r.viewer_pane||(localStorage.setItem("haveShownWelcomeModal","true"),this.internalVars.showAboutHint=!0),this.internalVars.showAboutHint&&this.$timeout((function(){e.internalVars.showAboutHint=!1}),3e3)},e.prototype.getCurBndlName=function(){return this.LoadedMetaDataService.getCurBndlName()},e.prototype.handleDefaultConfigLoaded=function(){var e=this;this.ViewStateService.getBundleListSideBarOpen()||this.ViewStateService.toggleBundleListSideBar(Es.a.animationPeriod);var t=this.$location.search();(this.ConfigProviderService.vals.main.autoConnect||"true"===t.autoConnect)&&(void 0!==t.serverUrl&&(this.ConfigProviderService.vals.main.serverUrl=t.serverUrl),"GITLAB"!==t.comMode?this.IoHandlerService.WebSocketHandlerService.initConnect(this.ConfigProviderService.vals.main.serverUrl).then((function(t){"error"===t.type?e.ModalService.open("views/error.html","Could not connect to websocket server: "+e.ConfigProviderService.vals.main.serverUrl).then((function(){e.AppStateService.resetToInitState()})):e.handleConnectedToWSserver({session:null,reload:null})}),(function(e){var t=this;this.ModalService.open("views/error.html","Could not connect to websocket server: "+JSON.stringify(e,null,4)).then((function(){t.AppStateService.resetToInitState()}))})):(this.ConfigProviderService.vals.main.comMode="GITLAB",this.handleConnectedToWSserver({session:null,reload:null}))),this.ViewStateService.setspectroSettings(this.ConfigProviderService.vals.spectrogramSettings.windowSizeInSecs,this.ConfigProviderService.vals.spectrogramSettings.rangeFrom,this.ConfigProviderService.vals.spectrogramSettings.rangeTo,this.ConfigProviderService.vals.spectrogramSettings.dynamicRange,this.ConfigProviderService.vals.spectrogramSettings.window,this.ConfigProviderService.vals.spectrogramSettings.drawHeatMapColors,this.ConfigProviderService.vals.spectrogramSettings.preEmphasisFilterFactor,this.ConfigProviderService.vals.spectrogramSettings.heatMapColorAnchors,this.ConfigProviderService.vals.spectrogramSettings.invert),this.ViewStateService.setTransitionTime(Es.a.animationPeriod)},e.prototype.handleConnectedToWSserver=function(e){var t=this,r=e.session,n=e.reload;this.ViewStateService.showDropZone=!1,"GITLAB"!==this.$location.search().comMode&&(this.ConfigProviderService.vals.main.comMode="WS"),this.ConfigProviderService.vals.activeButtons.openDemoDB=!1,this.ViewStateService.somethingInProgress=!0,this.ViewStateService.somethingInProgressTxt="Checking protocol...",this.IoHandlerService.getProtocol().then((function(e){"EMU-webApp-websocket-protocol"===e.protocol&&"0.0.2"===e.version?(t.ViewStateService.somethingInProgressTxt="Checking user management...",t.IoHandlerService.getDoUserManagement().then((function(e){"NO"===e?t.innerHandleConnectedToWSserver({session:r,reload:n}):t.ModalService.open("views/loginModal.html").then((function(e){e?t.innerHandleConnectedToWSserver({session:r,reload:n}):t.AppStateService.resetToInitState()}))}))):t.ModalService.open("views/error.html","Could not connect to websocket server: "+t.ConfigProviderService.vals.main.serverUrl+'. It does not speak the same protocol as this client. Its protocol answer was: "'+e.protocol+'" with the version: "'+e.version+'"').then((function(){t.AppStateService.resetToInitState()}))}))},e.prototype.innerHandleConnectedToWSserver=function(e){var t=this,r=e.session,n=e.reload;this.ViewStateService.somethingInProgressTxt="Loading DB config...",this.IoHandlerService.getDBconfigFile().then((function(e){t.ViewStateService.curPerspectiveIdx=0,t.ConfigProviderService.setVals(e.EMUwebAppConfig);var i=t.ValidationService.validateJSO("emuwebappConfigSchema",t.ConfigProviderService.vals);!0===i?(t.ConfigProviderService.curDbConfig=e,t.ViewStateService.setCurLevelAttrDefs(t.ConfigProviderService.curDbConfig.levelDefinitions),t.ViewStateService.setspectroSettings(t.ConfigProviderService.vals.spectrogramSettings.windowSizeInSecs,t.ConfigProviderService.vals.spectrogramSettings.rangeFrom,t.ConfigProviderService.vals.spectrogramSettings.rangeTo,t.ConfigProviderService.vals.spectrogramSettings.dynamicRange,t.ConfigProviderService.vals.spectrogramSettings.window,t.ConfigProviderService.vals.spectrogramSettings.drawHeatMapColors,t.ConfigProviderService.vals.spectrogramSettings.preEmphasisFilterFactor,t.ConfigProviderService.vals.spectrogramSettings.heatMapColorAnchors,t.ConfigProviderService.vals.spectrogramSettings.invert),t.ViewStateService.setHierarchySettings(t.HierarchyLayoutService.findAllNonPartialPaths().possible[0]),!0===(i=t.ValidationService.validateJSO("DBconfigFileSchema",e))?(t.ViewStateService.somethingInProgressTxt="Loading bundle list...",t.IoHandlerService.getBundleList().then((function(e){i=t.LoadedMetaDataService.setBundleList(e),t.ConfigProviderService.vals.activeButtons.clear=!0,t.ConfigProviderService.vals.activeButtons.specSettings=!0,!0===i?(null===r&&(r=t.LoadedMetaDataService.getBundleList()[0]),t.DbObjLoadSaveService.loadBundle(r).then((function(){})),n&&t.LoadedMetaDataService.openCollapseSession(r.session)):t.ModalService.open("views/error.html","Error validating bundleList: "+JSON.stringify(i,null,4)).then((function(){t.AppStateService.resetToInitState()}))}))):t.ModalService.open("views/error.html","Error validating / checking DBconfig: "+JSON.stringify(i,null,4)).then((function(){t.AppStateService.resetToInitState()}))):t.ModalService.open("views/error.html","Error validating ConfigProviderService.vals (emuwebappConfig data) after applying changes of newly loaded config (most likely due to wrong entry...): "+JSON.stringify(i,null,4)).then((function(){t.AppStateService.resetToInitState()}))}))},e.prototype.getEnlarge=function(e){var t=this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].signalCanvases.order.length;return-1===this.ViewStateService.getenlarge()||1===t?"auto":2===t?this.ViewStateService.getenlarge()===e?"70%":"27%":this.ViewStateService.getenlarge()===e?"50%":45/(t-1)+"%"},e.prototype.cursorInTextField=function(){this.ViewStateService.setcursorInTextField(!0)},e.prototype.cursorOutOfTextField=function(){this.ViewStateService.setcursorInTextField(!1)},e.prototype.addLevelSegBtnClick=function(){if(this.ViewStateService.getPermission("addLevelSegBtnClick")){var e=0;void 0!==this.DataService.data.levels&&(e=this.DataService.data.levels.length);var t="levelNr"+e,r={items:[],name:t,type:"SEGMENT"};if(void 0===this.ViewStateService.getCurAttrDef(t)){var n={name:t,type:"EVENT",attributeDefinitions:{name:t,type:"string"}};this.ViewStateService.setCurLevelAttrDefs(n)}this.LevelService.insertLevel(r,e,this.ViewStateService.curPerspectiveIdx),this.HistoryService.addObjToUndoStack({type:"ANNOT",action:"INSERTLEVEL",level:r,id:e,curPerspectiveIdx:this.ViewStateService.curPerspectiveIdx}),this.ViewStateService.selectLevel(!1,this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.order,this.LevelService)}},e.prototype.addLevelPointBtnClick=function(){if(this.ViewStateService.getPermission("addLevelPointBtnClick")){var e=0;void 0!==this.DataService.data.levels&&(e=this.DataService.data.levels.length);var t="levelNr"+e,r={items:[],name:t,type:"EVENT"};if(void 0===this.ViewStateService.getCurAttrDef(t)){var n={name:t,type:"EVENT",attributeDefinitions:{name:t,type:"string"}};this.ViewStateService.setCurLevelAttrDefs(n)}this.LevelService.insertLevel(r,e,this.ViewStateService.curPerspectiveIdx),this.HistoryService.addObjToUndoStack({type:"ANNOT",action:"INSERTLEVEL",level:r,id:e,curPerspectiveIdx:this.ViewStateService.curPerspectiveIdx}),this.ViewStateService.selectLevel(!1,this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].levelCanvases.order,this.LevelService)}},e.prototype.renameSelLevelBtnClick=function(){this.ViewStateService.getPermission("renameSelLevelBtnClick")&&(void 0!==this.ViewStateService.getcurClickLevelName()?this.ModalService.open("views/renameLevel.html",this.ViewStateService.getcurClickLevelName()):this.ModalService.open("views/error.html","Rename Error : Please choose a Level first !"))},e.prototype.downloadTextGridBtnClick=function(){var e=this;this.ViewStateService.getPermission("downloadTextGridBtnClick")&&this.TextGridParserService.asyncToTextGrid().then((function(t){t=t.replace(/\t/g,"    "),e.ModalService.open("views/export.html",e.LoadedMetaDataService.getCurBndl().name+".TextGrid",t)}))},e.prototype.downloadAnnotationBtnClick=function(){this.ViewStateService.getPermission("downloadAnnotationBtnClick")&&this.ValidationService.validateJSO("emuwebappConfigSchema",this.DataService.getData())&&this.ModalService.open("views/export.html",this.LoadedMetaDataService.getCurBndl().name+"_annot.json",n.toJson(this.DataService.getData(),!0))},e.prototype.settingsBtnClick=function(){this.ViewStateService.getPermission("spectSettingsChange")&&this.ModalService.open("views/settingsModal.html")},e.prototype.connectBtnClick=function(){var e=this;this.ViewStateService.getPermission("connectBtnClick")&&this.ModalService.open("views/connectModal.html").then((function(t){t&&(e.ViewStateService.somethingInProgressTxt="Connecting to server...",e.ViewStateService.somethingInProgress=!0,e.ViewStateService.url=t,e.IoHandlerService.WebSocketHandlerService.initConnect(t).then((function(r){"error"===r.type?e.ModalService.open("views/error.html","Could not connect to websocket server: "+t).then((function(){e.AppStateService.resetToInitState()})):e.handleConnectedToWSserver({session:null,reload:null})}),(function(e){var t=this;this.ModalService.open("views/error.html","Could not connect to websocket server: "+JSON.stringify(e,null,4)).then((function(){t.AppStateService.resetToInitState()}))})))}))},e.prototype.openDemoDBbtnClick=function(e){var t=this;this.ViewStateService.getPermission("openDemoBtnDBclick")&&(this.dropdown=!1,this.ConfigProviderService.vals.activeButtons.openDemoDB=!1,this.LoadedMetaDataService.setDemoDbName(e),this.ViewStateService.showDropZone=!1,this.ViewStateService.somethingInProgress=!0,this.ViewStateService.setState("loadingSaving"),this.ConfigProviderService.vals.main.comMode="DEMO",this.ViewStateService.somethingInProgressTxt="Loading DB config...",this.IoHandlerService.getDBconfigFile(e).then((function(r){var n=r.data;t.ViewStateService.curPerspectiveIdx=0,t.ConfigProviderService.setVals(n.EMUwebAppConfig);var i=t.ValidationService.validateJSO("emuwebappConfigSchema",t.ConfigProviderService.vals);!0===i?(t.ConfigProviderService.curDbConfig=n,t.ViewStateService.setCurLevelAttrDefs(t.ConfigProviderService.curDbConfig.levelDefinitions),!0===(i=t.ValidationService.validateJSO("DBconfigFileSchema",t.ConfigProviderService.curDbConfig))?(t.ViewStateService.somethingInProgressTxt="Loading bundle list...",t.IoHandlerService.getBundleList(e).then((function(e){var r=e.data;t.LoadedMetaDataService.setBundleList(r),t.ConfigProviderService.vals.activeButtons.clear=!0,t.ConfigProviderService.vals.activeButtons.specSettings=!0,t.DbObjLoadSaveService.loadBundle(t.LoadedMetaDataService.getBundleList()[0])}),(function(t){var r=this;this.ModalService.open("views/error.html","Error loading bundle list of "+e+": "+t.data+" STATUS: "+t.status).then((function(){r.AppStateService.resetToInitState()}))}))):t.ModalService.open("views/error.html","Error validating / checking DBconfig: "+JSON.stringify(i,null,4)).then((function(){t.AppStateService.resetToInitState()}))):t.ModalService.open("views/error.html","Error validating ConfigProviderService.vals (emuwebappConfig data) after applying changes of newly loaded config (most likely due to wrong entry...): "+JSON.stringify(i,null,4)).then((function(){t.AppStateService.resetToInitState()}))}),(function(r){t.ModalService.open("views/error.html","Error loading DB config of "+e+": "+r.data+" STATUS: "+r.status).then((function(){t.AppStateService.resetToInitState()}))})))},e.prototype.aboutBtnClick=function(){this.ViewStateService.getPermission("aboutBtnClick")&&this.ModalService.open("views/help.html")},e.prototype.showHierarchyBtnClick=function(){this.ViewStateService.hierarchyState.isShown()||(this.ViewStateService.hierarchyState.toggleHierarchy(),this.ModalService.open("views/showHierarchyModal.html"))},e.prototype.searchBtnClick=function(){this.ViewStateService.getPermission("searchBtnClick")&&this.ModalService.open("views/searchAnnot.html")},e.prototype.clearBtnClick=function(){var e,t=this;e=0!==this.HistoryService.movesAwayFromLastSave&&"DEMO"!==this.ConfigProviderService.vals.main.comMode?"Do you wish to clear all loaded data and if connected disconnect from the server? CAUTION: YOU HAVE UNSAVED CHANGES! These will be lost if you confirm.":"Do you wish to clear all loaded data and if connected disconnect from the server? You have NO unsaved changes so no changes will be lost.",this.ModalService.open("views/confirmModal.html",e).then((function(e){e&&t.AppStateService.resetToInitState()}))},e.prototype.cmdZoomAll=function(){this.ViewStateService.getPermission("zoom")&&(this.LevelService.deleteEditArea(),this.ViewStateService.setViewPort(0,this.SoundHandlerService.audioBuffer.length))},e.prototype.cmdZoomIn=function(){this.ViewStateService.getPermission("zoom")&&(this.LevelService.deleteEditArea(),this.ViewStateService.zoomViewPort(!0))},e.prototype.cmdZoomOut=function(){this.ViewStateService.getPermission("zoom")&&(this.LevelService.deleteEditArea(),this.ViewStateService.zoomViewPort(!1))},e.prototype.cmdZoomLeft=function(){this.ViewStateService.getPermission("zoom")&&(this.LevelService.deleteEditArea(),this.ViewStateService.shiftViewPort(!1))},e.prototype.cmdZoomRight=function(){this.ViewStateService.getPermission("zoom")&&(this.LevelService.deleteEditArea(),this.ViewStateService.shiftViewPort(!0))},e.prototype.cmdZoomSel=function(){this.ViewStateService.getPermission("zoom")&&(this.LevelService.deleteEditArea(),this.ViewStateService.setViewPort(this.ViewStateService.curViewPort.selectS,this.ViewStateService.curViewPort.selectE))},e.prototype.cmdPlayView=function(){this.ViewStateService.getPermission("playaudio")&&(this.SoundHandlerService.playFromTo(this.ViewStateService.curViewPort.sS,this.ViewStateService.curViewPort.eS),this.ViewStateService.animatePlayHead(this.ViewStateService.curViewPort.sS,this.ViewStateService.curViewPort.eS))},e.prototype.cmdPlaySel=function(){this.ViewStateService.getPermission("playaudio")&&(this.SoundHandlerService.playFromTo(this.ViewStateService.curViewPort.selectS,this.ViewStateService.curViewPort.selectE),this.ViewStateService.animatePlayHead(this.ViewStateService.curViewPort.selectS,this.ViewStateService.curViewPort.selectE))},e.prototype.cmdPlayAll=function(){this.ViewStateService.getPermission("playaudio")&&(this.SoundHandlerService.playFromTo(0,this.SoundHandlerService.audioBuffer.length),this.ViewStateService.animatePlayHead(0,this.SoundHandlerService.audioBuffer.length))},e.prototype.showHierarchyPathCanvas=function(){return"true"==localStorage.getItem("showHierarchyPathCanvas")},e}()]};n.module("emuwebApp").component(Is.selector,Is);var Os={selector:"historyActionPopup",template:'\n    <div ng-bind-html="$ctrl.historyActionTxt">\n    test12\n    </div>\n    ',bindings:{historyActionTxt:"<"},controller:["$element","ViewStateService","$animate","$timeout","ConfigProviderService",function(){function e(e,t,r,n,i){this.$element=e,this.ViewStateService=t,this.$animate=r,this.$timeout=n,this.ConfigProviderService=i}return e.prototype.$postLink=function(){},e.prototype.$onChanges=function(e){var t=this;this._inited&&e.historyActionTxt&&""!==this.historyActionTxt&&this.$animate.addClass(this.$element,"emuwebapp-history-fade").then((function(){t.$timeout((function(){t.$animate.removeClass(t.$element,"emuwebapp-history-fade").then((function(){t.$timeout((function(){t.ViewStateService.historyActionTxt=""}),Es.a.animationPeriod)}))}),Es.a.animationPeriod)}))},e.prototype.$onInit=function(){this._inited=!0},e}()]};n.module("emuwebApp").component(Os.selector,Os);var Ns={selector:"progressBar",template:"\n    <div>{{$ctrl.txt}}</div>\n    ",bindings:{open:"<",txt:"<"},controller:["$element","$animate",function(){function e(e,t){this._inited=!1,this.$element=e,this.$animate=t}return e.prototype.$onInit=function(){this._inited=!0},e.prototype.$onChanges=function(e){this._inited&&e.open&&(e.open.currentValue?(this.$animate.removeClass(this.$element,"emuwebapp-shrinkHeightTo0px"),this.$animate.removeClass(this.$element,"emuwebapp-animationStopped"),this.$animate.addClass(this.$element,"emuwebapp-expandHeightTo20px"),this.$animate.addClass(this.$element,"emuwebapp-animationRunning")):(this.$animate.removeClass(this.$element,"emuwebapp-expandHeightTo20px"),this.$animate.removeClass(this.$element,"emuwebapp-animationRunning"),this.$animate.addClass(this.$element,"emuwebapp-shrinkHeightTo0px"),this.$animate.addClass(this.$element,"emuwebapp-animationStopped")))},e}()]};n.module("emuwebApp").component(Ns.selector,Ns);r(213);var Bs={selector:"ssffTrack",template:'\n    <div class="emuwebapp-timeline">\n    <div class="emuwebapp-timelineCanvasContainer">\n        <canvas \n        class="emuwebapp-timelineCanvasMain" \n        width="4096">\n        </canvas>\n        \n        \x3c!--\n        <canvas \n        class="emuwebapp-timelineCanvasSSFF" \n        width="4096" \n        drawssff ssff-trackname="{{$ctrl.trackName}}">\n        </canvas>\n        --\x3e\n        \n        <ssff-canvas\n        track-name="$ctrl.trackName"\n        all-ssff-data="$ctrl.SsffDataService.data"\n        view-port-sample-start="$ctrl.viewPortSampleStart"\n        view-port-sample-end="$ctrl.viewPortSampleEnd"\n        cur-bndl="$ctrl.curBundl"\n        cur-mouse-x="$ctrl.curMouseX"\n        cur-mouse-y="$ctrl.curMouseY"\n        moves-away-from-last-save="$ctrl.HistoryService.movesAwayFromLastSave"\n        ></ssff-canvas>\n\n        \n        <signal-canvas-markup-canvas\n        track-name="$ctrl.trackName"\n        play-head-current-sample="$ctrl.playHeadCurrentSample"\n        moving-boundary-sample="$ctrl.movingBoundarySample"\n        cur-mouse-x="$ctrl.curMouseX"\n        cur-mouse-y="$ctrl.curMouseY"\n        moving-boundary="$ctrl.movingBoundary"\n        view-port-sample-start="$ctrl.viewPortSampleStart"\n        view-port-sample-end="$ctrl.viewPortSampleEnd"\n        view-port-select-start="$ctrl.viewPortSelectStart"\n        view-port-select-end="$ctrl.viewPortSelectEnd"\n        cur-bndl="$ctrl.curBundl"\n        ></signal-canvas-markup-canvas>\n    </div>\n    </div>\n    ',bindings:{trackName:"<",playHeadCurrentSample:"<",movingBoundarySample:"<",curMouseX:"<",curMouseY:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<",viewPortSelectStart:"<",viewPortSelectEnd:"<"},controller:["$element","ConfigProviderService","SsffDataService","DrawHelperService","HistoryService",function(){function e(e,t,r,n,i){this.$element=e,this.ConfigProviderService=t,this.SsffDataService=r,this.DrawHelperService=n,this.HistoryService=i}return e.prototype.$postLink=function(){this.ctx=this.$element.find("canvas")[2].getContext("2d")},e.prototype.$onChanges=function(e){this._inited},e.prototype.$onInit=function(){this._inited=!0},e}()]};n.module("emuwebApp").component(Bs.selector,Bs);r(214);var Fs={selector:"perspectivesSideBar",template:'\n    <nav class="emuwebapp-right-menu" ng-show="$ctrl.ConfigProviderService.vals.restrictions.showPerspectivesSidebar">\n    <button ng-click="$ctrl.ViewStateService.setPerspectivesSideBarOpen(!$ctrl.ViewStateService.getPerspectivesSideBarOpen()); $ctrl.toggleShow();">\n        <i class="material-icons">menu</i>\n      \x3c!-- <img src="img/menu.svg" ="_20px _inverted" /> --\x3e\n    </button>\n    <h3>Perspectives</h3>\n    <ul>\n        <li ng-repeat="persp in $ctrl.ConfigProviderService.vals.perspectives" ng-click="$ctrl.changePerspective(persp); $ctrl.toggleShow();" ng-class="$ctrl.getPerspectiveColor(persp);">\n            {{persp.name}}\n        </li>\n    </ul>\n    </nav>\n    ',bindings:{},controller:["$element","$animate","ConfigProviderService","ViewStateService",function(){function e(e,t,r,n){this.$element=e,this.$animate=t,this.ConfigProviderService=r,this.ViewStateService=n,this._inited=!1}return e.prototype.$postLink=function(){},e.prototype.$onChanges=function(e){this._inited},e.prototype.$onInit=function(){this._inited=!0},e.prototype.changePerspective=function(e){for(var t,r=0;r<this.ConfigProviderService.vals.perspectives.length;r++)e.name===this.ConfigProviderService.vals.perspectives[r].name&&(t=r);this.ViewStateService.switchPerspective(t,this.ConfigProviderService.vals.perspectives),this.ViewStateService.setPerspectivesSideBarOpen(!this.ViewStateService.getPerspectivesSideBarOpen())},e.prototype.getPerspectiveColor=function(e){return-1===this.ViewStateService.curPerspectiveIdx||e.name===this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].name?"emuwebapp-curSelPerspLi":"emuwebapp-perspLi"},e.prototype.toggleShow=function(){this.ViewStateService.getPerspectivesSideBarOpen()?(this.$animate.addClass(this.$element.find("nav")[0],"emuwebapp-expandWidthTo200px"),this.$animate.removeClass(this.$element.find("nav")[0],"emuwebapp-shrinkWidthTo0px")):(this.$animate.removeClass(this.$element.find("nav")[0],"emuwebapp-expandWidthTo200px"),this.$animate.addClass(this.$element.find("nav")[0],"emuwebapp-shrinkWidthTo0px"))},e}()]};n.module("emuwebApp").component(Fs.selector,Fs);var Rs={selector:"newVersionHint",template:'\n    <div class="emuwebapp-aboutHint">\n    <button class="emuwebapp-aboutHint-hidden" ng-click="$ctrl.aboutBtnOverlayClick()"></button>\n    Welcome to the EMU-webApp Version {{version}}\n    <div class="emuwebapp-aboutHint-arrow">click here for more information ⇧</div>\n    </div>\n    ',bindings:{aboutBtnOverlayClick:"&"},controller:function(){function e(){}return e.prototype.$postLink=function(){},e}()};n.module("emuwebApp").component(Rs.selector,Rs);r(215);var Hs={selector:"levelCanvasMarkupCanvas",template:'\n    <canvas \n    class="emuwebapp-level-markup" \n    id="levelMarkupCanvas" \n    width="4096" \n    height="256" \n    ></canvas>\n    ',bindings:{level:"<",idx:"<"},controller:["$scope","$element","ViewStateService","SoundHandlerService","ConfigProviderService","LevelService","HistoryService",function(){function e(e,t,r,n,i,a,o){this.$scope=e,this.$element=t,this.ViewStateService=r,this.SoundHandlerService=n,this.ConfigProviderService=i,this.LevelService=a,this.HistoryService=o,this.lastEventClick=void 0,this.lastEventMove=void 0,this.lastNeighboursMove=void 0,this.lastPCM=void 0,this.curMouseSampleNrInView=void 0}return e.prototype.$postLink=function(){var e=this;this.$element.bind("click",(function(t){t.preventDefault(),e.setLastMove(t,!0),e.setLastClick(t)})),this.$element.bind("contextmenu",(function(t){t.preventDefault(),e.setLastMove(t,!0),e.setLastRightClick(t)})),this.$element.bind("dblclick",(function(t){e.setLastMove(t,!0),e.ConfigProviderService.vals.restrictions.editItemName?e.setLastDblClick(t):e.setLastClick(t)})),this.$element.bind("mousemove",(function(t){var r,n;if(e.ViewStateService.focusOnEmuWebApp){if(!e.ViewStateService.getdragBarActive()){r=!0;var i=e.ViewStateService.getSamplesPerPixelVal(t);if(e.curMouseSampleNrInView=e.ViewStateService.getX(t)*i,n=e.curMouseSampleNrInView-e.lastPCM,i<=1){var a=e.LevelService.getClosestItem(e.curMouseSampleNrInView+e.ViewStateService.curViewPort.sS,e.level.name,e.SoundHandlerService.audioBuffer.length);if("SEGMENT"===e.level.type)if(!0===a.isFirst&&!1===a.isLast)n=Math.ceil(e.curMouseSampleNrInView+e.ViewStateService.curViewPort.sS-e.LevelService.getItemDetails(e.level.name,0).sampleStart);else if(!1===a.isFirst&&!0===a.isLast){var o=e.LevelService.getLastItem(e.level.name);n=Math.ceil(e.curMouseSampleNrInView+e.ViewStateService.curViewPort.sS-o.sampleStart-o.sampleDur)}else n=Math.ceil(e.curMouseSampleNrInView+e.ViewStateService.curViewPort.sS-e.LevelService.getItemFromLevelById(e.level.name,a.nearest.id).sampleStart);else n=Math.ceil(e.curMouseSampleNrInView+e.ViewStateService.curViewPort.sS-e.LevelService.getItemFromLevelById(e.level.name,a.nearest.id).samplePoint-.5)}else n=Math.round(e.curMouseSampleNrInView-e.lastPCM)}switch(void 0===t.buttons?t.which:t.buttons){case 1:case 2:case 3:break;default:if(!e.ViewStateService.getdragBarActive()){var s,l=e.ViewStateService.getcurMouseItem();e.ConfigProviderService.vals.restrictions.editItemSize&&t.shiftKey?(e.LevelService.deleteEditArea(),void 0!==l&&(e.ViewStateService.movingBoundary=!0,"SEGMENT"===e.level.type?(e.ViewStateService.getcurMouseisFirst()||e.ViewStateService.getcurMouseisLast()?e.ViewStateService.getcurMouseisFirst()?(s=e.LevelService.getItemDetails(e.level.name,0),e.ViewStateService.movingBoundarySample=s.sampleStart+n):e.ViewStateService.getcurMouseisLast()&&(s=e.LevelService.getLastItem(e.level.name),e.ViewStateService.movingBoundarySample=s.sampleStart+s.sampleDur+n):(e.ViewStateService.movingBoundarySample=l.sampleStart+n,s=l),e.LevelService.moveBoundary(e.level.name,s.id,n,e.ViewStateService.getcurMouseisFirst(),e.ViewStateService.getcurMouseisLast()),e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEBOUNDARY",name:e.level.name,id:s.id,movedBy:n,isFirst:e.ViewStateService.getcurMouseisFirst(),isLast:e.ViewStateService.getcurMouseisLast()})):(s=l,e.ViewStateService.movingBoundarySample=l.samplePoint+n,e.LevelService.moveEvent(e.level.name,s.id,n),e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEEVENT",name:e.level.name,id:s.id,movedBy:n})),e.lastPCM=e.curMouseSampleNrInView,e.ViewStateService.setLastPcm(e.lastPCM),e.ViewStateService.selectBoundary(),r=!1)):e.ConfigProviderService.vals.restrictions.editItemSize&&t.altKey?(e.LevelService.deleteEditArea(),"SEGMENT"===e.level.type?(void 0!==(s=e.ViewStateService.getcurClickItems())[0]&&(e.LevelService.moveSegment(e.level.name,s[0].id,s.length,n),e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVESEGMENT",name:e.level.name,id:s[0].id,length:s.length,movedBy:n})),e.lastPCM=e.curMouseSampleNrInView,e.ViewStateService.setLastPcm(e.lastPCM),e.ViewStateService.selectBoundary()):"EVENT"===e.level.type&&(void 0!==(s=e.ViewStateService.getcurClickItems())[0]&&s.forEach((function(t){e.LevelService.moveEvent(e.level.name,t.id,n),e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"MOVEEVENT",name:e.level.name,id:t.id,movedBy:n})})),e.lastPCM=e.curMouseSampleNrInView,e.ViewStateService.setLastPcm(e.lastPCM),e.ViewStateService.selectBoundary())):e.ViewStateService.movingBoundary=!1}}e.ViewStateService.getdragBarActive()||e.setLastMove(t,r)}})),this.$element.bind("mousedown",(function(t){e.ViewStateService.movingBoundary=!0,e.setLastMove(t,!0)})),this.$element.bind("mouseup",(function(t){e.ViewStateService.movingBoundary=!1,e.setLastMove(t,!0)})),this.$element.bind("mouseout",(function(t){e.ViewStateService.movingBoundary=!1,e.setLastMove(t,!0)}))},e.prototype.setLastClick=function(e){this.curMouseSampleNrInView=this.ViewStateService.getX(e)*this.ViewStateService.getSamplesPerPixelVal(e),this.LevelService.deleteEditArea(),this.ViewStateService.setEditing(!1),this.lastEventClick=this.LevelService.getClosestItem(this.curMouseSampleNrInView+this.ViewStateService.curViewPort.sS,this.level.name,this.SoundHandlerService.audioBuffer.length),this.ViewStateService.setcurClickLevel(this.level.name,this.level.type,this.idx),void 0!==this.lastEventClick.current&&void 0!==this.lastEventClick.nearest&&(this.LevelService.setlasteditArea("_"+this.lastEventClick.current.id),this.LevelService.setlasteditAreaElem(this.$element.parent()),this.ViewStateService.setcurClickItem(this.lastEventClick.current),this.ViewStateService.selectBoundary()),this.lastPCM=this.curMouseSampleNrInView,this.ViewStateService.setLastPcm(this.lastPCM),this.$scope.$apply()},e.prototype.setLastRightClick=function(e){if(this.ViewStateService.getcurClickLevelName()!==this.level.name&&this.setLastClick(e),this.curMouseSampleNrInView=this.ViewStateService.getX(e)*this.ViewStateService.getSamplesPerPixelVal(e),this.LevelService.deleteEditArea(),this.lastEventClick=this.LevelService.getClosestItem(this.curMouseSampleNrInView+this.ViewStateService.curViewPort.sS,this.level.name,this.SoundHandlerService.audioBuffer.length),void 0!==this.lastEventClick.current&&void 0!==this.lastEventClick.nearest){var t=this.LevelService.getItemInTime(this.ViewStateService.getcurClickLevelName(),this.lastEventClick.current.id,!0),r=this.LevelService.getItemInTime(this.ViewStateService.getcurClickLevelName(),this.lastEventClick.current.id,!1);this.ViewStateService.setcurClickLevel(this.level.name,this.level.type,this.idx),this.ViewStateService.setcurClickItemMultiple(this.lastEventClick.current,t,r),this.ViewStateService.selectBoundary()}this.lastPCM=this.curMouseSampleNrInView,this.ViewStateService.setLastPcm(this.lastPCM),this.$scope.$apply()},e.prototype.setLastDblClick=function(e){this.curMouseSampleNrInView=this.ViewStateService.getX(e)*this.ViewStateService.getSamplesPerPixelVal(e),this.lastEventClick=this.LevelService.getClosestItem(this.curMouseSampleNrInView+this.ViewStateService.curViewPort.sS,this.level.name,this.SoundHandlerService.audioBuffer.length),"25px"!==this.$element.parent().css("height")||this.$element.parent().parent().find("div")[3].click(),void 0!==this.lastEventClick.current&&void 0!==this.lastEventClick.nearest&&this.ViewStateService.getPermission("labelAction")&&("SEGMENT"===this.level.type?this.lastEventClick.current.sampleStart>=this.ViewStateService.curViewPort.sS&&this.lastEventClick.current.sampleStart+this.lastEventClick.current.sampleDur<=this.ViewStateService.curViewPort.eS&&(this.ViewStateService.setcurClickLevel(this.level.name,this.level.type,this.idx),this.ViewStateService.setcurClickItem(this.lastEventClick.current),this.LevelService.setlasteditArea("_"+this.lastEventClick.current.id),this.LevelService.setlasteditAreaElem(this.$element.parent()),this.ViewStateService.setEditing(!0),this.LevelService.openEditArea(this.lastEventClick.current,this.$element.parent(),this.level.type)):(this.ViewStateService.setcurClickLevel(this.level.name,this.level.type,this.idx),this.ViewStateService.setcurClickItem(this.lastEventClick.current),this.LevelService.setlasteditArea("_"+this.lastEventClick.current.id),this.LevelService.setlasteditAreaElem(this.$element.parent()),this.ViewStateService.setEditing(!0),this.LevelService.openEditArea(this.lastEventClick.current,this.$element.parent(),this.level.type),this.ViewStateService.setEditing(!0))),this.lastPCM=this.curMouseSampleNrInView,this.ViewStateService.setLastPcm(this.lastPCM),this.$scope.$apply()},e.prototype.setLastMove=function(e,t){this.curMouseSampleNrInView=this.ViewStateService.getX(e)*this.ViewStateService.getSamplesPerPixelVal(e),this.lastEventMove=this.LevelService.getClosestItem(this.curMouseSampleNrInView+this.ViewStateService.curViewPort.sS,this.level.name,this.SoundHandlerService.audioBuffer.length),t&&void 0!==this.lastEventMove.current&&void 0!==this.lastEventMove.nearest&&(this.lastNeighboursMove=this.LevelService.getItemNeighboursFromLevel(this.level.name,this.lastEventMove.nearest.id,this.lastEventMove.nearest.id),this.ViewStateService.setcurMouseItem(this.lastEventMove.nearest,this.lastNeighboursMove,this.ViewStateService.getX(e),this.lastEventMove.isFirst,this.lastEventMove.isLast)),this.ViewStateService.setcurMouseLevelName(this.level.name),this.ViewStateService.setcurMouseLevelType(this.level.type),this.lastPCM=this.curMouseSampleNrInView,this.ViewStateService.setLastPcm(this.lastPCM),this.$scope.$apply()},e}()]};n.module("emuwebApp").component(Hs.selector,Hs);var js={selector:"epgGridCanvas",template:'\n    <div class="emuwebapp-twoDimCanvasContainer">\n        <canvas width="512" height="512">\n    </canvas></div>\'\n    ',bindings:{curMousePosSample:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<"},controller:["$scope","$element","ViewStateService","ConfigProviderService","SoundHandlerService","SsffDataService","FontScaleService",function(){function e(e,t,r,n,i,a,o){this.$scope=e,this.$element=t,this.ViewStateService=r,this.ConfigProviderService=n,this.SoundHandlerService=i,this.SsffDataService=a,this.FontScaleService=o,this._inited=!1}return e.prototype.$postLink=function(){this.canvas=this.$element.find("canvas")[0]},e.prototype.$onChanges=function(e){this._inited&&this.drawEpgGrid()},e.prototype.$onInit=function(){this._inited=!0},e.prototype.drawEpgGrid=function(){var e=this.canvas.getContext("2d"),t=this.ConfigProviderService.getSsffTrackConfig("EPG"),r=this.SsffDataService.getColumnOfTrack(t.name,t.columnName);if(void 0!==r){var i=this.SsffDataService.getSampleRateAndStartTimeOfTrack(t.name);e.clearRect(0,0,this.canvas.width,this.canvas.height),e.fillStyle="green",e.strokeStyle=Es.a.colorBlack,e.font=Es.a.fontInputSize.slice(0,-2)+"px "+Es.a.fontInputFamily;var a,o=this.canvas.width/8,s=this.canvas.height/8,l=1/i.sampleRate-i.startTime,c=Math.round(this.ViewStateService.curMousePosSample/this.SoundHandlerService.audioBuffer.sampleRate/l),u=n.copy(r.values[c]);u.reverse(),u.forEach((function(t,r){for(a=t.toString(2).split("").reverse();a.length<8;)a.push("0");a.forEach((function(t,n){"1"===t?(e.fillStyle="grey",e.fillRect(n*o+5,s*r+5,o-10,s-10)):(e.fillStyle="white",e.fillRect(n*o+5,s*r+5,o-10,s-10))}))})),this.FontScaleService.drawUndistortedTextTwoLines(e,"EPG","Frame:"+c,3*parseInt(Es.a.fontInputSize.slice(0,-2))/4,Es.a.fontInputFamily,5,0,Es.a.colorBlack,!0)}},e}()]};n.module("emuwebApp").component(js.selector,js);var zs={selector:"dotsCanvas",template:'\n    <div class="emuwebapp-twoDimCanvasContainer">\n    <canvas class="emuwebapp-twoDimCanvasStatic" width="512" height="512">\n    </canvas>\n    <canvas class="emuwebapp-twoDimCanvasDots" width="512" height="512">\n    </canvas>\n    </div>\n    ',bindings:{curBndl:"<",curPerspectiveIdx:"<",curMousePosSample:"<",viewPortSampleStart:"<",viewPortSampleEnd:"<"},controller:["$scope","$element","ViewStateService","ConfigProviderService","SoundHandlerService","SsffDataService","FontScaleService","MathHelperService",function(){function e(e,t,r,n,i,a,o,s){this.$postLink=function(){this.canvas=this.$element.find("canvas")[1],this.staticContoursCanvas=this.$element.find("canvas")[0]},this.$onChanges=function(e){this._inited&&((e.curBndl||e.curPerspectiveIdx)&&this.resetValues(),this.drawDots())},this.$onInit=function(){this._inited=!0},this.$scope=e,this.$element=t,this.ViewStateService=r,this.ConfigProviderService=n,this.SoundHandlerService=i,this.SsffDataService=a,this.FontScaleService=o,this.MathHelperService=s,this.resetValues(),this._inited=!1}return e.prototype.resetValues=function(){this.globalMinX=1/0,this.globalMaxX=-1/0,this.globalMinY=1/0,this.globalMaxY=-1/0,this.startPoint=0,this.endPoint=Math.PI/180*360},e.prototype.setGlobalMinMaxVals=function(){for(var e=this,t=this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].twoDimCanvases.twoDimDrawingDefinitions[0],r=0;r<t.dots.length;r++){var n=this.ConfigProviderService.getSsffTrackConfig(t.dots[r].xSsffTrack),i=this.SsffDataService.getColumnOfTrack(n.name,n.columnName);if(void 0===i)return 1;i._minVal<this.globalMinX&&(this.globalMinX=i._minVal),i._maxVal>this.globalMaxX&&(this.globalMaxX=i._maxVal),n=this.ConfigProviderService.getSsffTrackConfig(t.dots[r].ySsffTrack);var a=this.SsffDataService.getColumnOfTrack(n.name,n.columnName);a._minVal<this.globalMinY&&(this.globalMinY=a._minVal),a._maxVal>this.globalMaxY&&(this.globalMaxY=a._maxVal)}return void 0!==t.staticDots&&t.staticDots.forEach((function(t){t.xCoordinates.forEach((function(r,n){r<e.globalMinX&&(e.globalMinX=r),r>e.globalMaxX&&(e.globalMaxX=r),t.yCoordinates[n]<e.globalMinY&&(e.globalMinY=t.yCoordinates[n]),t.yCoordinates[n]>e.globalMaxY&&(e.globalMaxY=t.yCoordinates[n])}))})),void 0!==t.staticContours&&t.staticContours.forEach((function(t){var r=e.ConfigProviderService.getSsffTrackConfig(t.xSsffTrack),n=e.SsffDataService.getColumnOfTrack(r.name,r.columnName);n._minVal<e.globalMinX&&(e.globalMinX=n._minVal),n._maxVal>e.globalMaxX&&(e.globalMaxX=n._maxVal),r=e.ConfigProviderService.getSsffTrackConfig(t.ySsffTrack);var i=e.SsffDataService.getColumnOfTrack(r.name,r.columnName);i._minVal<e.globalMinY&&(e.globalMinY=i._minVal),i._maxVal>e.globalMaxY&&(e.globalMaxY=i._maxVal)})),0},e.prototype.drawStaticContour=function(){var e=this.staticContoursCanvas.getContext("2d");e.clearRect(0,0,this.staticContoursCanvas.width,this.staticContoursCanvas.height);for(var t=this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].twoDimCanvases.twoDimDrawingDefinitions[0],r=0;r<t.staticContours.length;r++){var n=this.ConfigProviderService.getSsffTrackConfig(t.staticContours[r].xSsffTrack),i=this.SsffDataService.getColumnOfTrack(n.name,n.columnName);n=this.ConfigProviderService.getSsffTrackConfig(t.staticContours[r].ySsffTrack);for(var a=this.SsffDataService.getColumnOfTrack(n.name,n.columnName),o=void 0,s=void 0,l=0;l<i.values.length;l++){var c=this.SsffDataService.getSampleRateAndStartTimeOfTrack(t.staticContours[r].xSsffTrack),u=this.SsffDataService.getSampleRateAndStartTimeOfTrack(t.staticContours[r].ySsffTrack);if(c.sampleRate!==u.sampleRate||c.startSample!==u.startSample)return void alert("xsRaSt.sampleRate !== ysRaSt.sampleRate || xsRaSt.startSample !== ysRaSt.startSample");var h=(i.values[l][t.staticContours[r].xContourNr]-this.globalMinX)/(this.globalMaxX-this.globalMinX)*this.staticContoursCanvas.width,p=this.staticContoursCanvas.height-(a.values[l][t.staticContours[r].yContourNr]-this.globalMinY)/(this.globalMaxY-this.globalMinY)*this.staticContoursCanvas.height;e.strokeStyle=t.staticContours[r].color,e.fillStyle=t.staticContours[r].color,e.beginPath(),e.arc(h,p,2,this.startPoint,this.endPoint,!0),e.fill(),l>=1&&t.staticContours[r].connect&&(e.beginPath(),e.moveTo(o,s),e.lineTo(h,p),e.stroke()),o=h,s=p}}},e.prototype.drawDots=function(){var e=this;if(this.globalMinX===1/0){if(0!==this.setGlobalMinMaxVals())return 1;void 0!==this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].twoDimCanvases.twoDimDrawingDefinitions[0].staticContours&&this.drawStaticContour()}var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height);var r=t.canvas.width/t.canvas.offsetWidth,n=t.canvas.height/t.canvas.offsetHeight;t.beginPath(),t.moveTo(0,0),t.lineTo(5,5),t.moveTo(0,this.canvas.height),t.lineTo(5,this.canvas.height-5),t.moveTo(this.canvas.width,this.canvas.height),t.lineTo(this.canvas.width-5,this.canvas.height-5),t.stroke(),t.closePath();var i=3*parseInt(Es.a.fontInputSize.slice(0,-2))/4;this.FontScaleService.drawUndistortedText(t,"yMax: "+this.MathHelperService.roundToNdigitsAfterDecPoint(this.globalMaxY,2),i,Es.a.fontInputFamily,5,5,Es.a.colorWhite,!0),this.FontScaleService.drawUndistortedTextTwoLines(t,"yMin: "+this.MathHelperService.roundToNdigitsAfterDecPoint(this.globalMinY,2),"xMin: "+this.MathHelperService.roundToNdigitsAfterDecPoint(this.globalMinX,2),i,Es.a.fontInputFamily,5,this.canvas.height-i*n*2-5,Es.a.colorWhite,!0);var a=t.measureText("xMax: "+this.MathHelperService.roundToNdigitsAfterDecPoint(this.globalMaxX,5)).width*r;this.FontScaleService.drawUndistortedText(t,"xMax: "+this.MathHelperService.roundToNdigitsAfterDecPoint(this.globalMaxX,2),i,Es.a.fontInputFamily,this.canvas.width-a-5,this.canvas.height-i*n-5,Es.a.colorWhite,!0);var o=this.ConfigProviderService.vals.perspectives[this.ViewStateService.curPerspectiveIdx].twoDimCanvases.twoDimDrawingDefinitions[0],s=this.SsffDataService.getSampleRateAndStartTimeOfTrack(o.dots[0].xSsffTrack),l=this.SsffDataService.getSampleRateAndStartTimeOfTrack(o.dots[0].ySsffTrack);if(void 0===s||void 0===l)return 1;var c,u=this.ViewStateService.curMousePosSample/this.SoundHandlerService.audioBuffer.sampleRate;c=s.startTime===1/s.sampleRate/2?Math.round(u*s.sampleRate):Math.round(u*s.sampleRate+(s.startTime-1/s.sampleRate/2)*s.sampleRate);var h=this.ConfigProviderService.getSsffTrackConfig(o.dots[0].xSsffTrack),p=this.SsffDataService.getColumnOfTrack(h.name,h.columnName);c>p.values.length-1&&(c=p.values.length-1),a=t.measureText("frame: "+c).width*r;t.save(),t.rotate(90*Math.PI/180),this.FontScaleService.drawUndistortedText(t,"frame: "+c,parseInt(Es.a.fontInputSize.slice(0,-2))-4,Es.a.fontInputFamily,this.canvas.width/2-a/2,-this.canvas.height,Es.a.colorWhite,!0),t.restore();for(var f,d,v=0,m=Math.PI/180*360,g=[],S=0;S<o.dots.length;S++){h=this.ConfigProviderService.getSsffTrackConfig(o.dots[S].xSsffTrack),p=this.SsffDataService.getColumnOfTrack(h.name,h.columnName),h=this.ConfigProviderService.getSsffTrackConfig(o.dots[S].ySsffTrack);var w=this.SsffDataService.getColumnOfTrack(h.name,h.columnName);if(p.values.length!==w.values.length)return void alert("columns do not have same length or length of one not 1");if(s=this.SsffDataService.getSampleRateAndStartTimeOfTrack(o.dots[S].xSsffTrack),l=this.SsffDataService.getSampleRateAndStartTimeOfTrack(o.dots[S].ySsffTrack),s.sampleRate!==l.sampleRate||s.startSample!==l.startSample)return void alert("xsRaSt.sampleRate !== ysRaSt.sampleRate || xsRaSt.startSample !== ysRaSt.startSample");var y=(p.values[c][o.dots[S].xContourNr]-this.globalMinX)/(this.globalMaxX-this.globalMinX)*this.canvas.width,b=this.canvas.height-(w.values[c][o.dots[S].yContourNr]-this.globalMinY)/(this.globalMaxY-this.globalMinY)*this.canvas.height;t.strokeStyle=o.dots[S].color,t.beginPath(),t.arc(y,b,20,v,m,!0),t.stroke(),t.closePath(),t.beginPath(),t.arc(y,b,2,v,m,!0),t.fill(),t.closePath(),this.FontScaleService.drawUndistortedText(t,o.dots[S].name,parseInt(Es.a.fontInputSize.slice(0,-2))-4,Es.a.fontInputFamily,y,b-5,Es.a.colorWhite,!0),g.push({name:o.dots[S].name,x:y,y:b})}return o.connectLines.forEach((function(e){g.forEach((function(t){t.name===e.fromDot&&(f=t),t.name===e.toDot&&(d=t)})),t.strokeStyle=e.color,t.beginPath(),t.moveTo(f.x,f.y),t.lineTo(d.x,d.y),t.stroke(),t.closePath()})),v=0,m=Math.PI/180*360,o.staticDots.forEach((function(r){t.strokeStyle=r.color,t.fillStyle=r.color;var n=(r.xNameCoordinate-e.globalMinX)/(e.globalMaxX-e.globalMinX)*e.canvas.width,i=e.canvas.height-(r.yNameCoordinate-e.globalMinY)/(e.globalMaxY-e.globalMinY)*e.canvas.height;e.FontScaleService.drawUndistortedText(t,r.name,parseInt(Es.a.fontInputSize.slice(0,-2))-4,Es.a.fontInputFamily,n,i,r.color,!0),r.xCoordinates.forEach((function(n,i){var a=(n-e.globalMinX)/(e.globalMaxX-e.globalMinX)*e.canvas.width,o=e.canvas.height-(r.yCoordinates[i]-e.globalMinY)/(e.globalMaxY-e.globalMinY)*e.canvas.height;if(t.beginPath(),t.arc(a,o,2,v,m,!0),t.fill(),t.closePath(),r.connect&&i>=1){var s=(r.xCoordinates[i-1]-e.globalMinX)/(e.globalMaxX-e.globalMinX)*e.canvas.width,l=e.canvas.height-(r.yCoordinates[i-1]-e.globalMinY)/(e.globalMaxY-e.globalMinY)*e.canvas.height;t.beginPath(),t.moveTo(s,l),t.lineTo(a,o),t.stroke(),t.closePath()}}))})),0},e}()]};n.module("emuwebApp").component(zs.selector,zs),n.module("emuwebApp").controller("ExportCtrl",["$scope","$window","ModalService","BrowserDetectorService","ViewStateService","HistoryService",function(e,t,r,n,i,a){e.firefox=n.isBrowser.Firefox(),e.getBlob=function(){var n;try{n=new Blob([r.dataExport],{type:"text/plain"})}catch(r){(n=new(t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder)).append(e.exportData),n=n.getBlob()}return n},e.updateHistoryService=function(){a.movesAwayFromLastSave=0},e.cursorInTextField=function(){i.setEditing(!0),i.setcursorInTextField(!0)},e.cursorOutOfTextField=function(){i.setEditing(!1),i.setcursorInTextField(!1)},e.export=function(){var t;t="object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(e.getBlob()):URL.createObjectURL(e.getBlob()),e.SaveToDisk(t,r.dataIn),r.close()},e.SaveToDisk=function(t,r){var n=document.createElement("a");n.setAttribute("download",r),n.href=t,n.innerHTML="",n.style.display="none",document.body.appendChild(n),n.click(),e.updateHistoryService()}}]),n.module("emuwebApp").controller("LoginCtrl",["$scope","$rootScope","$http","ConfigProviderService","IoHandlerService","ViewStateService","ModalService",function(e,t,r,n,i,a,o){e.loginData={username:"",password:"",errorMsg:""},e.tryLogin=function(){i.logOnUser(e.loginData.username,e.loginData.password).then((function(t){"LOGGEDON"===t?o.confirm():e.loginData.errorMsg="ERROR: "+t}))},e.cursorInTextField=function(){a.setEditing(!0),a.setcursorInTextField(!0)},e.cursorOutOfTextField=function(){a.setEditing(!1),a.setcursorInTextField(!1)},e.cancel=function(){o.close()}}]),n.module("emuwebApp").controller("ManualCtrl",["$scope","ConfigProviderService",function(e,t){e.listOfMarkdownFiles=[{title:"Introduction",url:"manual/Introduction.md"},{title:"EMU-webApp-websocket-protocol",url:"manual/EMU-webApp-websocket-protocol.md"},{title:"Labeling articulatory data",url:"manual/Labeling-articulatory-data.md"}],e.curMdFile=e.listOfMarkdownFiles[0],e.setCurrentMdFile=function(t){e.curMdFile=t},e.isCurrentMdFile=function(t){return t===e.curMdFile.url?{"background-color":Es.a.colorWhite,color:Es.a.colorBlack,"font-weight":"500"}:{"background-color":Es.a.colorBlue,color:Es.a.colorWhite,"font-weight":"400"}}}]),n.module("emuwebApp").controller("ModalCtrl",["$scope","ArrayHelperService","BrowserDetectorService","ModalService","ViewStateService","LevelService","HistoryService","ConfigProviderService",function(e,t,r,n,i,a,o,s){e.cps=s,e.vs=i,e.data=void 0,e.mySelect=null,e.cursorInTextField=function(){i.setEditing(!0),i.setcursorInTextField(!0)},e.cursorOutOfTextField=function(){i.setEditing(!1),i.setcursorInTextField(!1)},e.saveChanges=function(){n.close()},e.discardChanges=function(){n.close()},e.saveURL=function(){var t=e.getURLs();-1===t.indexOf(n.dataOut)&&t.push(n.dataOut),localStorage.setItem("urls",JSON.stringify(t)),e.myUrls=t,e.mySelect=e.myUrls[0]},e.getURLs=function(){var e=localStorage.getItem("urls"),t=[];return r.isBrowser.PhantomJS()||null===e||(t=JSON.parse(e)),t},e.setCurrentURL=function(e){n.dataOut=e},e.deleteURL=function(t){var r=e.getURLs();-1!==r.indexOf(t)&&r.splice(r.indexOf(t),1),localStorage.setItem("urls",JSON.stringify(r)),e.myUrls=r,e.mySelect=e.myUrls[0]},e.renameLevel=function(){a.renameLevel(n.dataIn,e.data,i.curPerspectiveIdx),o.addObjToUndoStack({type:"ANNOT",action:"RENAMELEVEL",newname:e.data,name:n.dataIn,curPerspectiveIdx:i.curPerspectiveIdx}),n.close()},e.deleteLevel=function(){var e=a.getLevelDetails(i.getcurClickLevelName());a.deleteLevel(i.getcurClickLevelIndex(),i.curPerspectiveIdx),o.addObjToUndoStack({type:"ANNOT",action:"DELETELEVEL",level:e,id:i.getcurClickLevelIndex(),curPerspectiveIdx:i.curPerspectiveIdx}),n.close()}}]),n.module("emuwebApp").controller("searchAnnotCtrl",["$scope","ModalService","ViewStateService","HierarchyLayoutService","LevelService","LoadedMetaDataService","ConfigProviderService","StandardFuncsService","DataService",function(e,t,r,n,i,a,o,s,l){e.vs=r,e.hierPaths=n.findAllNonPartialPaths(),e.curHierPathIdx=0,e.curLevels=e.hierPaths.possible[e.curHierPathIdx],e.curLevel=e.curLevels[e.curHierPathIdx],e.curAttrIdx=0,e.curAttrDefs=o.getAttrDefsNames(e.curLevel),e.curAttrDef=e.curAttrDefs[0],e.searchString="",e.useRegExSearch=!1,e.resultTimeAnchors=[],e.changedHierPath=function(){e.curLevels=e.hierPaths.possible[e.curHierPathIdx],e.curLevel=e.curLevels[0],e.curAttrDefs=o.getAttrDefsNames(e.curLevel),e.curAttrDef=e.curAttrDefs[0]},e.changedLevel=function(){e.curAttrDefs=o.getAttrDefsNames(e.curLevel),e.curAttrDef=e.curAttrDefs[0],e.curAttrIdx=e.curAttrDefs.indexOf(e.curAttrDef)},e.changedAttrDef=function(){e.curAttrIdx=e.curAttrDefs.indexOf(e.curAttrDef)},e.cursorInTextField=function(){r.setEditing(!0),r.setcursorInTextField(!0)},e.cursorOutOfTextField=function(){r.setEditing(!1),r.setcursorInTextField(!1)},e.search=function(){n.findParents(e.hierPaths.possible[e.curHierPathIdx]);var t=i.getLevelDetails(e.curLevel);e.resultTimeAnchors=[];for(var r=0;r<t.items.length;r++)e.useRegExSearch?t.items[r].labels[e.curAttrIdx].value.match(e.searchString)&&e.resultTimeAnchors.push({label:t.items[r].labels[e.curAttrIdx].value,sample_start:t.items[r]._derivedSampleStart,sample_end:t.items[r]._derivedSampleEnd}):t.items[r].labels[e.curAttrIdx].value===e.searchString&&e.resultTimeAnchors.push({label:t.items[r].labels[e.curAttrIdx].value,sample_start:t.items[r]._derivedSampleStart,sample_end:t.items[r]._derivedSampleEnd})},e.saveTimeAnchors=function(){a.setTimeAnchors(e.resultTimeAnchors),s.traverseAndClean(l.getData()),t.close()}}]),n.module("emuwebApp").controller("ShowhierarchyCtrl",["$scope","ViewStateService","HistoryService","ModalService","ConfigProviderService","LevelService","HierarchyLayoutService","StandardFuncsService",function(e,t,r,n,i,a,o,s){e.paths={possible:[],possibleAsStr:[],selected:""},e.vs=t,e.HistoryService=r,e.standardFuncServ=s;var l=o.findAllNonPartialPaths();e.paths.possible=l.possible,e.paths.possibleAsStr=l.possibleAsStr,e.paths.selected=e.paths.possibleAsStr[t.hierarchyState.curPathIdx],e.vs.hierarchyState.curNrOfPaths=e.paths.possibleAsStr.length,e.attributeDefinitionClickCounter=0,e.$watch("paths.selected",(function(){t.hierarchyState.path=e.paths.possible[e.getSelIdx()],t.hierarchyState.curPathIdx=e.getSelIdx()}),!1),e.$watch("vs.hierarchyState.curPathIdx",(function(){t.hierarchyState.path=e.paths.possible[e.vs.hierarchyState.curPathIdx],e.paths.selected=e.paths.possibleAsStr[t.hierarchyState.curPathIdx]}),!1),e.getSelIdx=function(){return e.paths.possibleAsStr.indexOf(e.paths.selected)},e.rotateHierarchy=function(){t.hierarchyState.toggleRotation()},e.getRotation=function(){return t.hierarchyState.isRotated()},e.playSelection=function(){++t.hierarchyState.playing},e.getPlaying=function(){return t.hierarchyState.playing},e.isCurrentAttrDef=function(e,r){return t.getCurAttrDef(e)===r},e.setCurrentAttrDef=function(r,n,i){e.attributeDefinitionClickCounter=e.attributeDefinitionClickCounter+1,t.setCurAttrDef(r,n,i)},e.getAllAttrDefs=function(e){return i.getLevelDefinition(e).attributeDefinitions},e.cancel=function(){n.close()}}]),n.module("emuwebApp").controller("TabbedCtrl",["$scope","$timeout","ConfigProviderService","ValidationService","ViewStateService","ModalService",function(e,t,r,i,a,o){e.cps=r,e.vs=a,e.tree=[{title:"Perspectives Configuration",url:"views/config/perspectives.html"},{title:"Spectrogram Settings",url:"views/config/spectro.html"},{title:"Expert Settings",url:"views/config/expert.html"}],e.cps=r,e.modal=o,e.schema=i.getSchema("emuwebappConfigSchema").data.properties,e.modal.dataOut=n.copy(r.vals),e.warning="",e.init=function(){e.options=Object.keys(a.getWindowFunctions()),e.timeMode=Object.keys(a.getTimeModes()),e.comMode=Object.keys(a.getCommunicationModes()),e.signalTypes=Object.keys(a.getSignalTypes()),e.levelTypes=[],r.curDbConfig.ssffTrackDefinitions.forEach((function(t){e.signalTypes.push(t.name)})),r.curDbConfig.levelDefinitions.forEach((function(t){"SEGMENT"!==t.type&&"EVENT"!==t.type||e.levelTypes.push(t.name)})),e.currentSignal=e.signalTypes[0],e.levelTypes.length>0&&(e.currentLevel=e.levelTypes[0])},e.onClickTab=function(t){!1!==t.url&&(e.currentTabUrl=t.url)},e.getType=function(t,r){var n;return e.schema.forEach((function(e,i){i===t&&e.properties.forEach((function(e,t){t===r&&(n=e.type)}))})),n},e.up=function(t,r,n){var i,a=e.modal.dataOut.perspectives[t];r>0&&(0===n?(i=a.signalCanvases.order[r-1],a.signalCanvases.order[r-1]=a.signalCanvases.order[r],a.signalCanvases.order[r]=i):1===n&&(i=a.levelCanvases.order[r-1],a.levelCanvases.order[r-1]=a.levelCanvases.order[r],a.levelCanvases.order[r]=i))},e.down=function(t,r,n){var i,a=e.modal.dataOut.perspectives[t];0===n?void 0!==a.signalCanvases.order[r+1]&&(i=a.signalCanvases.order[r+1],a.signalCanvases.order[r+1]=a.signalCanvases.order[r],a.signalCanvases.order[r]=i):1===n&&void 0!==a.levelCanvases.order[r+1]&&(i=a.levelCanvases.order[r+1],a.levelCanvases.order[r+1]=a.levelCanvases.order[r],a.levelCanvases.order[r]=i)},e.del=function(t,r){var n=e.modal.dataOut.perspectives[t],i=!1,a="";if(void 0!==n.signalCanvases.assign)for(var o=0;o<n.signalCanvases.assign.length;o++)n.signalCanvases.assign[o].signalCanvasName===n.signalCanvases.order[r]&&(i=!0,a=n.signalCanvases.assign[o].signalCanvasName),n.signalCanvases.assign[o].ssffTrackName===n.signalCanvases.order[r]&&(i=!0,a=n.signalCanvases.assign[o].ssffTrackName);i?e.showWarning('Could not delete "'+a+'" because of internal dependencies !'):n.signalCanvases.order.splice(r,1)},e.showWarning=function(r){e.warningSignal=!0,e.warning=r,t((function(){e.warningSignal=!1}),2e3)},e.perspDelete=function(t){e.modal.dataOut.perspectives.splice(t,1)},e.signalAdd=function(t,r){var n=e.modal.dataOut.perspectives[t];void 0===n.signalCanvases.order&&(n.signalCanvases.order=[]),-1===n.signalCanvases.order.indexOf(r)?n.signalCanvases.order.push(r):e.showWarning('Signal "'+r+'" already exists')},e.levelAdd=function(t,r){var n=e.modal.dataOut.perspectives[t];void 0===n.levelCanvases.order&&(n.levelCanvases.order=[]),-1===n.levelCanvases.order.indexOf(r)?n.levelCanvases.order.push(r):e.showWarning('Level "'+r+'" already exists')},e.perspAdd=function(){e.modal.dataOut.perspectives.splice(e.modal.dataOut.perspectives.length,0,{name:"new Perspective",signalCanvases:[],levelCanvases:{order:[]},twoDimCanvases:[]})},e.cursorInTextField=function(){a.setEditing(!0),a.setcursorInTextField(!0)},e.cursorOutOfTextField=function(){a.setEditing(!1),a.setcursorInTextField(!1)},e.onClickTab(e.tree[0]),e.init()}]);var Us=r(144);n.module("emuwebApp").controller("TabbedHelpCtrl",["$scope","$sce","ConfigProviderService","IoHandlerService",function(e,t,r,n){e.cps=r,e.tree=[],e.converter=new a.Converter,n.httpGetPath("manual/index.json",void 0,!0).then((function(t){e.tree=t.data,e.onClickTab(e.tree[0]),e.tree[0].expanded=!0})),e.onClickTab=function(r){r.expanded=!r.expanded,!1!==r.url&&n.httpGetPath(r.url,void 0,!0).then((function(n){"md"===r.url.substr(r.url.lastIndexOf(".")+1).toLowerCase()?(n.data=n.data.replace("@@versionnr",Us.a),e.htmlStr=t.trustAsHtml(e.converter.makeHtml(n.data))):e.htmlStr=t.trustAsHtml(n.data)}))},e.hasChildren=function(e){return void 0!==e.nodes&&e.nodes.length>0}}]),n.module("emuwebApp").directive("dragout",["$window","DataService","LoadedMetaDataService","BrowserDetectorService","ConfigProviderService",function(e,t,r,i,a){return{restrict:"A",replace:!0,scope:{name:"@"},link:function(o,s,l){o.cps=a;var c=s[0];o.generateURL=function(){return o.getURL(n.toJson(t.getData(),!0))},o.isActive=function(){return l.name===r.getCurBndl().name},o.getURL=function(e){return"object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(o.getBlob(e)):URL.createObjectURL(o.getBlob(e))},o.getBlob=function(t){var r;try{r=new Blob([t],{type:"text/plain"})}catch(n){(r=new(e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder)).append(t),r=r.getBlob()}return r},c.addEventListener("dragstart",(function(e){if(o.isActive()){this.classList.add("drag");var t=o.generateURL();(i.isBrowser.Firefox()||i.isBrowser.Chrome())&&void 0!==e.dataTransfer&&e.dataTransfer.setData("DownloadURL","application/json:"+l.name+"_annot.json:"+t)}else e.preventDefault();return!1}),!1),c.addEventListener("dragend",(function(e){return o.isActive()&&(this.classList.remove("drag"),e.preventDefault()),!1}),!1)}}}]),n.module("emuwebApp").directive("modal",["$animate","ModalService",function(e,t){return{restrict:"E",template:'\n\t\t\t<div id="modalDialog" class="emuwebapp-modal">\n\t\t\t\t<div ng-if="modal.isOpen">\n\t\t\t\t\t<button title="Close" id="modal-close" class="emuwebapp-close-button" ng-click="modal.close()" ng-hide="force">\n\t\t\t\t\t\t<i class="material-icons">cancel</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<p class="emuwebapp-modal-inner" ng-include="templateUrl"></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t',replace:!0,scope:{},link:function(e,r){e.templateUrl="",e.modal=t,e.isOpen=!1,e.force=!1,e.dataIn="",e.$watch("modal.isOpen",(function(n){void 0!==n&&(e.templateUrl=t.getTemplateUrl(),e.dataIn=t.dataIn,e.force=t.force,n?r[0].classList.add("emuwebapp-modal-open"):r[0].classList.remove("emuwebapp-modal-open"))})),e.$watch("modal.templateUrl",(function(r){void 0!==r&&(e.templateUrl=r,e.dataIn=t.dataIn,e.force=t.force)}))}}}]),n.module("emuwebApp").directive("myDropZone",["$animate","$compile","DragnDropService","BrowserDetectorService","AppStateService","ModalService",function(e,t,r,n,i,a){return{template:'\n\t\t\t<div id="dropzone" class="emuwebapp-dropzone" ng-class="dropClass">\n\t\t\t\t<span><br />{{dropText}}</span>\n\t\t\t\t<my-drop-zone-input></my-drop-zone-input>\n\t\t  \t</div>',restrict:"E",replace:!0,scope:{},link:function(e,t){e.dropTextDefault="Drop your files here (.wav files; .wav & annotJSON file pairs; .wav & TextGrid file pairs) or click here to do the same with a file dialog",e.dropTextErrorFileType="Error: Could not parse file. The following file types are supported: .WAV .TEXTGRID _annot.json",e.dropTextErrorAPI="Sorry ! The File APIs are not supported in your browser.",e.dropAllowed="Drop file(s) to start loading !",e.dropParsingWaiting=".TextGrid loaded! Please load .WAV file in order to start!",e.dropParsingWAV=".WAV loaded! Proceeding without annotation data.",e.dropParsingWaitingAnnot="Annotation file loaded! Please load .WAV file in order to start!",e.dropFirefoxWarning="Sorry ! Firefox does not support dropping folders ! please drop single or multiple files !",e.dropText=e.dropTextDefault,e.dropClass="",e.dropClassDefault="",e.dropClassOver="over",e.dropClassError="error",e.count=0,e.handles=[],e.bundles=[],e.bundleNames=[],e.updateQueueLength=function(t){e.count+=t},e.enqueueFileAddition=function(t){var r=t.name.substring(t.name.lastIndexOf("_")+1,t.name.lastIndexOf(".")).toUpperCase(),i=t.name.substr(t.name.lastIndexOf(".")+1).toUpperCase(),a="";a="ANNOT"===r?t.name.substr(0,t.name.lastIndexOf("_")):t.name.substr(0,t.name.lastIndexOf("."));var o=e.bundleNames.indexOf(a);-1===o&&(e.bundleNames.push(a),o=e.bundleNames.indexOf(a),e.bundles[o]=[],e.bundles[o][0]=a),"WAV"===i?(e.bundles[o][1]=t,e.handles.push(t),e.dropClass=e.dropClassDefault,e.dropText=e.dropParsingWAV):"TEXTGRID"===i?(e.bundles[o][2]={},e.bundles[o][2].file=t,e.bundles[o][2].type="textgrid",e.handles.push(t),e.dropClass=e.dropClassDefault,e.dropText=e.dropParsingWaiting):"JSON"===i&&"ANNOT"===r?(e.bundles[o][2]={},e.bundles[o][2].file=t,e.bundles[o][2].type="annotation",e.handles.push(t),e.dropClass=e.dropClassDefault,e.dropText=e.dropParsingWaitingAnnot):(n.isBrowser.Firefox()&&0===t.size?(e.dropClass=e.dropClassError,e.dropText=e.dropFirefoxWarning):(e.dropClass=e.dropClassError,e.dropText=e.dropTextErrorFileType),e.handles=[],e.bundles=[],e.bundleNames=[],e.count=0),n.isBrowser.Firefox()||n.isBrowser.Safari()||e.$digest(),void 0!==e.bundles[o]&&e.startRendering()},e.startRendering=function(){e.count===e.handles.length&&(!1===r.setData(e.bundles)&&a.open("views/error.html","Sorry you dropped too many bundles ("+e.handles.length+"). The maximum currently allowed is: "+r.maxDroppedBundles).then((function(){i.resetToInitState()})),e.handles=[],e.bundles=[],e.bundleNames=[],e.count=0,e.dropText=e.dropTextDefault,e.dropClass=e.dropClassDefault)},e.loadFiles=function(t){e.updateQueueLength(t.length);for(var r=0;r<t.length;r++){var n=t[r];if(".DS_Store"===n.name)e.updateQueueLength(-1);else{var i;if(n.isFile||n.isDirectory)i=n;else if(n.getAsEntry)i=n.getAsEntry();else{if(!n.webkitGetAsEntry){if("function"==typeof n.getAsFile){e.enqueueFileAddition(n.getAsFile());continue}if(File&&n instanceof File){e.enqueueFileAddition(n);continue}e.updateQueueLength(-1);continue}i=n.webkitGetAsEntry()}i?i.isFile?i.file((function(t){e.enqueueFileAddition(t)}),(function(e){console.warn(e)})):i.isDirectory&&i.createReader().readEntries((function(t){e.loadFiles(t),e.updateQueueLength(-1)}),(function(e){console.warn(e)})):e.updateQueueLength(-1)}}},e.dropFiles=function(t){t.stopPropagation(),t.preventDefault(),e.$apply((function(){var r;window.File&&window.FileReader&&window.FileList&&window.Blob?void 0!==t.originalEvent&&(r=n.isBrowser.Firefox()||n.isBrowser.Safari()?t.originalEvent.dataTransfer.files:t.originalEvent.dataTransfer.items,e.loadFiles(r)):a.open("views/error.html",e.dropTextErrorAPI).then((function(){e.dropText=e.dropTextDefault,e.dropClass=e.dropClassDefault,i.resetToInitState()}))}))},e.dragEnterLeave=function(t){t.preventDefault(),e.$apply((function(){e.dropText=e.dropTextDefault,e.dropClass=e.dropClassDefault}))},e.handleDragOver=function(t){t.preventDefault(),e.$apply((function(){e.dropText=e.dropAllowed,e.dropClass=e.dropClassOver}))},t.bind("drop",(function(t){e.dropFiles(t)})),t.bind("dragover",(function(t){e.handleDragOver(t)})),t.bind("dragenter",(function(t){e.dragEnterLeave(t)})),t.bind("dragleave",(function(t){e.dragEnterLeave(t)})),t.bind("click",(function(){t.find("input")[0].click()}))}}}]),n.module("emuwebApp").directive("myDropZoneInput",(function(){return{template:'<input style="display:none;" id="fileDialog" ng-model="files" type="file" multiple accept="{{acceptFile}}" />',restrict:"E",scope:{},link:function(e,t){e.acceptGrid=".TextGrid",e.acceptWav="audio/wav, audio/x-wav, audio/wave, audio/x-pn-wav",e.acceptJson="application/json",e.acceptBoth=e.acceptWav+","+e.acceptGrid+","+e.acceptJson,e.acceptFile=e.acceptBoth,e.handleFilesonChange=function(){var r=t[0].firstChild.files;e.$parent.loadFiles(r)},t.bind("change",(function(t){e.handleFilesonChange(t)})),t.bind("click",(function(){var e=n.element("input");void 0!==e[1]&&e[1].click()}))}}})),n.module("emuwebApp").directive("bgSplitter",["$rootScope","ViewStateService",function(e,t){return{restrict:"E",replace:!0,transclude:!0,scope:{showTwoDimCans:"@"},template:'<div class="emuwebapp-split-panes vertical" ng-transclude></div>',controller:["$scope",function(e){e.panes=[],e.bottomRightResizePane=void 0,this.addPane=function(t){if(e.panes.length>1)throw"splitters can only have two panes";return e.panes.push(t),e.panes.length},this.setBottomRightResizePane=function(t){e.bottomRightResizePane=t}}],link:function(r,i,a){var o=!1,s=!1,l=!1,c=n.element('<div id="emuwebapp-split-handler" class="emuwebapp-split-handler"><span></span></div>'),u=r.panes[0],h=r.panes[1],p=r.bottomRightResizePane,f=n.element('<div class="topBorder"></div>'),d=n.element('<div class="leftBorder"></div>'),v=n.element('<div class="corner"></div>');p.elem.prepend(d),p.elem.prepend(f),p.elem.prepend(v);var m=u.minSize||0,g=h.minSize||0,S=!1,w=!1;u.elem.after(c),a.$observe("showTwoDimCans",(function(e){"false"===e?r.bottomRightResizePane.elem.hide():r.bottomRightResizePane.elem.show()})),i.bind("mousemove",(function(r){if(w){var n,a,f,d=i[0].getBoundingClientRect(),v=0;if(S){if(n=d.bottom-d.top,(v=r.clientY-d.top)<m)return;if(n-v<g)return;c.css("top",v+"px"),u.elem.css("height",v+"px"),h.elem.css("top",v+"px"),t.setdragBarHeight(v),e.$digest()}if(o){if(n=d.bottom-d.top,(v=r.clientY-d.top)<=10||n-v<=10)return;p.elem.css("top",v+"px"),f=n-v,p.elem.css("height",f+"px")}if(s){if(a=d.right-d.left,(v=r.clientX-d.left)<=10||a-v<=10)return;f=a-v,p.elem.css("width",f+"px")}if(l){if(n=d.bottom-d.top,(v=r.clientY-d.top)<=10||n-v<=10)return;if(p.elem.css("top",v+"px"),f=n-v,p.elem.css("height",f+"px"),a=d.right-d.left,(v=r.clientX-d.left)<=10||a-v<=10)return;f=a-v,p.elem.css("width",f+"px")}}})),c.bind("mousedown",(function(r){r.preventDefault(),w=!0,S=!0,t.setdragBarActive(!0),e.$digest()})),f.bind("mousedown",(function(r){r.preventDefault(),w=!0,o=!0,t.setdragBarActive(!0),e.$digest()})),d.bind("mousedown",(function(r){r.preventDefault(),w=!0,s=!0,t.setdragBarActive(!0),e.$digest()})),v.bind("mousedown",(function(r){r.preventDefault(),w=!0,l=!0,t.setdragBarActive(!0),e.$digest()})),n.element(document).bind("mouseup",(function(){w=!1,S=!1,o=!1,s=!1,l=!1,t.setdragBarActive(!1),e.$digest()}))}}}]).directive("bgPane",(function(){return{restrict:"E",require:"^bgSplitter",replace:!0,transclude:!0,scope:{minSize:"=",type:"@",showTwoDimCans:"@"},template:'<div class="{{typeclass}}" ng-transclude></div>',link:function(e,t,r,n){"emuwebapp-2d-map"!==e.type?(e.elem=t,e.index=n.addPane(e),e.typeclass="split-pane"+e.index):(e.elem=t,e.index=3,e.typeclass="emuwebapp-2d-map",n.setBottomRightResizePane(e))}}})),n.module("emuwebApp").filter("levelsFilter",["ConfigProviderService","ViewStateService",function(e,t){return function(r){if(r){for(var n=new RegExp("SEGMENT|EVENT"),i=[],a=0;a<r.length;a++)n.test(r[a].type)&&void 0!==e.vals.perspectives[t.curPerspectiveIdx].levelCanvases&&-1!==e.vals.perspectives[t.curPerspectiveIdx].levelCanvases.order.indexOf(r[a].name)&&i.push(r[a]);return i}}}]),n.module("emuwebApp").filter("regex",(function(){return function(e,t){for(var r=new RegExp(t.toLowerCase()),n=[],i=0;i<e.length;i++)r.test(e[i].name.toLowerCase())&&n.push(e[i]);return n}})),n.module("emuwebApp").filter("startFrom",(function(){return function(e,t){return t=+t,e.slice(t)}}));r(216),r(220),r(237),r(242),r(244),r(246),r(259),r(278),r(301),r(309),r(334),r(337),r(338),r(339),r(355),r(368),r(370);var Ws=function(){function e(e,t,r,n,i,a,o,s,l,c,u){this.$q=e,this.$log=t,this.ViewStateService=r,this.LevelService=n,this.LinkService=i,this.ConfigProviderService=a,this.SsffDataService=o,this.ArrayHelperService=s,this.ModalService=l,this.HistoryService=c,this.DataService=u}return e.prototype.insertAnagestEvents=function(){var e=this,t=this.$q.defer();if(0!==this.ViewStateService.getItemsInSelection(this.DataService.data.levels).length)return this.ModalService.open("views/error.html","There are already events in the selected area! This is not permitted...").then((function(){t.reject()})),t;var r=this.ConfigProviderService.getLevelDefinition(this.ViewStateService.getcurClickLevelName()).anagestConfig.verticalPosSsffTrackName,n=this.ConfigProviderService.getSsffTrackConfig(r),i=this.SsffDataService.getColumnOfTrack(n.name,n.columnName),a=this.SsffDataService.getSampleRateAndStartTimeOfTrack(n.name),o=this.ConfigProviderService.getLevelDefinition(this.ViewStateService.getcurClickLevelName()).anagestConfig.velocitySsffTrackName,s=this.ConfigProviderService.getSsffTrackConfig(o),l=this.SsffDataService.getColumnOfTrack(s.name,s.columnName);if(1!==i.length||1!==l.length)return this.ModalService.open("views/error.html","UPS... the column length of of one of the tracks is != 1 this means something is badly configured in the DB!!!").then((function(){t.reject()})),t;var c,u=this.ArrayHelperService.flattenArrayOfArray(i.values),h=this.ArrayHelperService.flattenArrayOfArray(l.values),p=[NaN,NaN],f=[NaN,NaN],d=[NaN,NaN],v=[NaN];c="valley"!==this.ConfigProviderService.getLevelDefinition(this.ViewStateService.getcurClickLevelName()).anagestConfig.gestureDirection,h=this.ArrayHelperService.convertToAbsValues(h);var m,g=this.ViewStateService.getSelectedStartTime(),S=this.ViewStateService.getSelectedEndTime(),w=Math.round(g*a.sampleRate+a.startTime),y=Math.round(S*a.sampleRate+a.startTime)-w,b=u.slice(w,w+y),x=h.slice(w,w+y);c?(m=this.ArrayHelperService.findMinMax(b,"max"),v[0]=m.idx):(m=this.ArrayHelperService.findMinMax(b,"min"),v[0]=m.idx);var k=this.ArrayHelperService.findMinMax(x.slice(0,v[0]+1),"max");f[0]=k.idx;var C=this.ArrayHelperService.findMinMax(x.slice(0,f[0]+1),"min");return this.$log.info("Looking for gesture onset"),this.interactiveFindThresholds(x.slice(0,f[0]+1),C.val,k.val,this.ConfigProviderService.getLevelDefinition(this.ViewStateService.getcurClickLevelName()).anagestConfig.threshold,1,"Looking for gesture onset").then((function(r){var n=r;p[0]=n;var i=e.ArrayHelperService.findMinMax(x.slice(f[0],v[0]+1),"min"),o=i.idx+f[0];e.$log.info("Looking for nucleus onset"),e.interactiveFindThresholds(x.slice(f[0],o+1),i.val,k.val,e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.threshold,-1,"Looking for nucleus onset").then((function(r){var n=r;d[0]=n+f[0];var i=e.ArrayHelperService.findMinMax(x.slice(v[0]),"max");f[1]=i.idx+v[0];var s=e.ArrayHelperService.findMinMax(x.slice(v[0],f[1]+1),"min");o=s.idx+v[0],e.$log.info("Looking for nucleus offset"),e.interactiveFindThresholds(x.slice(o,f[1]+1),s.val,i.val,e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.threshold,1,"Looking for nucleus offset").then((function(r){var n=r;d[1]=n+o;var s=e.ArrayHelperService.findMinMax(x.slice(f[1]),"min");o=s.idx+f[1],e.$log.info("Looking for gesture offset"),e.interactiveFindThresholds(x.slice(f[1],o+1),s.val,i.val,e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.threshold,-1,"Looking for gesture offset").then((function(r){var n,i=r;p[1]=i+f[1],p[0]=e.SsffDataService.calculateSamplePosInVP(w+p[0],a.sampleRate,a.startTime),p[1]=e.SsffDataService.calculateSamplePosInVP(w+p[1],a.sampleRate,a.startTime),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.gestureOnOffsetLabels[0];var o=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),p[0],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:p[0],id:o.id,pointName:n}),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.gestureOnOffsetLabels[1];var s=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),p[1],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:p[1],id:s.id,pointName:n}),f[0]=e.SsffDataService.calculateSamplePosInVP(w+f[0],a.sampleRate,a.startTime),f[1]=e.SsffDataService.calculateSamplePosInVP(w+f[1],a.sampleRate,a.startTime),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.maxVelocityOnOffsetLabels[0];var l=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),f[0],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:f[0],id:l.id,pointName:n}),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.maxVelocityOnOffsetLabels[1];var c=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),f[1],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:f[1],id:c.id,pointName:n}),d[0]=e.SsffDataService.calculateSamplePosInVP(w+d[0],a.sampleRate,a.startTime),d[1]=e.SsffDataService.calculateSamplePosInVP(w+d[1],a.sampleRate,a.startTime),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.constrictionPlateauBeginEndLabels[0];var u=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),d[0],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:d[0],id:u.id,pointName:n}),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.constrictionPlateauBeginEndLabels[1];var h=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),d[1],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:d[1],id:h.id,pointName:n}),v[0]=e.SsffDataService.calculateSamplePosInVP(w+v[0],a.sampleRate,a.startTime),n=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.maxConstrictionLabel;var m=e.LevelService.insertEvent(e.ViewStateService.getcurClickLevelName(),v[0],n);e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTEVENT",name:e.ViewStateService.getcurClickLevelName(),start:v[0],id:m.id,pointName:n});var g=e.ConfigProviderService.getLevelDefinition(e.ViewStateService.getcurClickLevelName()).anagestConfig.autoLinkLevelName,S=e.LevelService.getLevelDetails(g),y=e.LevelService.getAllLabelsOfLevel(S);e.ModalService.open("views/SelectLabelModal.html",y,void 0,!0).then((function(t){if(!1!==t){var r=[o.id,s.id,l.id,c.id,u.id,h.id,m.id];e.LinkService.insertLinksTo(S.items[t].id,r),e.HistoryService.updateCurChangeObj({type:"ANNOT",action:"INSERTLINKSTO",name:S.name,parentID:S.items[t].id,childIDs:r}),e.HistoryService.addCurChangeObjToUndoStack()}})),t.resolve()}))}))}))}),(function(){})),t.promise},e.prototype.interactiveFindThresholds=function(e,t,r,n,i,a){var o,s=this,l=t+(r-t)*n,c=i;l*=c;var u=this.ArrayHelperService.multiplyEachElement(e,c),h=u.length,p=u.slice(1,h),f=h-1,d=[];for(o=0;o<u.length;o++)p[o]>=l&&u[o]<l&&d.push(o);var v=[];for(o=0;o<d.length;o++)d[o]>=0&&d[o]<=f&&v.push(o);if(v.length>1){var m=this.$q.defer(),g={};for(g.description=a,g.options=[],g.y=u,g.minVal=t,g.maxVal=r,g.threshold=n,o=0;o<d.length;o++)g.options.push({thresholdIdx:d[o],thresholdValue:u[o]});return this.ModalService.open("views/SelectThresholdModal.html",g,void 0,!0).then((function(e){var t=d[v[e]];t=s.ArrayHelperService.interp2points(u[t],t,u[t+1],t+1,l),m.resolve(t)})),m.promise}if(0===v.length)return m=this.$q.defer(),this.ModalService.open("views/error.html","Could not find any values that step over the threshold!!").then((function(){m.reject("Could not find any values that step over the threshold!!")})),m.promise;m=this.$q.defer();var S=d[v[0]];return S=this.ArrayHelperService.interp2points(u[S],S,u[S+1],S+1,l),m.resolve(S),m.promise},e}();n.module("emuwebApp").service("AnagestService",["$q","$log","ViewStateService","LevelService","LinkService","ConfigProviderService","SsffDataService","ArrayHelperService","ModalService","HistoryService","DataService",Ws]);var Gs=function(){function e(e,t){this.$http=e,this.ModalService=t}return e.prototype.handleUpdatereadyEvent=function(){},e.prototype.checkForNewVersion=function(){navigator},e}();n.module("emuwebApp").service("AppcacheHandlerService",["$http","ModalService",Gs]);var qs=function(){function e(e,t,r,n,i,a,o,s,l,c,u,h){this.$log=e,this.$rootScope=t,this.$location=r,this.DragnDropService=n,this.DragnDropDataService=i,this.ViewStateService=a,this.IoHandlerService=o,this.LoadedMetaDataService=s,this.SoundHandlerService=l,this.DataService=c,this.SsffDataService=u,this.HistoryService=h}return e.prototype.resetToInitState=function(){var e=this;this.IoHandlerService.WebSocketHandlerService.isConnected()&&this.IoHandlerService.WebSocketHandlerService.disconnectWarning().then((function(){e.$log.info("Closing websocket connection to server"),e.IoHandlerService.WebSocketHandlerService.closeConnect()})),this.LoadedMetaDataService.resetToInitState(),this.SoundHandlerService.audioBuffer={},this.DataService.setData({}),this.DragnDropDataService.resetToInitState(),this.DragnDropService.resetToInitState(),this.SsffDataService.data=[],this.HistoryService.resetToInitState(),this.ViewStateService.setState("noDBorFilesloaded"),this.ViewStateService.somethingInProgress=!1,this.ViewStateService.resetToInitState(),this.HistoryService.resetToInitState(),this.ViewStateService.showDropZone=!0,this.$location.url(this.$location.path()),this.$rootScope.$broadcast("resetToInitState")},e.prototype.reloadToInitState=function(e){this.IoHandlerService.WebSocketHandlerService.closeConnect();var t=this.ViewStateService.url;this.LoadedMetaDataService.resetToInitState(),this.SoundHandlerService.audioBuffer={},this.DataService.setData({}),this.DragnDropDataService.resetToInitState(),this.DragnDropService.resetToInitState(),this.SsffDataService.data=[],this.HistoryService.resetToInitState(),this.ViewStateService.setState("noDBorFilesloaded"),this.ViewStateService.somethingInProgress=!1,this.HistoryService.resetToInitState(),this.ViewStateService.resetToInitState(),this.$rootScope.$broadcast("reloadToInitState",{url:t,session:e,reload:!0})},e}();n.module("emuwebApp").service("AppStateService",["$log","$rootScope","$location","DragnDropService","DragnDropDataService","ViewStateService","IoHandlerService","LoadedMetaDataService","SoundHandlerService","DataService","SsffDataService","HistoryService",qs]);var Ys=function(){function e(){}return e.prototype.convertToAbsValues=function(e){for(var t=0;t<e.length;t++)e[t]=Math.abs(e[t]);return e},e.prototype.multiplyEachElement=function(e,t){for(var r=0;r<e.length;r++)e[r]=e[r]*t;return e},e.prototype.interp2points=function(e,t,r,n,i){return t+(i-e)/(r-e)*(n-t)},e.prototype.findMinMax=function(e,t){var r,n,i;if("min"===t)for(r=1/0,i=0;i<e.length;i++)e[i]<r&&(r=e[i],n=i);else if("max"===t)for(r=-1/0,i=0;i<e.length;i++)e[i]>r&&(r=e[i],n=i);return{val:r,idx:n}},e.prototype.flattenArrayOfArray=function(e){var t=[];return t=t.concat.apply(t,e)},e.prototype.convertArrayToXYjsoArray=function(e){for(var t=[],r=0;r<e.length;r++)t.push({x:r,y:e[r]});return t},e}();n.module("emuwebApp").service("ArrayHelperService",Ys);var Xs=function(){function e(){}return e.prototype.base64ToArrayBuffer=function(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++){var a=t.charCodeAt(i);n[i]=a}return n.buffer},e.prototype.arrayBufferToBase64=function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return window.btoa(t)},e}();n.module("emuwebApp").service("BinaryDataManipHelperService",Xs);var Zs=function(){function e(){var e=this;this.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.isMobile.Android()||e.isMobile.BlackBerry()||e.isMobile.iOS()||e.isMobile.Opera()||e.isMobile.Windows()}},this.isBrowser={Firefox:function(){return navigator.userAgent.match(/Firefox/i)},Chrome:function(){return navigator.userAgent.match(/Chrome/i)},InternetExplorer:function(){return navigator.userAgent.match(/MSIE/i)},Opera:function(){return navigator.userAgent.match(/Opera/i)},PhantomJS:function(){return navigator.userAgent.match(/PhantomJS/i)},HeadlessChrome:function(){return navigator.userAgent.match(/HeadlessChrome/i)},Safari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},any:function(){return e.isBrowser.Firefox()||e.isBrowser.Chrome()||e.isBrowser.InternetExplorer()||e.isBrowser.Opera()||e.isBrowser.Safari()||e.isBrowser.PhantomJS()}}}return e.prototype.isMobileDevice=function(){var e=this.isMobile.any();return null!==e&&e.length>0},e.prototype.isDesktopDevice=function(){var e=this.isBrowser.any();return null!==e&&e.length>0},e}();n.module("emuwebApp").service("BrowserDetectorService",Zs);r(371);var Ks=function(){function e(){this.data={levels:[]},this.maxItemID=0}return e.prototype.getData=function(){return this.data},e.prototype.setLevelData=function(e){this.data.levels=e},e.prototype.getLevelData=function(){return this.data.levels},e.prototype.getLevelOrder=function(e){if(void 0!==this.data.levels)return this.data.levels.sort((function(t,r){return e.indexOf(t.name)-e.indexOf(r.name)}))},e.prototype.getLevelDataAt=function(e){return this.data.levels[e]},e.prototype.insertLevelDataAt=function(e,t){this.data.levels.splice(e,0,t)},e.prototype.deleteLevelDataAt=function(e){this.data.levels.splice(e,1)},e.prototype.getLinkData=function(){return this.data.links},e.prototype.setLinkData=function(e){this.data.links=e},e.prototype.insertLinkData=function(e){this.data.links.push(e)},e.prototype.deleteLinkDataAt=function(e){this.data.links.splice(e,1)},e.prototype.insertLinkDataAt=function(e,t){this.data.links.splice(e,0,t)},e.prototype.changeLinkDataAt=function(e,t,r){this.data.links[e].fromID=t,this.data.links[e].toID=r},e.prototype.setData=function(e){var t=this;n.copy(e,this.data),void 0!==this.data.levels&&this.data.levels.forEach((function(e){e.items.forEach((function(e){e.id>t.maxItemID&&(t.maxItemID=e.id)}))}))},e.prototype.getNewId=function(){return this.maxItemID+=1,this.maxItemID},e.prototype.raiseId=function(e){this.maxItemID+=e},e.prototype.lowerId=function(e){this.maxItemID-=e},e}();n.module("emuwebApp").service("DataService",Ks);var Js=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},Qs=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},el=function(){function e(e,t,r,n,i,a,o,s,l,c,u,h,p,f,d,v,m,g,S){this.$log=e,this.$q=t,this.$http=r,this.DataService=n,this.ViewStateService=i,this.HistoryService=a,this.LoadedMetaDataService=o,this.SsffDataService=s,this.IoHandlerService=l,this.BinaryDataManipHelperService=c,this.WavParserService=u,this.SoundHandlerService=h,this.SsffParserService=p,this.ValidationService=f,this.LevelService=d,this.ModalService=v,this.ConfigProviderService=m,this.AppStateService=g,this.StandardFuncsService=S}return e.prototype.innerLoadBundle=function(e,t,r,n){var i=this;this.ViewStateService.somethingInProgressTxt="Parsing WAV file...",this.WavParserService.parseWavAudioBuf(r).then((function(r){var a=r;i.ViewStateService.curViewPort.sS=0,i.ViewStateService.curViewPort.eS=a.length,void 0!==e.timeAnchors&&e.timeAnchors.length>0?(i.ViewStateService.curViewPort.selectS=e.timeAnchors[0].sample_start,i.ViewStateService.curViewPort.selectE=e.timeAnchors[0].sample_end):i.ViewStateService.resetSelect(),i.ViewStateService.curTimeAnchorIdx=-1,i.ViewStateService.curClickSegments=[],i.ViewStateService.curClickLevelName=void 0,i.ViewStateService.curClickLevelType=void 0,i.SoundHandlerService.audioBuffer=a;var o=[];t.ssffFiles.forEach((function(e){"GETURL"===e.encoding&&(e.data=i.IoHandlerService.httpGetPath(e.data,"arraybuffer"),o.push(e.data),e.encoding="ARRAYBUFFER")}));var s=!1;if(0===o.length){var l=i.$q.defer();s=!0,o.push(l.promise),l.resolve()}i.$q.all(o).then((function(r){for(var a=0;a<r.length;a++)s||(t.ssffFiles[a].data=r[a]);i.ViewStateService.somethingInProgressTxt="Parsing SSFF files...",i.SsffParserService.asyncParseSsffArr(t.ssffFiles).then((function(r){i.SsffDataService.data=r.data,i.DataService.setData(t.annotation),i.LoadedMetaDataService.setCurBndl(e),i.ViewStateService.selectLevel(!1,i.ConfigProviderService.vals.perspectives[i.ViewStateService.curPerspectiveIdx].levelCanvases.order,i.LevelService),i.ViewStateService.setState("labeling"),i.ViewStateService.somethingInProgress=!1,i.ViewStateService.somethingInProgressTxt="Done!",n.resolve()}),(function(e){i.ModalService.open("views/error.html","Error parsing SSFF file: "+e.status.message).then((function(){i.AppStateService.resetToInitState()}))}))}))}),(function(e){i.ModalService.open("views/error.html","Error parsing wav file: "+e.status.message).then((function(){i.AppStateService.resetToInitState()}))}))},e.prototype.loadBundle=function(e,t){var r=this,n=this.$q.defer();if(this.ViewStateService.setcurClickItem(null),0!==this.HistoryService.movesAwayFromLastSave&&"DEMO"!==this.ConfigProviderService.vals.main.comMode&&this.ConfigProviderService.vals.activeButtons.saveBundle){var i=this.LoadedMetaDataService.getCurBndl();e!==i&&this.ModalService.open("views/saveChanges.html",i.session+":"+i.name).then((function(t){"saveChanges"===t?r.saveBundle().then((function(){r.loadBundle(e,"")})):"discardChanges"===t&&(r.HistoryService.resetToInitState(),r.loadBundle(e,""))}))}else if(e!==this.LoadedMetaDataService.getCurBndl()){if(this.HistoryService.resetToInitState(),this.ViewStateService.hierarchyState.reset(),this.LevelService.deleteEditArea(),this.ViewStateService.setEditing(!1),this.ViewStateService.setState("loadingSaving"),this.ViewStateService.somethingInProgress=!0,this.ViewStateService.somethingInProgressTxt="Loading bundle: "+e.name,this.SsffDataService.data=[],t)a=this.$http.get(t);else var a=this.IoHandlerService.getBundle(e.name,e.session,this.LoadedMetaDataService.getDemoDbName());a.then((function(t){return Js(r,void 0,void 0,(function(){var r,i,a=this;return Qs(this,(function(o){return 200===t.status&&(t=t.data),!0===(r=this.ValidationService.validateJSO("bundleSchema",t))?"BASE64"===t.mediaFile.encoding?(i=this.BinaryDataManipHelperService.base64ToArrayBuffer(t.mediaFile.data),this.innerLoadBundle(e,t,i,n)):"GETURL"===t.mediaFile.encoding&&this.IoHandlerService.httpGetPath(t.mediaFile.data,"arraybuffer").then((function(r){200===r.status&&(r=r.data),a.innerLoadBundle(e,t,r,n)})):this.ModalService.open("views/error.html","Error validating annotation file: "+JSON.stringify(r,null,4)).then((function(){a.AppStateService.resetToInitState()})),[2]}))}))}),(function(e){e.data?r.ModalService.open("views/error.html","Error loading bundle: "+e.data).then((function(){r.AppStateService.resetToInitState()})):r.ModalService.open("views/error.html","Error loading bundle: "+e.status.message).then((function(){r.AppStateService.resetToInitState()}))}))}return n.promise},e.prototype.saveBundle=function(){var e=this;if(this.ViewStateService.getPermission("saveBndlBtnClick")){var t=this.$q.defer();this.ViewStateService.somethingInProgress=!0,this.ViewStateService.setState("loadingSaving");var r={};this.ViewStateService.somethingInProgressTxt="Creating bundle json...",r.ssffFiles=[];var n=this.SsffDataService.getFile("FORMANTS");return void 0!==n?this.SsffParserService.asyncJso2ssff(n).then((function(i){r.ssffFiles.push({fileExtension:n.fileExtension,encoding:"BASE64",data:e.BinaryDataManipHelperService.arrayBufferToBase64(i.data)}),e.getAnnotationAndSaveBndl(r,t)}),(function(r){e.ModalService.open("views/error.html","Error converting javascript object to SSFF file: "+r.status.message),t.reject()})):this.getAnnotationAndSaveBndl(r,t),t.promise}this.$log.info("Action: menuBundleSaveBtnClick not allowed!")},e.prototype.getAnnotationAndSaveBndl=function(e,t){var r=this;this.ViewStateService.somethingInProgressTxt="Validating annotJSON ...";var n=this.ValidationService.validateJSO("annotationFileSchema",this.DataService.getData());!0!==n&&(this.$log.warn("PROBLEM: trying to save bundle but bundle is invalid. traverseAndClean() will be called."),this.$log.error(n)),this.StandardFuncsService.traverseAndClean(this.DataService.getData()),e.annotation=this.DataService.getData(),e.mediaFile={encoding:"BASE64",data:""};var i=this.LoadedMetaDataService.getCurBndl();void 0!==i.session&&(e.session=i.session),void 0!==i.finishedEditing&&(e.finishedEditing=i.finishedEditing),void 0!==i.comment&&(e.comment=i.comment),this.ViewStateService.somethingInProgressTxt="Validating bundle ...",!0!==(n=this.ValidationService.validateJSO("bundleSchema",e))?(this.$log.error("GRAVE PROBLEM: trying to save bundle but bundle is invalid. traverseAndClean() HAS ALREADY BEEN CALLED."),this.$log.error(n),this.ModalService.open("views/error.html","Somehow the data for this bundle has been corrupted. This is most likely a nasty and diffucult to spot bug. If you are at the IPS right now, please contact an EMU developer immediately. The Validation error is: "+JSON.stringify(n,null,4)).then((function(){r.ViewStateService.somethingInProgressTxt="",r.ViewStateService.somethingInProgress=!1,r.ViewStateService.setState("labeling"),t.reject()}))):(this.ViewStateService.somethingInProgressTxt="Saving bundle...",this.IoHandlerService.saveBundle(e).then((function(){r.ViewStateService.somethingInProgressTxt="Done!",r.ViewStateService.somethingInProgress=!1,r.HistoryService.movesAwayFromLastSave=0,t.resolve(),r.ViewStateService.setState("labeling")}),(function(e){r.ModalService.open("views/error.html","Error saving bundle: "+e.status.message).then((function(){r.AppStateService.resetToInitState()})),t.reject()})))},e}();n.module("emuwebApp").service("DbObjLoadSaveService",["$log","$q","$http","DataService","ViewStateService","HistoryService","LoadedMetaDataService","SsffDataService","IoHandlerService","BinaryDataManipHelperService","WavParserService","SoundHandlerService","SsffParserService","ValidationService","LevelService","ModalService","ConfigProviderService","AppStateService","StandardFuncsService",el]);var tl=function(){function e(e){this.$q=e,this.convertedBundles=[],this.sessionDefault=""}return e.prototype.getBundle=function(e){var t=this.$q.defer();return this.convertedBundles.forEach((function(r){if(r.name===e){var i=n.copy(r);delete i.name,t.resolve({status:200,data:i})}})),t.promise},e.prototype.resetToInitState=function(){this.convertedBundles=[],this.sessionDefault=""},e.prototype.setDefaultSession=function(e){this.sessionDefault=e},e.prototype.getDefaultSession=function(){return this.sessionDefault},e}();n.module("emuwebApp").service("DragnDropDataService",["$q",tl]);var rl=function(){function e(e,t,r,n,i,a,o,s,l,c,u,h,p,f,d,v,m){this.$q=e,this.$rootScope=t,this.$window=window,this.ModalService=n,this.DataService=i,this.ValidationService=a,this.ConfigProviderService=o,this.DragnDropDataService=s,this.IoHandlerService=l,this.ViewStateService=c,this.SoundHandlerService=u,this.BinaryDataManipHelperService=h,this.BrowserDetectorService=p,this.WavParserService=f,this.TextGridParserService=d,this.LoadedMetaDataService=v,this.LevelService=m,this.drandropBundles=[],this.bundleList=[],this.sessionName="File(s)",this.maxDroppedBundles=10}return e.prototype.setData=function(e){var t=this,r=0;if(e.forEach((function(e,n){t.setDragnDropData(e[0],n,"wav",e[1]),void 0!==e[2]&&t.setDragnDropData(e[0],n,"annotation",e[2]),r=n})),!(r<=this.maxDroppedBundles))return!1;this.convertDragnDropData(this.drandropBundles,0).then((function(){return t.LoadedMetaDataService.setBundleList(t.bundleList),t.LoadedMetaDataService.setCurBndlName(t.bundleList[t.DragnDropDataService.sessionDefault]),t.LoadedMetaDataService.setDemoDbName(t.bundleList[t.DragnDropDataService.sessionDefault]),t.handleLocalFiles(),!0}))},e.prototype.resetToInitState=function(){delete this.drandropBundles,this.drandropBundles=[],delete this.bundleList,this.bundleList=[],this.sessionName="File(s)",this.maxDroppedBundles=10,this.DragnDropDataService.resetToInitState(),this.LoadedMetaDataService.resetToInitState()},e.prototype.setDragnDropData=function(e,t,r,n){this.DragnDropDataService.setDefaultSession(t),void 0===this.drandropBundles[t]&&(this.drandropBundles[t]={},this.DragnDropDataService.convertedBundles[t]={},this.DragnDropDataService.convertedBundles[t].name=e,this.bundleList.push({name:e,session:this.sessionName})),"wav"===r?this.drandropBundles[t].wav=n:"annotation"===r&&(this.drandropBundles[t].annotation=n)},e.prototype.getDragnDropData=function(e,t){return"wav"===t?this.drandropBundles[e].wav:"annotation"===t&&this.drandropBundles[e].annotation},e.prototype.generateDrop=function(e){return"object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(this.getBlob(e)):URL.createObjectURL(this.getBlob(e))},e.prototype.getBlob=function(e){var t;try{t=new Blob([e],{type:"text/plain"})}catch(r){(t=new(this.$window.BlobBuilder||this.$window.WebKitBlobBuilder||this.$window.MozBlobBuilder)).append(e),t=t.getBlob()}return t},e.prototype.convertDragnDropData=function(e,t){var r,i=this,a=this.$q.defer(),o=this.drandropBundles[t],s=new FileReader,l=new FileReader;return e.length>t?(void 0!==o.wav&&(s.readAsArrayBuffer(o.wav),s.onloadend=function(s){s.target.readyState===FileReader.DONE&&(r=i.BrowserDetectorService.isBrowser.Firefox()?s.target.result:s.currentTarget.result,i.WavParserService.parseWavAudioBuf(r).then((function(r){void 0===i.DragnDropDataService.convertedBundles[t]&&(i.DragnDropDataService.convertedBundles[t]={}),i.SoundHandlerService.audioBuffer=r,i.DragnDropDataService.convertedBundles[t].ssffFiles=[];var s=o.wav.name.substr(0,o.wav.name.lastIndexOf("."));void 0===o.annotation?(i.DragnDropDataService.convertedBundles[t].annotation={levels:[],links:[],sampleRate:r.sampleRate,annotates:s,name:s},i.convertDragnDropData(e,t+1).then((function(){delete i.drandropBundles,i.drandropBundles=[],a.resolve()}))):"textgrid"===o.annotation.type?(l.readAsText(o.annotation.file),l.onloadend=function(r){r.target.readyState===FileReader.DONE&&i.TextGridParserService.asyncParseTextGrid(r.currentTarget.result,o.wav.name,s).then((function(r){i.DragnDropDataService.convertedBundles[t].annotation=r,i.convertDragnDropData(e,t+1).then((function(){a.resolve()}))}),(function(e){i.ModalService.open("views/error.html","Error parsing TextGrid file: "+e.status.message).then((function(){a.reject()}))}))}):"annotation"===o.annotation.type&&(l.readAsText(o.annotation.file),l.onloadend=function(r){r.target.readyState===FileReader.DONE&&(i.DragnDropDataService.convertedBundles[t].annotation=n.fromJson(r.currentTarget.result),i.convertDragnDropData(e,t+1).then((function(){a.resolve()})))})}),(function(e){i.ModalService.open("views/error.html","Error parsing wav file: "+e.status.message).then((function(){a.reject()}))})))}),a.promise):(a.resolve(),a.promise)},e.prototype.handleLocalFiles=function(){var e,t=this;e=void 0!==this.DragnDropDataService.convertedBundles[this.DragnDropDataService.sessionDefault].annotation?this.DragnDropDataService.convertedBundles[this.DragnDropDataService.sessionDefault].annotation:{levels:[],links:[]},this.ViewStateService.showDropZone=!1,this.ViewStateService.setState("loadingSaving"),this.ViewStateService.somethingInProgress=!0,this.ViewStateService.somethingInProgressTxt="Loading local File: "+this.DragnDropDataService.convertedBundles[this.DragnDropDataService.sessionDefault].name,this.IoHandlerService.httpGetPath("configFiles/standalone_emuwebappConfig.json").then((function(r){var n;if(t.ViewStateService.curPerspectiveIdx=0,t.ConfigProviderService.setVals(r.data.EMUwebAppConfig),delete r.data.EMUwebAppConfig,!0===(n=t.ValidationService.validateJSO("emuwebappConfigSchema",t.ConfigProviderService.vals))){t.ConfigProviderService.curDbConfig=r.data,t.ViewStateService.somethingInProgressTxt="Parsing WAV file...",t.ViewStateService.curViewPort.sS=0,t.ViewStateService.curViewPort.eS=t.SoundHandlerService.audioBuffer.length,t.ViewStateService.curViewPort.selectS=-1,t.ViewStateService.curViewPort.selectE=-1,t.ViewStateService.curClickSegments=[],t.ViewStateService.curClickLevelName=void 0,t.ViewStateService.curClickLevelType=void 0,t.LoadedMetaDataService.setCurBndl(t.DragnDropDataService.convertedBundles[t.DragnDropDataService.sessionDefault]),t.ViewStateService.resetSelect(),t.ViewStateService.curPerspectiveIdx=0,t.DataService.setData(e);var i=[],a=[];e.levels.forEach((function(e){"SEGMENT"!==e.type&&"EVENT"!==e.type||(i.push(e.name),a.push({name:e.name,type:e.type,attributeDefinitions:{name:e.name,type:"string"}}))})),t.ConfigProviderService.curDbConfig.levelDefinitions=a,t.ViewStateService.setCurLevelAttrDefs(t.ConfigProviderService.curDbConfig.levelDefinitions),t.ConfigProviderService.setPerspectivesOrder(t.ViewStateService.curPerspectiveIdx,i),t.ViewStateService.somethingInProgressTxt="Parsing SSFF files...",!0===(n=t.ValidationService.validateJSO("annotationFileSchema",e))?(t.DataService.setLinkData(e.links),t.ViewStateService.setState("labeling"),t.ViewStateService.somethingInProgress=!1,t.ViewStateService.somethingInProgressTxt="Done!"):t.ModalService.open("views/error.html","Error validating annotation file: "+JSON.stringify(n,null,4)).then((function(){t.resetToInitState()})),t.BrowserDetectorService.isBrowser.HeadlessChrome()||t.ViewStateService.selectLevel(!1,t.ConfigProviderService.vals.perspectives[t.ViewStateService.curPerspectiveIdx].levelCanvases.order,t.LevelService)}})),this.ViewStateService.somethingInProgress=!1},e}();n.module("emuwebApp").service("DragnDropService",["$q","$rootScope","$window","ModalService","DataService","ValidationService","ConfigProviderService","DragnDropDataService","IoHandlerService","ViewStateService","SoundHandlerService","BinaryDataManipHelperService","BrowserDetectorService","WavParserService","TextGridParserService","LoadedMetaDataService","LevelService",rl]);var nl=function(){function e(e,t,r,n,i,a){this.ViewStateService=e,this.ConfigProviderService=t,this.SoundHandlerService=r,this.FontScaleService=n,this.SsffDataService=i,this.MathHelperService=a,this.osciPeaks={}}return e.prototype.getScale=function(e,t,r){return e.measureText(t).width*r},e.prototype.getScaleWidth=function(e,t,r,n){return void 0!==t&&t.toString().length>r.toString().length?this.getScale(e,t,n):this.getScale(e,r,n)},e.prototype.calculateOsciPeaks=function(){var e=this.SoundHandlerService.audioBuffer.sampleRate,t=this.SoundHandlerService.audioBuffer.numberOfChannels,r=Math.round(e/400),n=Math.round(e/10),i=Math.round(e/1);this.osciPeaks={numberOfChannels:t,sampleRate:e,winSizes:[r,n,i],channelOsciPeaks:[]};for(var a=0;a<t;a++){for(var o=this.SoundHandlerService.audioBuffer.getChannelData(a),s=new Float32Array(Math.round(this.SoundHandlerService.audioBuffer.length/r)),l=new Float32Array(Math.round(this.SoundHandlerService.audioBuffer.length/r)),c=new Float32Array(Math.round(this.SoundHandlerService.audioBuffer.length/n)),u=new Float32Array(Math.round(this.SoundHandlerService.audioBuffer.length/n)),h=new Float32Array(Math.round(this.SoundHandlerService.audioBuffer.length/i)),p=new Float32Array(Math.round(this.SoundHandlerService.audioBuffer.length/i)),f=0,d=0,v=1/0,m=-1/0,g=0,S=0,w=1/0,y=-1/0,b=0,x=0,k=1/0,C=-1/0,$=0;$<=o.length;$++)o[$]>m&&(m=o[$]),o[$]<v&&(v=o[$]),o[$]>y&&(y=o[$]),o[$]<w&&(w=o[$]),o[$]>C&&(C=o[$]),o[$]<k&&(k=o[$]),f===r&&(s[d]=m,l[d]=v,d+=1,f=0,v=1/0,m=-1/0),g===n&&(c[S]=y,u[S]=w,S+=1,g=0,w=1/0,y=-1/0),b===i&&(h[x]=C,p[x]=k,x+=1,b=0,k=1/0,C=-1/0),f+=1,g+=1,b+=1;this.osciPeaks.channelOsciPeaks[a]={maxPeaks:[s,c,h],minPeaks:[l,u,p]}}},e.prototype.calculatePeaks=function(e,t,r,n){var i,a,o,s,l,c=(n+1-r)/e.width,u=[],h=1/0,p=-1/0,f=1/0,d=-1/0;if(c<=1)l=0===r?t.subarray(r,n+2):t.subarray(r-1,n+2),i=Math.min.apply(Math,l),a=Math.max.apply(Math,l),u=Array.prototype.slice.call(l);else{l=t.subarray(r,n);for(var v=new Float32Array(e.width),m=new Float32Array(e.width),g=0;g<e.width;g++){s=g*c+c/2,(o=g*c-c/2)<0&&(o=0);var S=l.subarray(o,s);f=1/0,d=-1/0;for(var w=0;w<S.length;w++)S[w]>d&&(d=S[w]),S[w]<f&&(f=S[w]);v[g]=d,m[g]=f,d>p&&(p=d),f<h&&(h=f)}}return{samples:u,minSample:i,maxSample:a,minPeaks:m,maxPeaks:v,minMinPeak:h,maxMaxPeak:p,samplePerPx:c}},e.prototype.findMinMaxPeaks=function(e,t,r){for(var n=this.ViewStateService.calcSampleTime(e),i=this.ViewStateService.calcSampleTime(t),a=this.osciPeaks.sampleRate/this.osciPeaks.winSizes[r],o=n*a,s=i*a,l=1/0,c=-1/0,u=Math.round(o);u<Math.round(s);u++)this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].maxPeaks[r][u]>c&&(c=this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].maxPeaks[r][u]),this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].minPeaks[r][u]<l&&(l=this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].minPeaks[r][u]);return{minMinPeak:l,maxMaxPeak:c}},e.prototype.freshRedrawDrawOsciOnCanvas=function(e,t,r,i){var a=e.getContext("2d");a.clearRect(0,0,e.width,e.height),i&&(this.osciPeaks={}),n.equals({},this.osciPeaks)&&this.calculateOsciPeaks();var o,s,l,c,u,h,p,f=(r+1-t)/e.width,d=-1;for(o=0;o<this.osciPeaks.winSizes.length;o++)f>this.osciPeaks.winSizes[o]&&(d=o);if(-1!==d){s=this.findMinMaxPeaks(t,r,d);var v=this.ViewStateService.calcSampleTime(t),m=this.osciPeaks.sampleRate/this.osciPeaks.winSizes[d],g=v*m;a.strokeStyle=Es.a.colorWhite;var S,w,y,b=Math.round(g);a.beginPath(),l=(s.maxMaxPeak-this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].maxPeaks[d][b])/(s.maxMaxPeak-s.minMinPeak)*e.height,c=(s.maxMaxPeak-this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].minPeaks[d][b])/(s.maxMaxPeak-s.minMinPeak)*e.height,a.moveTo(0,l),u=l,h=c;for(var x=1;x<e.width;x++)w=x/e.width,y=this.ViewStateService.getCurrentSample(w),S=this.ViewStateService.calcSampleTime(y),b=Math.round(S*m),l=(s.maxMaxPeak-this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].maxPeaks[d][b])/(s.maxMaxPeak-s.minMinPeak)*e.height,c=(s.maxMaxPeak-this.osciPeaks.channelOsciPeaks[this.ViewStateService.osciSettings.curChannel].minPeaks[d][b])/(s.maxMaxPeak-s.minMinPeak)*e.height,a.moveTo(x-1,u),a.lineTo(x-1,l),a.moveTo(x-1,h),a.lineTo(x-1,c),a.moveTo(x,l),a.lineTo(x,c),u=l,h=c;a.stroke()}else if((s=this.calculatePeaks(e,this.SoundHandlerService.audioBuffer.getChannelData(this.ViewStateService.osciSettings.curChannel),t,r)).minPeaks&&s.maxPeaks&&s.samplePerPx>=1){for(a.strokeStyle=Es.a.colorWhite,a.beginPath(),l=(s.maxMaxPeak-s.maxPeaks[0])/(s.maxMaxPeak-s.minMinPeak)*e.height,c=(s.maxMaxPeak-s.minPeaks[0])/(s.maxMaxPeak-s.minMinPeak)*e.height,a.moveTo(0,l),a.lineTo(0,c),u=l,h=c,o=1;o<e.width;o++)l=(s.maxMaxPeak-s.maxPeaks[o])/(s.maxMaxPeak-s.minMinPeak)*e.height,c=(s.maxMaxPeak-s.minPeaks[o])/(s.maxMaxPeak-s.minMinPeak)*e.height,a.moveTo(o-1,u),a.lineTo(o-1,l),a.moveTo(o-1,h),a.lineTo(o-1,c),a.moveTo(o,l),a.lineTo(o,c),u=l,h=c;a.stroke()}else if(s.samplePerPx<1){var k=1/s.samplePerPx/2,C=this.ViewStateService.curViewPort.sS;if(a.strokeStyle=Es.a.colorWhite,a.fillStyle=Es.a.colorWhite,0===this.ViewStateService.curViewPort.sS){for(a.moveTo(k,(s.samples[0]-s.minSample)/(s.maxSample-s.minSample)*e.height),o=0;o<s.samples.length;o++)a.lineTo(o/s.samplePerPx+k,(s.samples[o]-s.minSample)/(s.maxSample-s.minSample)*e.height);for(a.stroke(),o=0;o<s.samples.length;o++)a.beginPath(),a.arc(o/s.samplePerPx+k,(s.samples[o]-s.minSample)/(s.maxSample-s.minSample)*e.height-3,4,0,2*Math.PI,!1),a.stroke(),a.fill(),this.ConfigProviderService.vals.restrictions.drawSampleNrs&&(a.strokeText(C,o/s.samplePerPx+k,(s.samples[o]-s.minSample)/(s.maxSample-s.minSample)*e.height-10),C+=1)}else{for(a.beginPath(),a.moveTo(-k,e.height-(s.samples[0]-s.minSample)/(s.maxSample-s.minSample)*e.height),o=1;o<=s.samples.length;o++)a.lineTo(o/s.samplePerPx-k,e.height-((s.samples[o]-s.minSample)/(s.maxSample-s.minSample)*e.height+3));for(a.stroke(),o=1;o<=s.samples.length;o++)a.beginPath(),a.arc(o/s.samplePerPx-k,e.height-(s.samples[o]-s.minSample)/(s.maxSample-s.minSample)*e.height-3,4,0,2*Math.PI,!1),a.stroke(),a.fill(),this.ConfigProviderService.vals.restrictions.drawSampleNrs&&(a.fillText(C,o/s.samplePerPx-k,e.height-(s.samples[o]-s.minSample)/(s.maxSample-s.minSample)*e.height-10),C+=1)}}this.ConfigProviderService.vals.restrictions.drawZeroLine&&(a.strokeStyle=Es.a.colorBlue,a.fillStyle=Es.a.colorBlue,f>=1?(p=e.height-(0-s.minMinPeak)/(s.maxMaxPeak-s.minMinPeak)*e.height,a.beginPath(),a.moveTo(0,p),a.lineTo(e.width,p),a.stroke(),a.fillText("0",5,p-5,e.width)):(p=e.height-(0-s.minSample)/(s.maxSample-s.minSample)*e.height,a.beginPath(),a.moveTo(0,p),a.lineTo(e.width,p),a.stroke(),a.fill(),a.fillText("0",5,e.height-(0-s.minSample)/(s.maxSample-s.minSample)*e.height-5,e.width)))},e.prototype.drawMovingBoundaryLine=function(e){var t,r;if(r=this.ViewStateService.getSampleDist(e.canvas.width),t="SEGMENT"===this.ViewStateService.getcurMouseLevelType()?0:r/2,this.ViewStateService.movingBoundary){e.fillStyle=Es.a.colorBlue;var n=Math.round(this.ViewStateService.getPos(e.canvas.width,this.ViewStateService.movingBoundarySample));this.ViewStateService.getcurMouseisLast()?e.fillRect(n+r,0,1,e.canvas.height):e.fillRect(n+t,0,1,e.canvas.height)}},e.prototype.drawCurViewPortSelected=function(e,t){var r,n,i,a,o=parseInt(Es.a.fontSmallSize.slice(0,-2));n=this.ViewStateService.getSampleDist(e.canvas.width),r="seg"===this.ViewStateService.getcurMouseLevelType()?0:n/2;var s=this.ViewStateService.getPos(e.canvas.width,this.ViewStateService.curViewPort.selectS),l=this.ViewStateService.getPos(e.canvas.width,this.ViewStateService.curViewPort.selectE);if(s===l)e.fillStyle=Es.a.colorWhite,e.fillRect(s+r,0,2,e.canvas.height),t&&this.ViewStateService.curViewPort.sS!==this.ViewStateService.curViewPort.selectS&&-1!==this.ViewStateService.curViewPort.selectS&&(a=e.canvas.width/e.canvas.offsetWidth,i=this.getScaleWidth(e,this.ViewStateService.curViewPort.selectS,this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.selectS/this.SoundHandlerService.audioBuffer.sampleRate,6),a),this.FontScaleService.drawUndistortedTextTwoLines(e,this.ViewStateService.curViewPort.selectS,this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.selectS/this.SoundHandlerService.audioBuffer.sampleRate,6),o,Es.a.fontSmallFamily,l+5,0,Es.a.colorWhite,!0));else if(e.fillStyle=Es.a.colorTransparentLightGrey,e.fillRect(s,0,l-s,e.canvas.height),e.strokeStyle=Es.a.colorWhite,e.beginPath(),e.moveTo(s,0),e.lineTo(s,e.canvas.height),e.moveTo(l,0),e.lineTo(l,e.canvas.height),e.closePath(),e.stroke(),t&&(a=e.canvas.width/e.canvas.offsetWidth,i=this.getScaleWidth(e,this.ViewStateService.curViewPort.selectS,this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.selectS/this.SoundHandlerService.audioBuffer.sampleRate,6),a),this.FontScaleService.drawUndistortedTextTwoLines(e,this.ViewStateService.curViewPort.selectS,this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.selectS/this.SoundHandlerService.audioBuffer.sampleRate,6),o,Es.a.fontSmallFamily,s-i-5,0,Es.a.colorWhite,!1),this.FontScaleService.drawUndistortedTextTwoLines(e,this.ViewStateService.curViewPort.selectE,this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.selectE/this.SoundHandlerService.audioBuffer.sampleRate,6),o,Es.a.fontSmallFamily,l+5,0,Es.a.colorWhite,!0),l-s>(i=this.getScale(e,this.MathHelperService.roundToNdigitsAfterDecPoint((this.ViewStateService.curViewPort.selectE-this.ViewStateService.curViewPort.selectS)/this.SoundHandlerService.audioBuffer.sampleRate,6),a)))){var c=this.ViewStateService.curViewPort.selectE-this.ViewStateService.curViewPort.selectS-1,u=this.MathHelperService.roundToNdigitsAfterDecPoint((this.ViewStateService.curViewPort.selectE-this.ViewStateService.curViewPort.selectS)/this.SoundHandlerService.audioBuffer.sampleRate,6);i=this.getScaleWidth(e,c,u,a),this.FontScaleService.drawUndistortedTextTwoLines(e,c,u,o,Es.a.fontSmallFamily,s+(l-s)/2-i/2,0,Es.a.colorWhite,!1)}},e.prototype.drawCrossHairX=function(e,t){e.strokeStyle=Es.a.colorRed,e.fillStyle=Es.a.colorRed,e.beginPath(),e.moveTo(t,0),e.lineTo(t,e.canvas.height),e.stroke()},e.prototype.drawCrossHairs=function(e,t,r,n,i,a,o){if(this.ConfigProviderService.vals.restrictions.drawCrossHairs){var s=parseInt(Es.a.fontSmallSize.slice(0,-2));e.strokeStyle=Es.a.colorRed,e.fillStyle=Es.a.colorRed,e.font=Es.a.fontSmallSize+"px "+Es.a.fontSmallFamily;var l,c=this.MathHelperService.roundToNdigitsAfterDecPoint(i-r/e.canvas.height*i,2),u=e.measureText(c+a).width*this.FontScaleService.scaleX,h=s*this.FontScaleService.scaleY,p=Math.round(this.ViewStateService.curViewPort.sS+t/e.canvas.width*(this.ViewStateService.curViewPort.eS-this.ViewStateService.curViewPort.sS)),f=this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.getViewPortStartTime()+t/e.canvas.width*(this.ViewStateService.getViewPortEndTime()-this.ViewStateService.getViewPortStartTime()),6);l=r-(h+1)<0?r+1:r-(h+1),void 0===i&&void 0===n||("OSCI"===o?(e.strokeStyle=Es.a.colorRed,e.fillStyle=Es.a.colorRed,e.beginPath(),e.moveTo(t,0),e.lineTo(t,e.canvas.height),e.stroke()):"SPEC"===o?(this.FontScaleService.drawUndistortedText(e,c+a,s,Es.a.fontSmallFamily,5,l,Es.a.colorRed,!0),this.FontScaleService.drawUndistortedText(e,c+a,s,Es.a.fontSmallFamily,e.canvas.width-u,l,Es.a.colorRed,!0),e.beginPath(),e.moveTo(0,r),e.lineTo(5,r+5),e.moveTo(0,r),e.lineTo(e.canvas.width,r),e.lineTo(e.canvas.width-5,r+5),e.moveTo(t,0),e.lineTo(t,e.canvas.height),e.stroke()):(c=i-r/e.canvas.height*(i-n),c=this.MathHelperService.roundToNdigitsAfterDecPoint(c,2),this.FontScaleService.drawUndistortedText(e,c+a,s,Es.a.fontSmallFamily,5,l,Es.a.colorTransparentRed,!0),this.FontScaleService.drawUndistortedText(e,c+a,s,Es.a.fontSmallFamily,e.canvas.width-5-u,l,Es.a.colorTransparentRed,!0),e.beginPath(),e.moveTo(0,r),e.lineTo(5,r+5),e.moveTo(0,r),e.lineTo(e.canvas.width,r),e.lineTo(e.canvas.width-5,r+5),e.moveTo(t,0),e.lineTo(t,e.canvas.height),e.stroke())),this.FontScaleService.drawUndistortedTextTwoLines(e,p,f,s,Es.a.fontSmallFamily,t+5,0,Es.a.colorTransparentRed,!0)}},e.prototype.drawMinMaxAndName=function(e,t,r,n,i){e.strokeStyle=Es.a.colorBlue,e.fillStyle=Es.a.colorBlue;var a=parseInt(Es.a.fontSmallSize.slice(0,-2)),o=e.canvas.height/e.canvas.offsetHeight,s=3*parseInt(Es.a.fontSmallSize.slice(0,-2))/4,l=s*o;e.beginPath(),e.moveTo(0,0),e.lineTo(5,5),e.moveTo(0,e.canvas.height),e.lineTo(5,e.canvas.height-5),e.stroke(),e.closePath(),""!==t&&this.FontScaleService.drawUndistortedText(e,t,a,Es.a.fontSmallFamily,0,e.canvas.height/2-a*o/2,Es.a.colorBlue,!0),void 0!==n&&this.FontScaleService.drawUndistortedText(e,"max: "+this.MathHelperService.roundToNdigitsAfterDecPoint(n,i),s,Es.a.fontSmallFamily,5,5,Es.a.colorBlue,!0),void 0!==r&&this.FontScaleService.drawUndistortedText(e,"min: "+this.MathHelperService.roundToNdigitsAfterDecPoint(r,i),s,Es.a.fontSmallFamily,5,e.canvas.height-l-5,Es.a.colorBlue,!0)},e.prototype.drawViewPortTimes=function(e){e.strokeStyle=Es.a.colorWhite,e.fillStyle=Es.a.colorWhite,e.font=Es.a.fontSmallSize+" "+Es.a.fontSmallFamily;var t=parseInt(Es.a.fontSmallSize.slice(0,-2));e.beginPath(),e.moveTo(0,0),e.lineTo(5,5),e.moveTo(e.canvas.width,0),e.lineTo(e.canvas.width-5,5),e.closePath(),e.stroke();var r,n,i,a=e.canvas.width/e.canvas.offsetWidth;this.ViewStateService.curViewPort&&(r=this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.sS/this.SoundHandlerService.audioBuffer.sampleRate,6),n=this.MathHelperService.roundToNdigitsAfterDecPoint(this.ViewStateService.curViewPort.eS/this.SoundHandlerService.audioBuffer.sampleRate,6),this.FontScaleService.drawUndistortedTextTwoLines(e,this.ViewStateService.curViewPort.sS,r,t,Es.a.fontSmallFamily,5,0,Es.a.colorWhite,!0),i=this.getScaleWidth(e,this.ViewStateService.curViewPort.eS,n,a),this.FontScaleService.drawUndistortedTextTwoLines(e,this.ViewStateService.curViewPort.eS,n,t,Es.a.fontSmallFamily,e.canvas.width-i-5,0,Es.a.colorWhite,!1))},e}();function il(e){e=e||window.Worker,this.url=this.getWorkerURL(),this.worker=new e(this.url)}n.module("emuwebApp").service("DrawHelperService",["ViewStateService","ConfigProviderService","SoundHandlerService","FontScaleService","SsffDataService","MathHelperService",nl]),il.prototype={getWorkerScript:function(){var e="";return e+="("+this.workerInit+")(this);"},workerInit:function(e){e.toJSO=function(e,t,r,n){var i={};i.name=r,i.annotates=t,i.sampleRate=n,i.levels=[];for(var a,o=(e=(e=e.replace(/([ \t]*\r?\n)+/g,"\n")).replace(/[ \t]+/g," ")).split("\n"),s=0;s<o.length;s++)if("#"===o[s]){a=s;break}i.levels[0]={},i.levels[0].name=r,i.levels[0].items=[];var l,c=1,u=o[a+1].split(/\s+/);if("H#"!==u[u.length-1]?i.levels[0].type="EVENT":i.levels[0].type="SEGMENT","EVENT"===i.levels[0].type)for(s=a+1;s<o.length-1;s++)u=o[s].split(/\s+/),i.levels[0].items.push({id:c,labels:[{name:r,value:u[u.length-1]}],samplePoint:Math.floor(u[1]*n)}),c+=1;else for(c+=1,s=a+2;s<o.length-1;s++)u=o[s].split(/\s+/),l=o[s-1].split(/\s+/),i.levels[0].items.push({id:c,labels:[{name:r,value:u[u.length-1]}],sampleStart:Math.floor(l[1]*n),sampleDur:Math.floor(u[1]*n)-Math.floor(l[1]*n)-1}),c+=1;return i},e.toESPS=function(e,t,r){var n,i="";i+="signal "+t+"\n",i+="nfields 1\n",i+="#\n";for(var a=0;a<e.length;a++)n=""===e[a].labels[0].value&&0===a?"H#":e[a].labels[0].value,i+="\t"+String((e[a].sampleStart+e[a].sampleDur)/r)+"\t125\t"+n+"\n";return i},e.onmessage=function(t){var r;if(void 0!==t.data)switch(t.data.cmd){case"parseESPS":void 0===(r=e.toJSO(t.data.esps,t.data.annotates,t.data.name,t.data.sampleRate)).type?e.postMessage({status:{type:"SUCCESS",message:""},data:r}):e.postMessage(r);break;case"parseJSO":void 0===(r=e.toESPS(t.data.level.items,t.data.level.name,t.data.sampleRate)).type?e.postMessage({status:{type:"SUCCESS",message:""},data:r}):e.postMessage(r);break;default:e.postMessage({status:{type:"ERROR",message:"Unknown command sent to espsParserWorker"}})}else e.postMessage({status:{type:"ERROR",message:"Undefined message was sent to espsParserWorker"}})}},getWorkerURL:function(){var e;try{e=new Blob([this.getWorkerScript()],{type:"application/javascript"})}catch(t){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(e=new BlobBuilder).append(il),e=e.getBlob()}return"object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(e):URL.createObjectURL(e)},kill:function(){this.worker&&this.worker.terminate(),this.url&&URL.revokeObjectURL(this.url)},tell:function(e){this.worker&&this.worker.postMessage(e)},says:function(e){this.worker&&this.worker.addEventListener("message",(function(t){e(t.data)}))}};var al=function(){function e(e,t,r){var n=this;this.$q=e,this.LevelService=t,this.SoundHandlerService=r,this.worker=new il,this.worker.says((function(e){"SUCCESS"===e.status.type?n.defer.resolve(e.data):n.defer.reject(e.data)}),!1)}return e.prototype.asyncParseEsps=function(e,t,r){return this.defer=this.$q.defer(),this.worker.tell({cmd:"parseESPS",esps:e,sampleRate:this.SoundHandlerService.audioBuffer.sampleRate,annotates:t,name:r}),this.defer.promise},e.prototype.asyncParseJSO=function(e){return this.defer=this.$q.defer(),this.worker.tell({cmd:"parseJSO",level:this.LevelService.getLevelDetails(e),sampleRate:this.SoundHandlerService.audioBuffer.sampleRate}),this.defer.promise},e}();n.module("emuwebApp").service("EspsParserService",["$q","LevelService","SoundHandlerService",al]);var ol=function(){function e(){this.lastTextWidth=null,this.spaceTop=0,this.scaleY=0,this.scaleX=0}return e.prototype.drawUndistortedText=function(e,t,r,n,i,a,o,s){if(this.scaleY=e.canvas.height/e.canvas.offsetHeight,this.scaleX=e.canvas.width/e.canvas.offsetWidth,e.save(),e.font=r+"px "+n,e.scale(this.scaleX,this.scaleY),e.fillStyle=o,s)e.fillText(t,i/this.scaleX,(a+r+this.spaceTop)/this.scaleY);else{var l=i/this.scaleX-e.measureText(t).width/2;e.fillText(t,l,(a+r+this.spaceTop)/this.scaleY)}e.scale(1,1),e.restore()},e.prototype.drawUndistortedTextTwoLines=function(e,t,r,n,i,a,o,s,l){if(this.scaleY=e.canvas.height/e.canvas.offsetHeight,this.scaleX=e.canvas.width/e.canvas.offsetWidth,e.save(),e.font=n+"px "+i,e.scale(this.scaleX,this.scaleY),e.fillStyle=s,l)e.fillText(t,a/this.scaleX,o+n+this.spaceTop),e.fillText(r,a/this.scaleX,o+2*n+this.spaceTop);else{var c=e.measureText(t).width,u=e.measureText(r).width;c>u?(e.fillText(t,a/this.scaleX,o+n+this.spaceTop),e.fillText(r,(a+(c-u))/this.scaleX,o+2*n+this.spaceTop)):(e.fillText(t,(a+(u-c))/this.scaleX,o+n+this.spaceTop),e.fillText(r,a/this.scaleX,o+2*n+this.spaceTop))}e.scale(1,1),e.restore()},e}();n.module("emuwebApp").service("FontScaleService",ol);r(372);var sl=function(){function e(e,t,r,n,i){this.ViewStateService=e,this.ConfigProviderService=t,this.LevelService=r,this.DataService=n,this.StandardFuncsService=i}return e.prototype.findAllNonPartialPaths=function(){var e=this,t={possible:[],possibleAsStr:[]};this.ConfigProviderService.curDbConfig.levelDefinitions.forEach((function(r){t.possible=t.possible.concat(e.findPaths(r.name,void 0))}));var r=[];return t.possible.forEach((function(n,i){t.possible.forEach((function(t,a){i!==a&&-1===r.indexOf(i)&&e.pathStartsWith(t,n)&&r.push(i)}))})),r.reverse().forEach((function(e){t.possible.splice(e,1)})),t.possible.forEach((function(r){var n=e.StandardFuncsService.reverseCopy(r).join(" → ");t.possibleAsStr.push(n)})),t},e.prototype.pathStartsWith=function(e,t){if(t.length>e.length)return!1;for(var r=e.length-t.length,n=t.length-1;n>=0;--n)if(t[n]!==e[n+r])return!1;return!0},e.prototype.findPaths=function(e,t){t=void 0===t?[e]:t.concat([e]);var r=this.findParentLevels(e);if(0===r.length)return[t];for(var n=[],i=0;i<r.length;++i)n=n.concat(this.findPaths(r[i],t));return n},e.prototype.findParentLevels=function(e){for(var t=[],r=0;r<this.ConfigProviderService.curDbConfig.linkDefinitions.length;++r)this.ConfigProviderService.curDbConfig.linkDefinitions[r].sublevelName===e&&t.push(this.ConfigProviderService.curDbConfig.linkDefinitions[r].superlevelName);return t},e.prototype.calculateWeightsBottomUp=function(e){var t,r;for(this.findParents(e),this.findVisibility(e),t=0;t<e.length;++t){var n=this.LevelService.getLevelDetails(e[t]);for(n._weight=0,r=0;r<n.items.length;++r)!1===n.items[r]._visible?n.items[r]._weight=.35:n.items[r]._weight=1,n._weight+=n.items[r]._weight;var i=0;for(r=0;r<n.items.length;++r){n.items[r]._posInLevel=(i+n.items[r]._weight/2)/n._weight,i+=n.items[r]._weight,n.items[r]._depth=e.length-t-1;for(var a=this.DataService.getData().links,o=0;o<a.length;++o)a[o].toID===n.items[r].id&&(a[o]._toPosInLevel=n.items[r]._posInLevel,a[o]._toDepth=n.items[r]._depth),a[o].fromID===n.items[r].id&&(a[o]._fromPosInLevel=n.items[r]._posInLevel,a[o]._fromDepth=n.items[r]._depth)}}},e.prototype.findChildren=function(e,t){var r=[],n=this.LevelService.getLevelName(e.id);if(null===n)return console.log("Likely a bug: failed to find a node's level",e),[];for(var i=null,a=0;a<t.length-1;++a)if(t[a+1]===n){i=t[a];break}if(null===i)return[];for(var o=0;o<this.DataService.getData().links.length;++o)if(this.DataService.getData().links[o].fromID===e.id)for(var s=0;s<this.DataService.getData().levels.length;++s)if(this.DataService.getData().levels[s].name===i)for(var l=0;l<this.DataService.getData().levels[s].items.length;++l)this.DataService.getData().levels[s].items[l].id===this.DataService.getData().links[o].toID&&r.push(this.DataService.getData().levels[s].items[l]);return r},e.prototype.findParents=function(e){var t,r,n,i,a;for(t=0;t<e.length;++t)for(a=this.LevelService.getLevelDetails(e[t]),r=0;r<a.items.length;++r)a.items[r]._parents=[];for(t=0;t<e.length;++t){for(a=this.LevelService.getLevelDetails(e[t]),i=0;i<a.items.length;++i)"SEGMENT"===a.type?(a.items[i]._derivedSampleStart=a.items[i].sampleStart,a.items[i]._derivedSampleEnd=a.items[i].sampleStart+a.items[i].sampleDur):(a.items[i]._derivedSampleStart=1/0,a.items[i]._derivedSampleEnd=-1/0);for(r=0;r<a.items.length;++r){var o=this.findChildren(a.items[r],e);for(n=0;n<o.length;++n)o[n]._parents.push(a.items[r]),o[n]._derivedSampleStart<a.items[r]._derivedSampleStart&&(a.items[r]._derivedSampleStart=o[n]._derivedSampleStart),o[n]._derivedSampleEnd>a.items[r]._derivedSampleEnd&&(a.items[r]._derivedSampleEnd=o[n]._derivedSampleEnd)}}},e.prototype.findVisibility=function(e){if(void 0!==e&&e.length>0){for(var t,r,n=[],i=0;i<e.length;++i){t=this.LevelService.getLevelDetails(e[i]);for(var a=0;a<t.items.length;++a)0===t.items[a]._parents.length&&n.push(t.items[a])}var o=[];for(o=o.concat(n);o.length>0;)r=o.pop(),o=o.concat(this.findChildren(r,e)),r._visible=!1;for(o=(o=[]).concat(n);o.length>0;)r=o.pop(),this.ViewStateService.hierarchyState.getCollapsed(r.id)||(o=o.concat(this.findChildren(r,e))),r._visible=!0}},e.prototype.toggleCollapse=function(e,t){var r,n=!this.ViewStateService.hierarchyState.getCollapsed(e.id);this.ViewStateService.hierarchyState.setCollapsed(e.id,n);for(var i=this.findChildren(e,t);i.length>0;){r=i.pop(),i=i.concat(this.findChildren(r,t));var a=this.ViewStateService.hierarchyState.getNumCollapsedParents(r.id);n?this.ViewStateService.hierarchyState.setNumCollapsedParents(r.id,a+1):this.ViewStateService.hierarchyState.setNumCollapsedParents(r.id,a-1),this.ViewStateService.hierarchyState.setCollapsePosition(r.id,[e._x,e._y])}},e}();n.module("emuwebApp").service("HierarchyLayoutService",["ViewStateService","ConfigProviderService","LevelService","DataService","StandardFuncsService",sl]);var ll=function(){function e(e,t,r,n,i){this.$q=e,this.HierarchyLayoutService=t,this.DataService=r,this.LevelService=n,this.ConfigProviderService=i}return e.prototype.addLink=function(e,t,r){var n,i=this.checkLinkValidity(e,t,r);return i.valid?(n={fromID:t,toID:r},this.DataService.insertLinkData(n),n):(console.debug("Not adding invalid link:",t,"->",r," (Error code:",i.reason,")"),3===i.reason&&(i=this.checkLinkValidity(e,r,t)).valid?(console.debug("Adding reverse link instead"),n={fromID:r,toID:t},this.DataService.insertLinkData(n),n):null)},e.prototype.checkLinkValidity=function(e,t,r){var n,i,a,o={valid:!0,reason:0},s=this.DataService.getLinkData();if(t===r)return o.valid=!1,o.reason=1,o;for(n=0;n<s.length;++n)if(s[n].fromID===t&&s[n].toID===r)return o.valid=!1,o.reason=2,o;var l,c,u,h=this.LevelService.getLevelName(t),p=this.LevelService.getLevelName(r),f=e.indexOf(h);if(e[f-1]!==p)return o.valid=!1,o.reason=3,o;for(n=0;n<this.ConfigProviderService.curDbConfig.linkDefinitions.length;++n)this.ConfigProviderService.curDbConfig.linkDefinitions[n].sublevelName===p&&this.ConfigProviderService.curDbConfig.linkDefinitions[n].superlevelName===h&&(l=this.ConfigProviderService.curDbConfig.linkDefinitions[n].type);if(void 0===l)return console.debug("LIKELY A BUG: link to be added (",t,"->",r,") has been found to be a part of the currently selected path but the link between the respective levels could not be found."),o.valid=!1,o.reason=3,o;if(("ONE_TO_MANY"===l||"ONE_TO_ONE"===l)&&this.LevelService.getItemByID(r)._parents.length>0)return o.valid=!1,o.reason=4,o;if("ONE_TO_ONE"===l){var d=this.LevelService.getItemByID(t);if((i=this.HierarchyLayoutService.findChildren(d,e)).length>0)return o.valid=!1,o.reason=4,o}for(var v,m=this.LevelService.getLevelAndItem(t).level,g=this.LevelService.getLevelAndItem(r).level,S=this.LevelService.getOrderById(h,t),w=this.LevelService.getOrderById(p,r),y=0;void 0===c;){if(y-=1,void 0===(v=m.items[S+y])){c=0;break}for(console.debug("found preceding sibling",v.id,v.labels[0]),i=this.HierarchyLayoutService.findChildren(v,e),n=0;n<i.length;++n)a=this.LevelService.getOrderById(p,i[n].id),(void 0===c||a>c)&&(c=a)}for(y=0;void 0===u;){if(y+=1,void 0===(v=m.items[S+y])){u=g.items.length-1;break}if(console.debug("found successive sibling",v.id,v.labels[0]),0!==(i=this.HierarchyLayoutService.findChildren(v,e)).length)for(n=0;n<i.length;++n)a=this.LevelService.getOrderById(p,i[n].id),(void 0===u||a<u)&&(u=a)}return console.debug("child must be within",c,u),w<c||w>u?(o.valid=!1,o.reason=5,o):o},e}();n.module("emuwebApp").service("HierarchyManipulationService",["$q","HierarchyLayoutService","DataService","LevelService","ConfigProviderService",ll]);r(373);var cl=function(){function e(e,t,r,n,i,a,o,s,l,c,u,h,p,f,d,v,m){this.$rootScope=e,this.$http=t,this.$location=r,this.$q=n,this.$window=i,this.HistoryService=a,this.ViewStateService=o,this.SoundHandlerService=s,this.SsffParserService=l,this.WavParserService=c,this.TextGridParserService=u,this.ConfigProviderService=h,this.EspsParserService=p,this.SsffDataService=f,this.WebSocketHandlerService=d,this.DragnDropDataService=v,this.LoadedMetaDataService=m}return e.prototype.httpGetDefaultConfig=function(){return this.$http.get("configFiles/default_emuwebappConfig.json")},e.prototype.httpGetPath=function(e,t,r){if(void 0===r&&(r=!1),"GITLAB"!==this.ConfigProviderService.vals.main.comMode||r)var n=this.$http.get(e,{responseType:t});else{var i=this.$location.search();n=fetch(e,{method:"GET",headers:{"PRIVATE-TOKEN":i.privateToken}}).then((function(e){return"json"===t?e.json():"arraybuffer"===t?e.arrayBuffer():void 0}))}return n},e.prototype.getProtocol=function(){var e;if("CORS"===this.ConfigProviderService.vals.main.comMode);else if("WS"===this.ConfigProviderService.vals.main.comMode)e=this.WebSocketHandlerService.getProtocol();else if("GITLAB"===this.ConfigProviderService.vals.main.comMode){var t=this.$q.defer();t.resolve({protocol:"EMU-webApp-websocket-protocol",version:"0.0.2"}),e=t.promise}return e},e.prototype.getDoUserManagement=function(){var e;if("CORS"===this.ConfigProviderService.vals.main.comMode);else if("WS"===this.ConfigProviderService.vals.main.comMode)e=this.WebSocketHandlerService.getDoUserManagement();else if("GITLAB"===this.ConfigProviderService.vals.main.comMode){var t=this.$q.defer();t.resolve("NO"),e=t.promise}return e},e.prototype.logOnUser=function(e,t){var r;return"CORS"===this.ConfigProviderService.vals.main.comMode||"WS"===this.ConfigProviderService.vals.main.comMode&&(r=this.WebSocketHandlerService.logOnUser(e,t)),r},e.prototype.getDBconfigFile=function(e){var t;if("CORS"===this.ConfigProviderService.vals.main.comMode);else if("WS"===this.ConfigProviderService.vals.main.comMode)t=this.WebSocketHandlerService.getDBconfigFile();else if("DEMO"===this.ConfigProviderService.vals.main.comMode)t=this.$http.get("demoDBs/"+e+"/"+e+"_DBconfig.json");else if("GITLAB"===this.ConfigProviderService.vals.main.comMode){var r=this.$location.search(),n=this.getGitlabPathFromSearchObject(r);t=fetch(r.gitlabURL+"/api/v4/projects/"+r.projectID+"/repository/files/"+n+r.emuDBname+"_DBconfig.json/raw?ref=master",{method:"GET",headers:{"PRIVATE-TOKEN":r.privateToken}}).then((function(e){return e.json()}))}return t},e.prototype.getBundleList=function(e){var t;if("CORS"===this.ConfigProviderService.vals.main.comMode);else if("WS"===this.ConfigProviderService.vals.main.comMode)t=this.WebSocketHandlerService.getBundleList();else if("DEMO"===this.ConfigProviderService.vals.main.comMode)t=this.$http.get("demoDBs/"+e+"/"+e+"_bundleList.json");else if("GITLAB"===this.ConfigProviderService.vals.main.comMode){var r=this.$location.search(),n=this.getGitlabPathFromSearchObject(r);t=fetch(r.gitlabURL+"/api/v4/projects/"+r.projectID+"/repository/files/"+n+"bundleLists%2F"+r.bundleListName+"_bundleList.json/raw?ref=master",{method:"GET",headers:{"PRIVATE-TOKEN":r.privateToken}}).then((function(e){return e.json()}))}return t},e.prototype.getGitlabPathFromSearchObject=function(e,t){void 0===t&&(t=!0);var r="";if(void 0!==e.gitlabPath){for(r=e.gitlabPath;0==r.indexOf("/");)r=r.substr(1,r.length);-1==r.indexOf("/",r.length-1)&&(r+="/"),t&&(r=encodeURIComponent(r))}return r},e.prototype.getBundle=function(e,t,r){var n;if("CORS"===this.ConfigProviderService.vals.main.comMode);else if("EMBEDDED"===this.ConfigProviderService.vals.main.comMode)n=this.DragnDropDataService.getBundle(e,t);else if("WS"===this.ConfigProviderService.vals.main.comMode)n=this.WebSocketHandlerService.getBundle(e,t);else if("DEMO"===this.ConfigProviderService.vals.main.comMode)n=this.$http.get("demoDBs/"+r+"/"+e+"_bndl.json");else if("GITLAB"===this.ConfigProviderService.vals.main.comMode){var i=this.$location.search(),a=this.getGitlabPathFromSearchObject(i),o=i.gitlabURL+"/api/v4/projects/"+i.projectID+"/repository/files/"+a+t+"_ses%2F"+e+"_bndl%2F",s=this.ConfigProviderService.findAllTracksInDBconfigNeededByEMUwebApp(),l=[];s.forEach((function(t){l.push({encoding:"GETURL",data:o+e+"."+t.fileExtension+"/raw?ref=master",fileExtension:t.fileExtension})})),"true"!==i.useLFS||console.log("using LFS"),n=Promise.all([fetch(o+e+"_annot.json/raw?ref=master",{method:"GET",headers:{"PRIVATE-TOKEN":i.privateToken}}).then((function(e){return e.json()}))]).then((function(t){return{mediaFile:{encoding:"GETURL",data:o+e+".wav/raw?ref=master"},annotation:t[0],ssffFiles:l}}))}return n},e.prototype.saveBundle=function(e){var t;if("CORS"===this.ConfigProviderService.vals.main.comMode);else if("WS"===this.ConfigProviderService.vals.main.comMode)t=this.WebSocketHandlerService.saveBundle(e);else if("GITLAB"===this.ConfigProviderService.vals.main.comMode){var r=this.$location.search(),n=this.getGitlabPathFromSearchObject(r,!1),i=n+e.session+"_ses/"+e.annotation.name+"_bndl/",a=[{action:"update",file_path:i+e.annotation.name+"_annot.json",content:JSON.stringify(e.annotation,null,4),encoding:"text"},{action:"update",file_path:n+"bundleLists/"+r.bundleListName+"_bundleList.json",content:JSON.stringify(this.LoadedMetaDataService.getBundleList(),null,4),encoding:"text"}];e.ssffFiles.length>0&&a.push({action:"update",file_path:i+e.annotation.name+"."+e.ssffFiles[0].fileExtension,content:e.ssffFiles[0].data,encoding:"base64"});var o={branch:"master",commit_message:"EMU-webApp save by user: "+r.bundleListName+"; session: "+e.session+"; bundle: "+e.annotation.name+";",actions:a};t=fetch(r.gitlabURL+"/api/v4/projects/"+r.projectID+"/repository/commits",{method:"POST",headers:{"PRIVATE-TOKEN":r.privateToken,"Content-Type":"application/json"},body:JSON.stringify(o)})}else if("EMBEDDED"===this.ConfigProviderService.vals.main.comMode){var s=this.$q.defer();t=s.promise,window.parent.postMessage({data:e},"*"),s.resolve()}return t},e.prototype.saveConfiguration=function(e){var t;return"CORS"===this.ConfigProviderService.vals.main.comMode?console.error("CORS version of saveBundle not implemented"):"WS"===this.ConfigProviderService.vals.main.comMode&&(t=this.WebSocketHandlerService.saveConfiguration(e)),t},e.prototype.parseLabelFile=function(e,t,r,i){var a;if("ESPS"===i)a=this.EspsParserService.asyncParseEsps(e,this.ConfigProviderService.embeddedVals.labelGetUrl,"embeddedESPS");else if("TEXTGRID"===i)a=this.TextGridParserService.asyncParseTextGrid(e,this.ConfigProviderService.embeddedVals.labelGetUrl,"embeddedTEXTGRID");else if("annotJSON"===i){var o=this.$q.defer();a=o.promise,o.resolve(n.fromJson(e))}return a},e}();n.module("emuwebApp").service("IoHandlerService",["$rootScope","$http","$location","$q","$window","HistoryService","ViewStateService","SoundHandlerService","SsffParserService","WavParserService","TextGridParserService","ConfigProviderService","EspsParserService","SsffDataService","WebSocketHandlerService","DragnDropDataService","LoadedMetaDataService",cl]);r(374);var ul=function(){function e(e,t){this.DataService=e,this.ConfigProviderService=t}return e.prototype.insertLink=function(e,t){this.DataService.insertLinkData({fromID:e,toID:t})},e.prototype.insertLinkAt=function(e,t,r){this.DataService.insertLinkDataAt(r,{fromID:e,toID:t})},e.prototype.deleteLink=function(e,t){var r=this,n=-1;return this.DataService.getLinkData().forEach((function(i,a){i.fromID===e&&i.toID===t&&(r.DataService.deleteLinkDataAt(a),n=a)})),n},e.prototype.linkExists=function(e,t){var r=!1;return this.DataService.getLinkData().forEach((function(n){n.fromID===e&&n.toID===t&&(r=!0)})),r},e.prototype.hasParents=function(e){var t=!1;return this.DataService.getLinkData().forEach((function(r){r.toID===e&&(t=!0)})),t},e.prototype.hasChildren=function(e){var t=!1;return this.DataService.getLinkData().forEach((function(r){r.fromID===e&&(t=!0)})),t},e.prototype.isLinked=function(e){return this.hasChildren(e)||this.hasParents(e)},e.prototype.insertLinksTo=function(e,t){var r=this;t.forEach((function(t){r.insertLink(e,t)}))},e.prototype.deleteLinksTo=function(e,t){var r=this,n=[];return t.forEach((function(t){r.deleteLink(e,t),n.push({fromID:e,toID:t})})),n},e.prototype.insertLinksFrom=function(e,t){var r=this;e.forEach((function(e){r.insertLink(e,t)}))},e.prototype.deleteLinksFrom=function(e,t){var r=this,n=[];return e.forEach((function(e){n.push({fromID:e,toID:t}),r.deleteLink(e,t)})),n},e.prototype.getLinksTo=function(e){var t=[];return this.DataService.getLinkData().forEach((function(r,n){r.toID===e&&t.push({link:r,order:n})})),t},e.prototype.getLinksFrom=function(e){var t=[];return this.DataService.getLinkData().forEach((function(r,n){r.fromID===e&&t.push({link:r,order:n})})),t},e.prototype.changeLinkTo=function(e,t,r){var n=this;this.DataService.getLinkData().forEach((function(i,a){i.fromID===e&&i.toID===t&&n.DataService.changeLinkDataAt(a,e,r)}))},e.prototype.changeLinkFrom=function(e,t,r){var n=this;this.DataService.getLinkData().forEach((function(i,a){i.fromID===e&&i.toID===t&&n.DataService.changeLinkDataAt(a,r,t)}))},e.prototype.deleteLinkSegment=function(e){var t=this,r=[],n=[];return e.forEach((function(e){t.getLinksTo(e.id).forEach((function(e){r.push({fromID:e.link.fromID,toID:e.link.toID}),t.deleteLink(e.link.fromID,e.link.toID)})),t.getLinksFrom(e.id).forEach((function(e){n.push({fromID:e.link.fromID,toID:e.link.toID}),t.deleteLink(e.link.fromID,e.link.toID)}))})),{linksTo:r,linksFrom:n}},e.prototype.deleteLinkSegmentInvers=function(e){var t=this;e.linksTo.forEach((function(e){t.insertLink(e.fromID,e.toID)})),e.linksFrom.forEach((function(e){t.insertLink(e.fromID,e.toID)}))},e.prototype.deleteLinkBoundary=function(e,t,r){var n=this,i=[],a=[],o=0,s=r.getLevelName(t),l=!0;return this.ConfigProviderService.curDbConfig.linkDefinitions.forEach((function(e){e.superlevelName!==s&&e.sublevelName!==s||"MANY_TO_MANY"!==e.type&&(l=!1)})),t>=0?(this.getLinksTo(e).forEach((function(r){n.linkExists(r.link.fromID,t)?(o=n.deleteLink(r.link.fromID,e),i.push({fromID:r.link.fromID,toID:e,deleted:!0,order:o,neighbourID:0})):l&&(n.changeLinkTo(r.link.fromID,e,t),i.push({fromID:r.link.fromID,toID:e,deleted:!1,order:o,neighbourID:t}))})),this.getLinksFrom(e).forEach((function(r){n.linkExists(t,r.link.toID)?(o=n.deleteLink(e,r.link.toID),a.push({fromID:e,toID:r.link.toID,deleted:!0,order:o,neighbourID:0})):(n.changeLinkFrom(e,r.link.toID,t),a.push({fromID:e,toID:r.link.toID,deleted:!1,order:o,neighbourID:t}))}))):(this.getLinksTo(e).forEach((function(t){o=n.deleteLink(t.link.fromID,e),i.push({fromID:t.link.fromID,toID:e,deleted:!0,order:o,neighbourID:0})})),this.getLinksFrom(e).forEach((function(t){o=n.deleteLink(e,t.link.toID),a.push({fromID:e,toID:t.link.toID,deleted:!0,order:o,neighbourID:0})}))),{linksTo:i,linksFrom:a}},e.prototype.deleteLinkBoundaryInvers=function(e){var t=this;e.linksTo.forEach((function(e){e.deleted?t.insertLinkAt(e.fromID,e.toID,e.order):t.changeLinkTo(e.fromID,e.neighbourID,e.toID)})),e.linksFrom.forEach((function(e){e.deleted?t.insertLinkAt(e.fromID,e.toID,e.order):t.changeLinkFrom(e.neighbourID,e.toID,e.fromID)}))},e}();n.module("emuwebApp").service("LinkService",["DataService","ConfigProviderService",ul]);var hl=function(){function e(e){this.ValidationService=e,this.uniqSessionList=[],this.bundleList=[],this.curBndl={},this.demoDbName="",this.rendOptBndlList={}}return e.prototype.genUniqSessionList=function(e){var t,r=[];return e.forEach((function(e,n){r[e.session]={collapsed:!0},0===n&&(t=e.session)})),r[t].collapsed=!1,r},e.prototype.genRendOptBndlList=function(e){var t=this;return e.forEach((function(e){void 0===t.rendOptBndlList[e.session]&&(t.rendOptBndlList[e.session]=[]),t.rendOptBndlList[e.session].push(e)})),this.rendOptBndlList},e.prototype.setBundleList=function(e){var t=this.ValidationService.validateJSO("bundleListSchema",e);return!0===t&&(this.bundleList=e,this.uniqSessionList=this.genUniqSessionList(this.bundleList),this.rendOptBndlList=this.genRendOptBndlList(this.bundleList)),t},e.prototype.getBundleList=function(){return this.bundleList},e.prototype.getRendOptBndlList=function(){return this.rendOptBndlList},e.prototype.getCurBndl=function(){return this.curBndl},e.prototype.setCurBndl=function(e){this.curBndl=e},e.prototype.setBndlComment=function(e,t,r){this.rendOptBndlList[t][r].comment=e},e.prototype.setBndlFinished=function(e,t,r){this.rendOptBndlList[t][r].finishedEditing=e},e.prototype.getCurBndlName=function(){return this.curBndl.name},e.prototype.setCurBndlName=function(e){this.curBndl.name=e},e.prototype.setTimeAnchors=function(e){this.curBndl.timeAnchors=e},e.prototype.setDemoDbName=function(e){this.demoDbName=e},e.prototype.getDemoDbName=function(){return this.demoDbName},e.prototype.toggleCollapseSession=function(e){var t=this;void 0===this.uniqSessionList[e]&&(this.uniqSessionList[e]={}),this.uniqSessionList[e].collapsed=!this.uniqSessionList[e].collapsed,Object.keys(this.uniqSessionList).forEach((function(r){r!==e&&(t.uniqSessionList[r].collapsed=!0)}))},e.prototype.openCollapseSession=function(e){var t=this;this.uniqSessionList[e]={},this.uniqSessionList[e].collapsed=!1,Object.keys(this.uniqSessionList).forEach((function(r){r!==e&&(t.uniqSessionList[r].collapsed=!0)}))},e.prototype.getSessionCollapseState=function(e){return void 0===this.uniqSessionList[e]?void 0:this.uniqSessionList[e].collapsed},e.prototype.resetToInitState=function(){this.uniqSessionList=[],this.bundleList=[],this.curBndl={},this.rendOptBndlList={}},e}();n.module("emuwebApp").service("LoadedMetaDataService",["ValidationService",hl]);var pl=function(){function e(){}return e.prototype.calcClosestPowerOf2Gt=function(e){for(var t=0;Math.pow(2,t)<e;)t+=1;return Math.pow(2,t)},e.prototype.roundToNdigitsAfterDecPoint=function(e,t){(t<1||t>14)&&console.error("error in call of round function!!");var r=Math.pow(10,t),n=(Math.round(e*r)/r).toString();return-1===n.indexOf(".")&&(n+="."),n+=r.toString().substring(1),parseFloat(n.substring(0,n.indexOf(".")+t+1))},e}();n.module("emuwebApp").service("MathHelperService",pl);var fl=function(){function e(e,t,r){this.$q=e,this.ArrayHelperService=t,this.ViewStateService=r}return e.prototype.initialize=function(){this.isOpen=!1,this.templateUrl="",this.defer=void 0,this.deferChange=void 0,this.force=!1,this.dataOut=void 0,this.dataIn=void 0,this.dataExport=void 0},e.prototype.open=function(e,t,r,n){return this.initialize(),void 0!==t&&(this.dataIn=t,void 0!==t.y&&(this.dataIn.chartData=this.ArrayHelperService.convertArrayToXYjsoArray(t.y))),void 0!==r&&(this.dataExport=r),void 0!==n&&(this.force=n),this.defer=this.$q.defer(),this.templateUrl=e,this.ViewStateService.setState("modalShowing"),this.isOpen=!0,this.defer.promise},e.prototype.error=function(e){this.initialize(),this.dataIn=e,this.templateUrl="views/error.html",this.ViewStateService.setState("modalShowing")},e.prototype.close=function(){this.ViewStateService.setEditing(!1),this.ViewStateService.setState(this.ViewStateService.prevState),this.isOpen=!1,this.ViewStateService.hierarchyState.isShown()&&this.ViewStateService.hierarchyState.toggleHierarchy(),this.defer.resolve(!1)},e.prototype.closeAndResolve=function(e){this.ViewStateService.setEditing(!1),this.ViewStateService.setState(this.ViewStateService.prevState),this.isOpen=!1,this.ViewStateService.hierarchyState.isShown()&&this.ViewStateService.hierarchyState.toggleHierarchy(),this.defer.resolve(e)},e.prototype.confirm=function(){this.ViewStateService.setEditing(!1),this.ViewStateService.setState(this.ViewStateService.prevState),this.isOpen=!1,this.defer.resolve(!0)},e.prototype.select=function(e){this.closeAndResolve(e)},e.prototype.confirmContent=function(){this.ViewStateService.setEditing(!1),this.ViewStateService.setState(this.ViewStateService.prevState),this.isOpen=!1,this.defer.resolve(this.dataOut)},e.prototype.getTemplateUrl=function(){return this.templateUrl},e}();n.module("emuwebApp").service("ModalService",["$q","ArrayHelperService","ViewStateService",fl]);var dl=function(){function e(e){this.$window=e,this.audioBuffer={},this.isPlaying=!1}return e.prototype.initAudioContext=function(){try{window.AudioContext=this.$window.AudioContext||this.$window.webkitAudioContext,this.audioContext=new AudioContext}catch(e){alert("Error loading the AudioContext (could mean your browser does not support the HTML5 webaudio API):"+e)}},e.prototype.decodeAndPlay=function(e,t){var r=this;void 0===this.audioContext&&this.initAudioContext();var n=e/this.audioBuffer.sampleRate,i=t/this.audioBuffer.sampleRate-n;this.curSource=this.audioContext.createBufferSource(),this.curSource.buffer=this.audioBuffer,this.curSource.connect(this.audioContext.destination),this.curSource.start(0,n,i),this.curSource.onended=function(){r.isPlaying=!1}},e.prototype.playFromTo=function(e,t){this.isPlaying?(this.isPlaying=!1,this.curSource.stop(0)):(this.isPlaying=!0,this.audioBuffer.length>0&&this.decodeAndPlay(e,t))},e}();n.module("emuwebApp").service("SoundHandlerService",["$window",dl]);var vl=function(){function e(e,t){this.SoundHandlerService=e,this.ConfigProviderService=t,this.data=[]}return e.prototype.getFile=function(e){var t,r=this;return void 0!==this.ConfigProviderService.curDbConfig.ssffTrackDefinitions&&this.ConfigProviderService.curDbConfig.ssffTrackDefinitions.forEach((function(n){n.name===e&&r.data.forEach((function(e){e.fileExtension===n.fileExtension&&(t=e)}))})),t},e.prototype.getColumnOfTrack=function(e,t){var r,n=this.getFile(e);if(void 0!==n)return n.Columns.forEach((function(e){e.name===t&&(r=e)})),r},e.prototype.getSampleRateAndStartTimeOfTrack=function(e){var t={},r=this.getFile(e);if(void 0!==r)return t.sampleRate=r.sampleRate,t.startTime=r.startTime,t},e.prototype.calculateSamplePosInVP=function(e,t,r){var n=e/t+r;return Math.round(n*this.SoundHandlerService.audioBuffer.sampleRate)},e}();function ml(e){e=e||window.Worker,this.url=this.getWorkerURL(),this.worker=new e(this.url)}n.module("emuwebApp").service("SsffDataService",["SoundHandlerService","ConfigProviderService",vl]),ml.prototype={getWorkerScript:function(){var e="";return e+="("+this.workerInit+")(this);"},workerInit:function(e){var t,r,n={},i="-----------------\n";n.fileExtension="",n.sampleRate=-1,n.startTime=-1,n.origFreq=-1,n.Columns=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),e.btoa||(e.btoa=function(e){var r,n,i,a,o,s;for(i=e.length,n=0,r="";n<i;){if(a=255&e.charCodeAt(n++),n===i){r+=t.charAt(a>>2),r+=t.charAt((3&a)<<4),r+="==";break}if(o=e.charCodeAt(n++),n===i){r+=t.charAt(a>>2),r+=t.charAt((3&a)<<4|(240&o)>>4),r+=t.charAt((15&o)<<2),r+="=";break}s=e.charCodeAt(n++),r+=t.charAt(a>>2),r+=t.charAt((3&a)<<4|(240&o)>>4),r+=t.charAt((15&o)<<2|(192&s)>>6),r+=t.charAt(63&s)}return r}),e.atob||(e.atob=function(e){var t,n,i,a,o,s,l;for(s=e.length,o=0,l="";o<s;){do{t=r[255&e.charCodeAt(o++)]}while(o<s&&-1===t);if(-1===t)break;do{n=r[255&e.charCodeAt(o++)]}while(o<s&&-1===n);if(-1===n)break;l+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(i=255&e.charCodeAt(o++)))return l;i=r[i]}while(o<s&&-1===i);if(-1===i)break;l+=String.fromCharCode((15&n)<<4|(60&i)>>2);do{if(61==(a=255&e.charCodeAt(o++)))return l;a=r[a]}while(o<s&&-1===a);if(-1===a)break;l+=String.fromCharCode((3&i)<<6|a)}return l}),e.base64ToArrayBuffer=function(t){for(var r=e.atob(t),n=r.length,i=new Uint8Array(n),a=0;a<n;a++){var o=r.charCodeAt(a);i[a]=o}return i.buffer},e.round=function(e,t){if(t<1||t>14)return!1;var r=Math.pow(10,t),n=(Math.round(e*r)/r).toString();return-1===n.indexOf(".")&&(n+="."),(n+=r.toString().substring(1)).substring(0,n.indexOf(".")+t+1)},e.stringToUint=function(e){for(var t=e.split(""),r=[],n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)},e.Uint8Concat=function(e,t){var r=e.length,n=new Uint8Array(r+t.length);return n.set(e),n.set(t,r),n},e.ssff2jso=function(e,t){n.fileExtension=t,n.Columns=[];var r=new Uint8Array(e),a=new DataView(e),o="";if("TextDecoder"in this)o=new TextDecoder("ASCII").decode(a);else for(var s=0;s<r.length;s++)o+=String.fromCharCode(r[s]);var l=o.split(/^/m);if("SSFF -- (c) SHLRC\n"!==l[0])return{status:{type:"ERROR",message:"SSFF parse error: first line != SSFF -- (c) SHLRC in file with fileExtension "+t}};if("Machine IBM-PC\n"!==l[1])return{status:{type:"ERROR",message:"SSFF parse error: machineID != Machine IBM-PC in file with fileExtension "+t}};n.sampleRate=void 0,n.startTime=void 0;for(var c=0;l[c]!==i;)"Record_Freq"===l[c].split(/[ ,]+/)[0]&&(n.sampleRate=parseFloat(l[c].split(/[ ,]+/)[1].replace(/(\r\n|\n|\r)/gm,""))),"Start_Time"===l[c].split(/[ ,]+/)[0]&&(n.startTime=parseFloat(l[c].split(/[ ,]+/)[1].replace(/(\r\n|\n|\r)/gm,""))),c+=1;if(void 0===n.sampleRate||void 0===n.startTime)return{status:{type:"ERROR",message:"SSFF parse error: Required fields Record_Freq or Start_Time not set in file with fileExtension "+t}};for(var u=4;u<l.length&&("Original_Freq"===l[u].split(/[ ,]+/)[0]&&(n.origFreq=parseFloat(l[u].split(/[ ,]+/)[2].replace(/(\r\n|\n|\r)/gm,""))),l[u]!==i);u++){var h=l[u].split(/[ ]+/);"Column"===h[0]&&n.Columns.push({name:h[1],ssffdatatype:h[2],length:parseInt(h[3].replace(/(\r\n|\n|\r)/gm,""),10),values:[],_minVal:1/0,_maxVal:-1/0})}for(var p,f,d,v,m,g=l.slice(0,u+1).join("").length;g<r.length;)for(u=0;u<n.Columns.length;u++)if("DOUBLE"===n.Columns[u].ssffdatatype)d=8*n.Columns[u].length,f=e.subarray(g,d),"undefined"==typeof Float64Array&&(Float64Array=Float32Array),p=new Float64Array(f),n.Columns[u].values.push(Array.prototype.slice.call(p)),g+=d,v=Math.min.apply(null,Array.prototype.slice.call(p)),m=Math.max.apply(null,Array.prototype.slice.call(p)),v<n.Columns[u]._minVal&&(n.Columns[u]._minVal=v),m>n.Columns[u]._maxVal&&(n.Columns[u]._maxVal=m);else if("FLOAT"===n.Columns[u].ssffdatatype)d=4*n.Columns[u].length,f=e.subarray(g,d),p=new Float32Array(f),n.Columns[u].values.push(Array.prototype.slice.call(p)),g+=d,v=Math.min.apply(null,Array.prototype.slice.call(p)),m=Math.max.apply(null,Array.prototype.slice.call(p)),v<n.Columns[u]._minVal&&(n.Columns[u]._minVal=v),m>n.Columns[u]._maxVal&&(n.Columns[u]._maxVal=m);else if("SHORT"===n.Columns[u].ssffdatatype)d=2*n.Columns[u].length,f=e.subarray(g,d),p=new Int16Array(f),n.Columns[u].values.push(Array.prototype.slice.call(p)),g+=d,v=Math.min.apply(null,Array.prototype.slice.call(p)),m=Math.max.apply(null,Array.prototype.slice.call(p)),v<n.Columns[u]._minVal&&(n.Columns[u]._minVal=v),m>n.Columns[u]._maxVal&&(n.Columns[u]._maxVal=m);else if("LONG"===n.Columns[u].ssffdatatype)d=4*n.Columns[u].length,f=e.subarray(g,d),p=new Int32Array(f),n.Columns[u].values.push(Array.prototype.slice.call(p)),g+=d,v=Math.min.apply(null,Array.prototype.slice.call(p)),m=Math.max.apply(null,Array.prototype.slice.call(p)),v<n.Columns[u]._minVal&&(n.Columns[u]._minVal=v),m>n.Columns[u]._maxVal&&(n.Columns[u]._maxVal=m);else{if("BYTE"!==n.Columns[u].ssffdatatype)return{status:{type:"ERROR",message:"Unsupported column type! Only DOUBLE, FLOAT, SHORT, LONG, BYTE column types are currently supported in file with fileExtension "+t}};d=1*n.Columns[u].length,f=e.subarray(g,d),p=new Uint8Array(f),n.Columns[u].values.push(Array.prototype.slice.call(p)),g+=d}return n},e.jso2ssff=function(t){var r="SSFF -- (c) SHLRC\nMachine IBM-PC\n";r+="Record_Freq "+e.round(t.sampleRate,1)+"\n",r+="Start_Time "+t.startTime+"\n",t.Columns.forEach(e=>{r+="Column "+e.name+" "+e.ssffdatatype+" "+e.length+"\n"}),r+="Original_Freq DOUBLE "+e.round(t.origFreq,1)+"\n",r+=i;var n=0,a=!1;if(t.Columns.forEach(e=>{"BYTE"===e.ssffdatatype?n+=e.length:"SHORT"===e.ssffdatatype?n+=2*e.length:"LONG"===e.ssffdatatype||"FLOAT"===e.ssffdatatype?n+=4*e.length:"DOUBLE"===e.ssffdatatype?n+=8*e.length:a=!0}),a)return{status:{type:"ERROR",message:"Unsupported SSFF column type! Only DOUBLE, FLOAT, LONG, SHORT, BYTE columns supported,"}};var o,s=n*t.Columns[0].values.length,l=new ArrayBuffer(s),c=new DataView(l),u=new Uint8Array(e.stringToUint(r)),h=0;if(o=!0,t.Columns[0].values.forEach((e,r)=>{t.Columns.forEach(e=>{"BYTE"===e.ssffdatatype?e.values[r].forEach(e=>{c.setInt8(h,e),h+=1}):"SHORT"===e.ssffdatatype?e.values[r].forEach(e=>{c.setInt16(h,e,o),h+=2}):"LONG"===e.ssffdatatype?e.values[r].forEach(e=>{c.setInt32(h,e,o),h+=4}):"FLOAT"===e.ssffdatatype?e.values[r].forEach(e=>{c.setFloat32(h,e,o),h+=4}):"DOUBLE"===e.ssffdatatype?e.values[r].forEach(e=>{c.setFloat64(h,e,o),h+=8}):a=!0})}),a)return{status:{type:"ERROR",message:"Unsupported column type discovered when writing SSFF data; this is not expected behaviour."}};var p=new Uint8Array(c.buffer);return{status:{type:"SUCCESS",message:""},data:(u=new e.Uint8Concat(u,p)).buffer}},e.parseArr=function(t){for(var r,n=!0,i=[],a=0;a<t.length;a++){var o;if({},"BASE64"===t[a].encoding?o=e.base64ToArrayBuffer(t[a].data):"ARRAYBUFFER"===t[a].encoding&&(o=t[a].data),void 0!==(r=e.ssff2jso(o,t[a].fileExtension)).status)return n=!1,r;i.push(JSON.parse(JSON.stringify(r)))}return n?{status:{type:"SUCCESS",message:""},data:i}:{status:{type:"ERROR",message:"Error in parseArr() with: "+JSON.stringify(t)}}},ArrayBuffer.prototype.subarray=function(e,t){for(var r=new ArrayBuffer(t),n=new Int8Array(r),i=new Int8Array(this),a=0;a<t;a++)n[a]=i[e+a];return r},e.onmessage=function(t){if(void 0!==t.data)switch(t.data.cmd){case"parseArr":e.postMessage(e.parseArr(t.data.ssffArr));break;case"jso2ssff":e.postMessage(e.jso2ssff(JSON.parse(t.data.jso)));break;default:e.postMessage({status:{type:"ERROR",message:"Unknown command sent to SsffParserWorker"}})}else e.postMessage({status:{type:"ERROR",message:"Undefined message was sent to SsffParserWorker"}})}},getWorkerURL:function(){var e;try{e=new Blob([this.getWorkerScript()],{type:"application/javascript"})}catch(t){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(e=new BlobBuilder).append(ml),e=e.getBlob()}return"object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(e):URL.createObjectURL(e)},kill:function(){this.worker&&(this.worker.terminate(),this.worker=void 0),this.url&&("object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.revokeObjectURL(this.url):URL.revokeObjectURL(this.url),this.url=void 0)},tell:function(e){this.worker&&this.worker.postMessage(e)},says:function(e){this.worker&&this.worker.addEventListener("message",(function(t){e(t.data)}))}};var gl=function(){function e(e){var t=this;this.$q=e,this.worker=new ml,this.worker.says((function(e){"SUCCESS"===e.status.type?t.defer.resolve(e):t.defer.reject(e)}),!1)}return e.prototype.asyncParseSsffArr=function(e){return this.defer=this.$q.defer(),this.worker.tell({cmd:"parseArr",ssffArr:e}),this.defer.promise},e.prototype.asyncJso2ssff=function(e){return this.defer=this.$q.defer(),this.worker.tell({cmd:"jso2ssff",jso:JSON.stringify(e)}),this.defer.promise},e}();n.module("emuwebApp").service("SsffParserService",["$q",gl]);var Sl=function(){function e(){}return e.prototype.traverseAndClean=function(e){for(var t in e)"_"===t.substr(0,1)&&delete e[t],null!==e[t]&&"object"==typeof e[t]&&this.traverseAndClean(e[t])},e.prototype.reverseCopy=function(e){var t=n.copy(e);return t.reverse(),t},e}();function wl(e){e=e||window.Worker,this.url=this.getWorkerURL(),this.worker=new e(this.url)}n.module("emuwebApp").service("StandardFuncsService",Sl),wl.prototype={getWorkerScript:function(){var e="";return e+="("+this.workerInit+")(this);"},workerInit:function(e){e.l1='File type = "ooTextFile"',e.l2='Object class = "TextGrid"',e.localID=0,e.testForGapsInLabelJSO=function(e){for(var t=0;t<e.levels.length;t++)if("SEGMENT"===e.levels[t].type)for(var r=0;r<e.levels[t].items.length-1;r++)e.levels[t].items[r].sampleStart+e.levels[t].items[r].sampleDur+1!==e.levels[t].items[r+1].sampleStart&&1},e.findTimeOfMinSample=function(){return 0},e.findTimeOfMaxSample=function(e,t){return e/t},e.toJSO=function(t,r,n,i){t=(t=(t=t.replace(/([ \t]*\r?\n)+/g,"\n")).replace(/("[^\n]*")/g,(function(e,t){return t.replace(/\s+/g,"123abcABCCBAcba321")}))).replace(/[\t ]+/g,"");var a,o,s,l,c=new RegExp("123abcABCCBAcba321","g"),u=(t=t.replace(c," ")).split("\n"),h=!0,p=[],f={name:n,annotates:r,sampleRate:i,levels:[],links:[]};if(u[0].replace(/\s+/g,"")===e.l1.replace(/\s+/g,"")&&u[1].replace(/\s+/g,"")===e.l2.replace(/\s+/g,"")){for(var d=2;d<u.length;d++){var v=u[d];if("item[]:"!==v){if(!h)if(0===v.indexOf("item[")&&(o=u[d+2].split(/=/)[1].replace(/"/g,""),'"IntervalTier"'===u[d+1].split(/=/)[1]?(a="SEGMENT",f.levels.push({name:o,type:a,items:[]})):'"TextTier"'===u[d+1].split(/=/)[1]&&(a="EVENT",f.levels.push({name:o,type:a,items:[]}))),f.levels.length>0&&"SEGMENT"===f.levels[f.levels.length-1].type&&0===v.indexOf("intervals")&&0!==v.indexOf("intervals:")){var m=Math.floor(u[d+1].split(/=/)[1]*i),g=Math.floor(u[d+2].split(/=/)[1]*i);l=u[d+3].split(/=/)[1].replace(/"/g,""),(p=[]).push({name:f.levels[f.levels.length-1].name,value:l}),f.levels[f.levels.length-1].items.push({id:e.localID,sampleStart:m,sampleDur:g-m-1,labels:p}),++e.localID}else f.levels.length>0&&"EVENT"===f.levels[f.levels.length-1].type&&0===v.indexOf("points")&&0!==v.indexOf("points:")&&(s=u[d+1].split(/=/)[1]*i,l=u[d+2].split(/=/)[1].replace(/"/g,""),(p=[]).push({name:f.levels[f.levels.length-1].name,value:l}),f.levels[f.levels.length-1].items.push({id:e.localID,samplePoint:Math.round(s),labels:p}),++e.localID)}else h=!1}return e.testForGapsInLabelJSO(f),f}return{status:{type:"ERROR",message:"bad header in TextGrid file!!! The header has to be: "+e.l1+"\n"+e.l2+"; Note: Currently only long-form text TextGrids are supported!"}}},e.toTextGrid=function(t,r,n){var i="",a="\n",o="\t";i=(i=(i=(i=(i=(i=i+e.l1+a+e.l2+a+a)+"xmin = "+e.findTimeOfMinSample()+a)+"xmax = "+e.findTimeOfMaxSample(r,n)+a)+"levels? <exists>"+a)+"size = "+t.length+a)+"item []:"+a;for(var s=0;s<t.length;s++){var l=t[s];i=i+o+"item ["+s+"]:"+a,"SEGMENT"===l.type?i=i+o+o+'class = "IntervalTier"'+a:"EVENT"===l.type&&(i=i+o+o+'class = "TextTier"'+a),i=(i=(i=i+o+o+'name = "'+l.name+'"'+a)+o+o+"xmin = "+e.findTimeOfMinSample()+a)+o+o+"xmax = "+e.findTimeOfMaxSample(r,n)+a,"SEGMENT"===l.type?i=i+o+o+"intervals: size = "+l.items.length+a:"EVENT"===l.type&&(i=i+o+o+"points: size = "+l.items.length+a);for(var c=0;c<l.items.length;c++){var u=c+1;"SEGMENT"===l.type?(i=i+o+o+o+"intervals ["+u+"]:"+a,i=0!==l.items[c].sampleStart?i+o+o+o+o+"xmin = "+(l.items[c].sampleStart/n+1/n/2)+a:i+o+o+o+o+"xmin = 0"+a,i=(i=c<l.items.length-1?i+o+o+o+o+"xmax = "+((l.items[c].sampleStart+l.items[c].sampleDur)/n+1/n/2)+a:i+o+o+o+o+"xmax = "+e.findTimeOfMaxSample(r,n)+a)+o+o+o+o+'text = "'+l.items[c].labels[0].value+'"'+a):"EVENT"===l.type&&(i=(i=(i=i+o+o+o+"points["+u+"]:"+a)+o+o+o+o+"time = "+l.items[c].samplePoint/n+a)+o+o+o+o+'mark = "'+l.items[c].labels[0].value+'"'+a)}}return i},e.onmessage=function(t){var r;if(void 0!==t.data)switch(t.data.cmd){case"parseTG":void 0===(r=e.toJSO(t.data.textGrid,t.data.annotates,t.data.name,t.data.sampleRate)).status?e.postMessage({status:{type:"SUCCESS",message:""},data:r}):e.postMessage(r);break;case"toTextGrid":void 0===(r=e.toTextGrid(t.data.levels,t.data.buffLength,t.data.sampleRate)).status?e.postMessage({status:{type:"SUCCESS",message:""},data:r}):e.postMessage(r);break;default:e.postMessage({status:{type:"ERROR",message:"Unknown command sent to TextGridParserWorker"}})}else e.postMessage({status:{type:"ERROR",message:"Undefined message was sent to TextGridParserWorker"}})}},getWorkerURL:function(){var e;try{e=new Blob([this.getWorkerScript()],{type:"application/javascript"})}catch(t){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(e=new BlobBuilder).append(wl),e=e.getBlob()}return"object"!=typeof URL&&"undefined"!=typeof webkitURL?webkitURL.createObjectURL(e):URL.createObjectURL(e)},kill:function(){this.worker&&this.worker.terminate(),this.url&&URL.revokeObjectURL(this.url)},tell:function(e){this.worker&&this.worker.postMessage(e)},says:function(e){this.worker&&this.worker.addEventListener("message",(function(t){e(t.data)}))}};var yl=function(){function e(e,t,r,n){var i=this;this.$q=e,this.DataService=t,this.ViewStateService=r,this.SoundHandlerService=n,this.worker=new wl,this.worker.says((function(e){"SUCCESS"===e.status.type?i.defer.resolve(e.data):i.defer.reject(e)}),!1)}return e.prototype.asyncToTextGrid=function(){return this.defer=this.$q.defer(),this.worker.tell({cmd:"toTextGrid",levels:this.DataService.getData().levels,sampleRate:this.SoundHandlerService.audioBuffer.sampleRate,buffLength:this.SoundHandlerService.audioBuffer.length}),this.defer.promise},e.prototype.asyncParseTextGrid=function(e,t,r){return this.defer=this.$q.defer(),this.worker.tell({cmd:"parseTG",textGrid:e,sampleRate:this.SoundHandlerService.audioBuffer.sampleRate,annotates:t,name:r}),this.defer.promise},e}();n.module("emuwebApp").service("TextGridParserService",["$q","DataService","ViewStateService","SoundHandlerService",yl]);var bl=function(){function e(){}return e.prototype.rand=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t},e.prototype.new=function(){return this.rand(!1)+this.rand(!0)+this.rand(!0)+this.rand(!1)},e.prototype.newHash=function(){return this.rand(!1)+this.rand(!0)+this.rand(!0)+this.rand(!1)},e.prototype.empty=function(){return"00000000-0000-0000-0000-000000000000"},e}();n.module("emuwebApp").service("UuidService",bl);var xl=function(){function e(e,t,r){this.$http=e,this.$q=t,this.ConfigProviderService=r,this.schemasJsos=[],this.names=["annotationFileSchema","emuwebappConfigSchema","DBconfigFileSchema","bundleListSchema","bundleSchema","designSchema"]}return e.prototype.checkIfLevelsAreDefined=function(e,t){var r=!0;return t.levelDefinitions.forEach((function(t){for(var r=e.indexOf(t.name);-1!==r;)e.splice(r,1),r=e.indexOf(t.name)})),0!==e.length&&(r="Following levels are not defined: "+e),r},e.prototype.checkIfSsffTracksAreDefined=function(e,t){var r=!0,n=e.indexOf("OSCI");return-1!==n&&e.splice(n,1),-1!==(n=e.indexOf("SPEC"))&&e.splice(n,1),t.ssffTrackDefinitions.forEach((function(t){for(var r=e.indexOf(t.name);-1!==r;)e.splice(r,1),r=e.indexOf(t.name)})),0!==e.length&&(r="Following ssffTracks are not defined: "+e),r},e.prototype.semCheckLoadedConfigs=function(e,t){var r=this,i=!0,a=!0;t.levelDefinitions.forEach((function(e,t){e.attributeDefinitions.forEach((function(r,n){var o=0;e.attributeDefinitions.forEach((function(e){r.name===e.name&&(o+=1)})),o>1&&(i="Error in DBconfig /levelDefinitions["+t+"]/attributeDefinitions["+n+"] duplicate attribute definitions found for this entry!",a=!1)}))})),e.perspectives.forEach((function(e){if(a){var o=r.checkIfSsffTracksAreDefined(n.copy(e.signalCanvases.order),t);!0!==o&&(i="Error in EMUwebAppConfig/perspectives/signalCanvases/order! References to undefined ssffTracks are present. "+o,a=!1);var s=[];e.signalCanvases.assign.forEach((function(n){a&&(s.push(n.ssffTrackName),n.signalCanvasName===n.ssffTrackName&&(i="Error in EMUwebAppConfig/perspectives/signalCanvases/assign! Assignment to self is not possible! signalCanvasesName: "+n.signalCanvasName,a=!1),"OSCI"!==n.ssffTrackName&&"SPEC"!==n.ssffTrackName||(i="Error in EMUwebAppConfig/perspectives/signalCanvases/assign! Assignment of OSCI or SPEC is not possible!",a=!1),!0!==(o=r.checkIfSsffTracksAreDefined([n.signalCanvasName,n.ssffTrackName],t))&&(i="Error in EMUwebAppConfig/perspectives/signalCanvases/assign! References to undefined ssffTracks are present. "+o,a=!1),-1===e.signalCanvases.order.indexOf(n.signalCanvasName)&&(i="Error in EMUwebAppConfig/perspectives/signalCanvases/assign! References to ssffTracks that are not displayed (not in order array of that perspective) are: "+n.signalCanvasName,a=!1))})),e.signalCanvases.contourLims.forEach((function(n){a&&(!0!==(o=r.checkIfSsffTracksAreDefined([n.ssffTrackName],t))&&(i="Error in EMUwebAppConfig/perspectives/signalCanvases/contourLims! References to undefined ssffTracks are present. "+o,a=!1),-1===e.signalCanvases.order.concat(s).indexOf(n.ssffTrackName)&&(i="Error in EMUwebAppConfig/perspectives/signalCanvases/contourLims! References to ssffTracks that are not displayed (not in order array of that perspective) are: "+n.ssffTrackName,a=!1))}));var l=r.checkIfLevelsAreDefined(n.copy(e.levelCanvases.order),t);!0!==l&&(i="Error in EMUwebAppConfig/perspectives/levelCanvases/order! References to undefined levels are present. "+l,a=!1),e.levelCanvases.order.forEach((function(e){if(a){var t=r.ConfigProviderService.getLevelDefinition(e);"SEGMENT"!==t.type&&"EVENT"!==t.type&&(i="Error in EMUwebAppConfig/perspectives/levelCanvases/order! Configured to display levels of type ITEM as levels containing time information (ITEM level in order array). LevelName: "+e,a=!1)}})),void 0!==e.twoDimCanvases&&void 0!==e.twoDimCanvases.twoDimDrawingDefinitions&&e.twoDimCanvases.twoDimDrawingDefinitions.forEach((function(e){if(a){var n=[];e.dots.forEach((function(e){a&&(n.push(e.name),!0!==(o=r.checkIfSsffTracksAreDefined([e.xSsffTrack,e.ySsffTrack],t))&&(i="Error in EMUwebAppConfig/perspectives/twoDimCanvases/twoDimDrawingDefinitions/dots! References to undefined ssffTracks are present. "+o,a=!1))})),e.connectLines.forEach((function(e){if(a){var t=n.indexOf(e.fromDot);-1===t&&(i="Error in EMUwebAppConfig/perspectives/twoDimCanvases/twoDimDrawingDefinitions/connectLines! References dots in fromDot that are not defined. dots.name: "+e.fromDot,a=!1),-1===(t=n.indexOf(e.toDot))&&(i="Error in EMUwebAppConfig/perspectives/twoDimCanvases/twoDimDrawingDefinitions/connectLines! References dots in toDot that are not defined. dots.name: "+e.toDot,a=!1)}})),e.staticDots.forEach((function(e){a&&e.xCoordinates.length!==e.yCoordinates.length&&(i="Error in EMUwebAppConfig/perspectives/twoDimCanvases/twoDimDrawingDefinitions/staticDots! xCoordinates and yCoordinates are not of the same length!",a=!1)}))}}))}}));var o=[],s=[];t.levelDefinitions.forEach((function(e){void 0!==e.anagestConfig&&(o.push(e.anagestConfig.verticalPosSsffTrackName),o.push(e.anagestConfig.velocitySsffTrackName),s.push(e.anagestConfig.autoLinkLevelName))}));var l=this.checkIfLevelsAreDefined(s,t);!0!==l&&(i="Error in DBconfig/levelDefinitions/anagestConfig/autoLinkLevelName! References to undefined levels are present. "+l);var c=this.checkIfSsffTracksAreDefined(o,t);return!0!==c&&(i="Error in DBconfig/levelDefinitions/anagestConfig/verticalPosSsffTrackName || velocitySsffTrackName! References to undefined ssffTracks are present. "+c),i},e.prototype.loadSchemas=function(){var e,t=this,r=[];return this.names.forEach((function(n){e="schemaFiles/"+n+".json",r.push(t.$http.get(e))})),this.$q.all(r)},e.prototype.setSchemas=function(e){var t=this;e.forEach((function(e){t.schemasJsos.push({name:e.config.url,data:e.data}),i.addSchema(e.config.url,e.data)}))},e.prototype.getSchema=function(e){var t;return this.schemasJsos.forEach((function(r){r.name==="schemaFiles/"+e+".json"&&(t=r)})),t},e.prototype.validateJSO=function(e,t){var r,n=this.getSchema(e);if(void 0!==n&&i.validate(t,n.data))if("DBconfigFileSchema"===e){var a=this.semCheckLoadedConfigs(this.ConfigProviderService.vals,this.ConfigProviderService.curDbConfig);r=!0===a||a}else r=!0;else r=void 0===n?"Schema: "+e+" is currently undefined! This is probably due to a misnamed schema file on the server...":i.error;return r},e}();n.module("emuwebApp").service("ValidationService",["$http","$q","ConfigProviderService",xl]);var kl=function(){function e(e,t,r,n,i,a){this.$rootScope=e,this.$timeout=t,this.$window=r,this.SoundHandlerService=n,this.DataService=i,this.StandardFuncsService=a,this.myWindow={BARTLETT:1,BARTLETTHANN:2,BLACKMAN:3,COSINE:4,GAUSS:5,HAMMING:6,HANN:7,LANCZOS:8,RECTANGULAR:9,TRIANGULAR:10},this.myMode={DEMO:1,WS:2,EMBEDDED:3},this.myTimeMode={absolute:1,relative:2},this.mySignalType={OSCI:1,SPEC:2},this.myTwoDimType={DOTS:1,EPG:2},this.curLevelAttrDefs=[],this.initialize()}return e.prototype.initialize=function(){var e=this;this.curViewPort={sS:0,eS:0,selectS:-1,selectE:-1,movingS:-1,movingE:-1,dragBarActive:!1,dragBarHeight:-1,windowWidth:void 0},this.spectroSettings={windowSizeInSecs:-1,rangeFrom:-1,rangeTo:-1,dynamicRange:-1,window:-1,drawHeatMapColors:-1,preEmphasisFilterFactor:-1},this.osciSettings={curChannel:0},this.playHeadAnimationInfos={sS:-1,eS:-1,curS:null,endFreezeSample:-1,autoscroll:!1},this.timelineSize=-1,this.somethingInProgress=!1,this.somethingInProgressTxt="",this.historyActionTxt="",this.editing=!1,this.cursorInTextField=!1,this.saving=!0,this.bundleListSideBarOpen=!1,this.rightSubmenuOpen=!1,this.curClickItems=[],this.curMousePosSample=0,this.curMouseX=0,this.curMouseTrackName=void 0,this.curMouseLevelName=void 0,this.curMouseLevelType=void 0,this.curClickLevelName=void 0,this.curClickLevelType=void 0,this.lastPcm=void 0,this.curPreselColumnSample=2,this.curCorrectionToolNr=void 0,this.curClickLevelIndex=void 0,this.start=null,this.TransitionTime=void 0,this.showDropZone=!0,this.movingBoundary=!1,this.movingBoundarySample=void 0,this.focusInTextField=!1,this.curTaskPercCompl=0,this.curPerspectiveIdx=-1,this.mouseInEmuWebApp=!1,this.focusOnEmuWebApp=!0,this.lastKeyCode=void 0,this.lastUpdate=void 0,this.url=void 0,this.pageSize=500,this.currentPage=void 0,this.curTimeAnchorIdx=-1,this.largeTextFieldInputFieldVisable=!1,this.largeTextFieldInputFieldCurLabel="",this.states=[],this.states.noDBorFilesloaded={permittedActions:["connectBtnClick","openDemoBtnDBclick","aboutBtnClick"]},this.states.loadingSaving={permittedActions:[]},this.states.labeling={permittedActions:["zoom","playaudio","spectSettingsChange","addLevelSegBtnClick","addLevelPointBtnClick","renameSelLevelBtnClick","downloadTextGridBtnClick","downloadAnnotationBtnClick","spectSettingsChange","clearBtnClick","labelAction","toggleSideBars","saveBndlBtnClick","showHierarchyBtnClick","editDBconfigBtnClick","aboutBtnClick","searchBtnClick"]},this.states.modalShowing=this.states.loadingSaving,this.prevState=this.states.noDBorFilesloaded,this.curState=this.states.noDBorFilesloaded,this.curLevelAttrDefs=[],this.hierarchyState={hierarchyShown:!1,selectedItemID:void 0,selectedLinkFromID:void 0,selectedLinkToID:void 0,editValue:void 0,inputFocus:!1,collapseInfo:{},scaleFactor:1,translate:[0,0],contextMenuID:void 0,newLinkFromID:void 0,path:[],curPathIdx:0,curNrOfPaths:0,rotated:!0,playing:0,resize:0,closeContextMenu:function(){e.hierarchyState.contextMenuID=void 0},getContextMenuID:function(){return e.hierarchyState.contextMenuID},getInputFocus:function(){return e.hierarchyState.inputFocus},getEditValue:function(){return e.hierarchyState.editValue},setEditValue:function(t){e.hierarchyState.editValue=t},reset:function(){e.hierarchyState.selectedItemID=void 0,e.hierarchyState.selectedLinkFromID=void 0,e.hierarchyState.selectedLinkToID=void 0,e.hierarchyState.editValue=void 0,e.hierarchyState.inputFocus=!1,e.hierarchyState.collapseInfo={},e.hierarchyState.scaleFactor=1,e.hierarchyState.translate=[0,0],e.hierarchyState.contextMenuID=void 0,e.hierarchyState.newLinkFromID=void 0},isRotated:function(){return e.hierarchyState.rotated},toggleRotation:function(){e.hierarchyState.rotated=!e.hierarchyState.rotated},toggleHierarchy:function(){e.hierarchyState.hierarchyShown=!e.hierarchyState.hierarchyShown,!1===e.hierarchyState.hierarchyShown&&e.StandardFuncsService.traverseAndClean(e.DataService.getData())},isShown:function(){return e.hierarchyState.hierarchyShown},getCollapsed:function(t){return void 0!==e.hierarchyState.collapseInfo[t]&&("boolean"==typeof e.hierarchyState.collapseInfo[t].collapsed&&e.hierarchyState.collapseInfo[t].collapsed)},getCollapsePosition:function(t){return void 0===e.hierarchyState.collapseInfo[t]?void 0:"object"==typeof e.hierarchyState.collapseInfo[t].collapsePosition?e.hierarchyState.collapseInfo[t].collapsePosition:void 0},getNumCollapsedParents:function(t){return void 0===e.hierarchyState.collapseInfo[t]?0:"number"==typeof e.hierarchyState.collapseInfo[t].numCollapsedParents?e.hierarchyState.collapseInfo[t].numCollapsedParents:0},setCollapsed:function(t,r){void 0===e.hierarchyState.collapseInfo[t]&&(e.hierarchyState.collapseInfo[t]={}),e.hierarchyState.collapseInfo[t].collapsed=r},setCollapsePosition:function(t,r){void 0===e.hierarchyState.collapseInfo[t]&&(e.hierarchyState.collapseInfo[t]={}),e.hierarchyState.collapseInfo[t].collapsePosition=r},setNumCollapsedParents:function(t,r){void 0===e.hierarchyState.collapseInfo[t]&&(e.hierarchyState.collapseInfo[t]={}),e.hierarchyState.collapseInfo[t].numCollapsedParents=r}}},e.prototype.getPermission=function(e){return this.curState.permittedActions.indexOf(e)>-1},e.prototype.setWindowWidth=function(e){this.curViewPort.windowWidth=e},e.prototype.setState=function(e){this.prevState=this.curState,this.curState="string"==typeof e?this.states[e]:e},e.prototype.updatePlayHead=function(e){this.SoundHandlerService.isPlaying&&this.$window.requestAnimationFrame(this.updatePlayHead.bind(this)),null===this.start&&(this.start=e);var t=Math.floor(e-this.start)/1e3*this.SoundHandlerService.audioBuffer.sampleRate;this.playHeadAnimationInfos.curS=Math.floor(this.playHeadAnimationInfos.sS+t),this.SoundHandlerService.isPlaying&&this.playHeadAnimationInfos.curS<=this.playHeadAnimationInfos.eS?(-1!==this.playHeadAnimationInfos.curS&&(this.curMousePosSample=this.playHeadAnimationInfos.curS),this.playHeadAnimationInfos.autoscroll&&this.playHeadAnimationInfos.curS>=this.curViewPort.eS&&this.setViewPort(this.curViewPort.eS,this.curViewPort.eS+(this.curViewPort.eS-this.curViewPort.sS))):(this.curMousePosSample=this.playHeadAnimationInfos.endFreezeSample,this.playHeadAnimationInfos.sS=-1,this.playHeadAnimationInfos.eS=-1,this.playHeadAnimationInfos.curS=0,this.start=null),this.$rootScope.$apply()},e.prototype.animatePlayHead=function(e,t,r){this.playHeadAnimationInfos.sS=e,this.playHeadAnimationInfos.eS=t,this.playHeadAnimationInfos.endFreezeSample=t,this.playHeadAnimationInfos.curS=e,void 0!==r&&(this.playHeadAnimationInfos.autoscroll=r),this.$window.requestAnimationFrame(this.updatePlayHead.bind(this))},e.prototype.select=function(e,t){this.curViewPort.selectS=e,this.curViewPort.selectE=t},e.prototype.resetSelect=function(){this.curViewPort.selectS=-1,this.curViewPort.selectE=-1},e.prototype.getViewPort=function(){return this.curViewPort},e.prototype.setspectroSettings=function(e,t,r,n,i,a,o,s,l){this.spectroSettings.windowSizeInSecs=e,this.spectroSettings.rangeFrom=parseInt(t,10),this.spectroSettings.rangeTo=parseInt(r,10),this.spectroSettings.dynamicRange=parseInt(n,10),this.setWindowFunction(i),this.spectroSettings.drawHeatMapColors=a,this.spectroSettings.preEmphasisFilterFactor=o,this.spectroSettings.heatMapColorAnchors=s,this.spectroSettings.invert=l},e.prototype.setOsciSettings=function(e){this.osciSettings.curChannel=e},e.prototype.setHierarchySettings=function(e){this.hierarchyState.path=e},e.prototype.getSelect=function(){return[this.curViewPort.selectS,this.curViewPort.selectE]},e.prototype.selectDependent=function(e,t){e<this.curViewPort.selectS&&(this.curViewPort.selectS=e),t>this.curViewPort.selectE&&(this.curViewPort.selectE=t)},e.prototype.selectLevel=function(e,t,r){var n,i=this.getcurClickLevelName();if(void 0===i)return e?(n=r.getLevelDetails(t[t.length-1]),void this.setcurClickLevel(n.name,n.type,t.length-1)):void(null!==(n=r.getLevelDetails(t[0]))&&this.setcurClickLevel(n.name,n.type,0));var a=-1;t.forEach((function(e,t){e===i&&(a=t)})),void 0===a?(n=r.getLevelDetails(t[0]),this.setcurClickLevel(n.name,n.type,0),this.curClickItems=[],this.selectBoundary()):e?a+1<t.length&&(n=r.getLevelDetails(t[a+1]),this.setcurClickLevel(n.name,n.type,t.idxOfNow+1),this.curClickItems=[],this.selectBoundary()):a-1>=0&&(n=r.getLevelDetails(t[a-1]),this.setcurClickLevel(n.name,n.type,t.idxOfNow-1),this.curClickItems=[],this.selectBoundary())},e.prototype.setWindowFunction=function(e){switch(e){case"BARTLETT":this.spectroSettings.window=this.myWindow.BARTLETT;break;case"BARTLETTHANN":this.spectroSettings.window=this.myWindow.BARTLETTHANN;break;case"BLACKMAN":this.spectroSettings.window=this.myWindow.BLACKMAN;break;case"COSINE":this.spectroSettings.window=this.myWindow.COSINE;break;case"GAUSS":this.spectroSettings.window=this.myWindow.GAUSS;break;case"HAMMING":this.spectroSettings.window=this.myWindow.HAMMING;break;case"HANN":this.spectroSettings.window=this.myWindow.HANN;break;case"LANCZOS":this.spectroSettings.window=this.myWindow.LANCZOS;break;case"RECTANGULAR":this.spectroSettings.window=this.myWindow.RECTANGULAR;break;case"TRIANGULAR":this.spectroSettings.window=this.myWindow.TRIANGULAR;break;default:this.spectroSettings.window=this.myWindow.BARTLETTHANN}},e.prototype.getWindowFunctions=function(){return this.myWindow},e.prototype.getCommunicationModes=function(){return this.myMode},e.prototype.getTimeModes=function(){return this.myTimeMode},e.prototype.getSignalTypes=function(){return this.mySignalType},e.prototype.getTwoDimTypes=function(){return this.myTwoDimType},e.prototype.getdragBarActive=function(){return this.curViewPort.dragBarActive},e.prototype.setdragBarActive=function(e){this.curViewPort.dragBarActive=e},e.prototype.getdragBarHeight=function(){return this.curViewPort.dragBarHeight},e.prototype.setdragBarHeight=function(e){this.curViewPort.dragBarHeight=e},e.prototype.getPos=function(e,t){return e*(t-this.curViewPort.sS)/(this.curViewPort.eS-this.curViewPort.sS+1)},e.prototype.getSampleDist=function(e){return this.getPos(e,this.curViewPort.sS+1)-this.getPos(e,this.curViewPort.sS)},e.prototype.toggleBundleListSideBar=function(e){var t=this;this.bundleListSideBarOpen=!this.bundleListSideBarOpen,this.$timeout((function(){var e=new Date;t.lastUpdate=e.getTime()}),e)},e.prototype.getBundleListSideBarOpen=function(){return this.bundleListSideBarOpen},e.prototype.setBundleListSideBarOpen=function(e){this.bundleListSideBarOpen=e},e.prototype.getTransitionTime=function(){return this.TransitionTime},e.prototype.setTransitionTime=function(e){this.TransitionTime=e},e.prototype.getPerspectivesSideBarOpen=function(){return this.rightSubmenuOpen},e.prototype.setPerspectivesSideBarOpen=function(e){this.rightSubmenuOpen=e},e.prototype.setcurClickLevel=function(e,t,r){this.setcurClickLevelName(e,r),this.setcurClickLevelType(t)},e.prototype.setcurClickLevelType=function(e){this.curClickLevelType=e},e.prototype.getcurClickLevelType=function(){return this.curClickLevelType},e.prototype.setcurClickLevelName=function(e,t){this.curClickLevelName=e,this.curClickLevelIndex=t},e.prototype.getcurClickLevelName=function(){return this.curClickLevelName},e.prototype.getcurClickLevelIndex=function(){return this.curClickLevelIndex},e.prototype.getcurClickNeighbours=function(){return this.curClickNeighbours},e.prototype.setcurMouseLevelName=function(e){this.curMouseLevelName=e},e.prototype.getcurMouseLevelName=function(){return this.curMouseLevelName},e.prototype.setcurMouseLevelType=function(e){this.curMouseLevelType=e},e.prototype.getcurMouseLevelType=function(){return this.curMouseLevelType},e.prototype.setcurMouseItem=function(e,t,r,n,i){this.curMouseItem=e,this.curMouseX=r,this.curMouseNeighbours=t,this.curMouseisFirst=n,this.curMouseisLast=i},e.prototype.getcurMouseItem=function(){return this.curMouseItem},e.prototype.getcurMouseisFirst=function(){return this.curMouseisFirst},e.prototype.getcurMouseisLast=function(){return this.curMouseisLast},e.prototype.getcurMouseNeighbours=function(){return this.curMouseNeighbours},e.prototype.getItemsInSelection=function(e){var t=this,r=[],n=this.curViewPort.selectS,i=this.curViewPort.selectE;return e.forEach((function(e){e.name===t.getcurClickLevelName()&&e.items.forEach((function(e){e.sampleStart>=n&&e.sampleStart+e.sampleDur<=i&&r.push(e),e.samplePoint>=n&&e.samplePoint<=i&&r.push(e)}))})),r.sort(this.sortbystart)},e.prototype.setcurClickItem=function(e){null!=e?(this.curClickItems=[],this.curClickItems.push(e),this.selectBoundary()):this.curClickItems=[]},e.prototype.selectBoundary=function(){var e,t;this.curClickItems.length>0&&(e=void 0===this.curClickItems[0].samplePoint?this.curClickItems[0].sampleStart:this.curClickItems[0].samplePoint,t=void 0===this.curClickItems[0].samplePoint?this.curClickItems[this.curClickItems.length-1].sampleStart+this.curClickItems[this.curClickItems.length-1].sampleDur:this.curClickItems[0].samplePoint,this.curClickItems.forEach((function(r){r.sampleStart<=e&&(e=r.sampleStart),r.sampleStart+r.sampleDur>=t&&(t=r.sampleStart+r.sampleDur)})),this.select(e,t+1))},e.prototype.setcurClickItemMultiple=function(e,t){0===this.curClickItems.length||void 0===this.curClickItems||null===this.curClickItems?(this.curClickItems=[],this.curClickItems.push(e)):-1===this.curClickItems.indexOf(e)?(this.curClickItems.indexOf(t)<0&&(this.curClickItems=[]),this.curClickItems.push(e),this.curClickItems.sort(this.sortbystart)):(this.curClickItems=[],this.curClickItems.push(e))},e.prototype.sortbystart=function(e,t){return e.sampleStart>t.sampleStart||e.samplePoint>t.samplePoint?1:e.sampleStart<t.sampleStart||e.samplePoint<t.samplePoint?-1:0},e.prototype.getselectedRange=function(){return this.curClickItems.length>1?{start:this.curClickItems[0].sampleStart,end:this.curClickItems[this.curClickItems.length-1].sampleStart+this.curClickItems[this.curClickItems.length-1].sampleDur}:1===this.curClickItems.length?void 0!==this.curClickItems[0].sampleStart?{start:this.curClickItems[0].sampleStart,end:this.curClickItems[0].sampleStart+this.curClickItems[0].sampleDur}:{start:this.curClickItems[0].samplePoint,end:this.curClickItems[0].samplePoint}:{start:-1,end:-1}},e.prototype.getcurClickItems=function(){return this.curClickItems},e.prototype.getselected=function(){return this.curClickItems},e.prototype.isEditing=function(){return this.editing},e.prototype.setEditing=function(e){this.editing=e},e.prototype.getLasPcm=function(){return this.lastPcm},e.prototype.setLastPcm=function(e){this.lastPcm=e},e.prototype.getcursorInTextField=function(){return this.cursorInTextField},e.prototype.setcursorInTextField=function(e){this.cursorInTextField=e},e.prototype.isSavingAllowed=function(){return this.saving},e.prototype.setSavingAllowed=function(e){this.saving=e},e.prototype.countSelected=function(){return this.curClickItems.length},e.prototype.getCurrentSample=function(e){return this.curViewPort.sS+(this.curViewPort.eS-this.curViewPort.sS)*e},e.prototype.getCurrentPercent=function(e){return e*(100/(this.curViewPort.eS-this.curViewPort.sS)/100)},e.prototype.getSamplesPerPixelVal=function(e){var t=parseFloat(this.curViewPort.sS);return(parseFloat(this.curViewPort.eS)-t)/e.originalEvent.target.width},e.prototype.getViewPortStartTime=function(){return this.curViewPort.sS/this.SoundHandlerService.audioBuffer.sampleRate-.5/this.SoundHandlerService.audioBuffer.sampleRate},e.prototype.getViewPortEndTime=function(){return this.curViewPort.eS/this.SoundHandlerService.audioBuffer.sampleRate+.5/this.SoundHandlerService.audioBuffer.sampleRate},e.prototype.getSelectedStartTime=function(){return this.curViewPort.selectS/this.SoundHandlerService.audioBuffer.sampleRate-.5/this.SoundHandlerService.audioBuffer.sampleRate},e.prototype.getSelectedEndTime=function(){return this.curViewPort.selectE/this.SoundHandlerService.audioBuffer.sampleRate+.5/this.SoundHandlerService.audioBuffer.sampleRate},e.prototype.calcSampleTime=function(e){return e/this.SoundHandlerService.audioBuffer.sampleRate+.5/this.SoundHandlerService.audioBuffer.sampleRate},e.prototype.setViewPort=function(e,t){var r=this.curViewPort.sS,n=this.curViewPort.eS;void 0!==e&&(this.curViewPort.sS=Math.round(e)),void 0!==t&&(this.curViewPort.eS=Math.round(t)),r>this.curViewPort.sS&&n>this.curViewPort.eS&&this.curViewPort.sS<0&&(this.curViewPort.sS=0,this.curViewPort.eS=n+Math.abs(this.curViewPort.sS)),r<this.curViewPort.sS&&n<this.curViewPort.eS&&this.curViewPort.eS>this.SoundHandlerService.audioBuffer.length&&(this.curViewPort.sS=r,this.curViewPort.eS=this.SoundHandlerService.audioBuffer.length),this.curViewPort.sS<0&&(this.curViewPort.sS=0),this.curViewPort.eS>this.SoundHandlerService.audioBuffer.length&&(this.curViewPort.eS=this.SoundHandlerService.audioBuffer.length),this.curViewPort.eS-this.curViewPort.sS<4&&(this.curViewPort.sS=r,this.curViewPort.eS=n)},e.prototype.zoomViewPort=function(e,t){var r,n,i,a=this.getcurMouseItem(),o=this.curViewPort.eS-this.curViewPort.sS,s=!1;if(void 0!==a){this.getcurMouseisFirst()?a=t.getItemDetails(this.getcurMouseLevelName(),0):this.getcurMouseisLast()&&(a=t.getLastItem(this.getcurMouseLevelName()),s=!0);var l=(i="SEGMENT"===this.getcurMouseLevelType()?s?a.sampleStart+a.sampleDur:a.sampleStart:a.samplePoint)-this.curViewPort.sS,c=this.curViewPort.eS-i;e?(r=this.curViewPort.sS+.5*l,n=this.curViewPort.eS-.5*c):(r=this.curViewPort.sS-.5*l,n=this.curViewPort.eS+.5*c)}else e?(r=this.curViewPort.sS+~~(o/4),n=this.curViewPort.eS-~~(o/4)):(r=this.curViewPort.sS-~~(o/4),n=this.curViewPort.eS+~~(o/4));this.setViewPort(r,n)},e.prototype.shiftViewPort=function(e){var t,r;e?(t=this.curViewPort.sS+~~((this.curViewPort.eS-this.curViewPort.sS)/4),r=this.curViewPort.eS+~~((this.curViewPort.eS-this.curViewPort.sS)/4)):(t=this.curViewPort.sS-~~((this.curViewPort.eS-this.curViewPort.sS)/4),r=this.curViewPort.eS-~~((this.curViewPort.eS-this.curViewPort.sS)/4)),this.setViewPort(t,r)},e.prototype.setCurLevelAttrDefs=function(e){var t=this;e.forEach((function(e){t.curLevelAttrDefs.push({levelName:e.name,curAttrDefName:e.name})}))},e.prototype.setCurAttrDef=function(e,t,r){this.curLevelAttrDefs.forEach((function(n){n.levelName===e&&(n.curAttrDefName=t,n.curAttrDefIndex=r)}))},e.prototype.getCurAttrDef=function(e){var t;return this.curLevelAttrDefs.forEach((function(r){r.levelName===e&&(t=r.curAttrDefName)})),t},e.prototype.getCurAttrIndex=function(e){var t;return this.curLevelAttrDefs.forEach((function(r){r.levelName===e&&(t=void 0===r.curAttrDefIndex?0:r.curAttrDefIndex)})),t},e.prototype.setlastKeyCode=function(e){this.lastKeyCode=e},e.prototype.getX=function(e){return(e.offsetX||e.originalEvent.layerX)*(e.originalEvent.target.width/e.originalEvent.target.clientWidth)},e.prototype.getY=function(e){return(e.offsetY||e.originalEvent.layerY)*(e.originalEvent.target.height/e.originalEvent.target.clientHeight)},e.prototype.resetToInitState=function(){this.initialize()},e.prototype.getColorOfAnchor=function(e,t){return{"background-color":"rgb("+e[t][0]+","+e[t][1]+","+e[t][2]+")",width:"10px",height:"10px"}},e.prototype.numberOfPages=function(e){return Math.ceil(e/this.pageSize)},e.prototype.switchPerspective=function(e,t){t.length>e&&(this.curPerspectiveIdx=e)},e}();n.module("emuwebApp").service("ViewStateService",["$rootScope","$timeout","$window","SoundHandlerService","DataService","StandardFuncsService",kl]);var Cl=function(){function e(e,t){this.$q=e,this.$window=t}return e.prototype.ab2str=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return String.fromCharCode.apply(null,t)},e.prototype.parseWavHeader=function(e){var t,r,n,i={};if(t=0,r=e.subarray(t,4),n=new Uint8Array(r),i.ChunkID=this.ab2str(n),"RIFF"!==i.ChunkID)return{status:{type:"ERROR",message:"Wav read error: ChunkID not RIFF but "+i.ChunkID}};if(t=4,r=e.subarray(t,4),n=new Uint32Array(r),i.ChunkSize=n[0],t=8,r=e.subarray(t,4),n=new Uint8Array(r),i.Format=this.ab2str(n),"WAVE"!==i.Format)return{status:{type:"ERROR",message:"Wav read error: Format not WAVE but "+i.Format}};for(var a=!1,o=12;!a;){if(r=e.subarray(o,4),n=new Uint8Array(r),"fmt "===(l=this.ab2str(n))?(i.FmtSubchunkID="fmt ",a=!0):o+=1,"data"===l)return{status:{type:"ERROR",message:'Wav read error: Reached end of header by reaching data sub-chunk without finding "fmt " sub-chunk   '}}}if(t=o+4,r=e.subarray(t,4),n=new Uint32Array(r),i.FmtSubchunkSize=n[0],t=o+8,r=e.subarray(t,2),n=new Uint16Array(r),i.AudioFormat=n[0],-1===[0,1].indexOf(i.AudioFormat))return{status:{type:"ERROR",message:"Wav read error: AudioFormat not 0 or 1 but "+i.AudioFormat}};if(t=o+10,r=e.subarray(t,2),n=new Uint16Array(r),i.NumChannels=n[0],i.NumChannels<1)return{status:{type:"ERROR",message:"Wav read error: NumChannels not greater than 1 but "+i.NumChannels}};t=o+12,r=e.subarray(t,4),n=new Uint32Array(r),i.SampleRate=n[0],t=o+16,r=e.subarray(t,4),n=new Uint32Array(r),i.ByteRate=n[0],t=o+20,r=e.subarray(t,2),n=new Uint16Array(r),i.BlockAlign=n[0],t=o+12,r=e.subarray(t,2),n=new Uint16Array(r),i.BitsPerSample=n[0];a=!1;for(var s=o+14;!a;){var l;r=e.subarray(s,4),n=new Uint8Array(r),"data"===(l=this.ab2str(n))?(a=!0,r=e.subarray(s+4,4),n=new Uint32Array(r),i.dataChunkSize=n[0]):s+=1}return i},e.prototype.parseWavAudioBuf=function(e){var t=this,r=this.parseWavHeader(e);if(void 0!==r.status&&"ERROR"===r.status.type)return this.defer=this.$q.defer(),this.defer.reject(r),this.defer.promise;try{var n=new(this.$window.OfflineAudioContext||this.$window.webkitOfflineAudioContext)(r.NumChannels,r.dataChunkSize/r.NumChannels/(r.BitsPerSample/8),r.SampleRate);return this.defer=this.$q.defer(),n.decodeAudioData(e,(function(e){t.defer.resolve(e)}),(function(e){t.defer.reject(e)})),this.defer.promise}catch(e){var i={};i.exception=JSON.stringify(e,null,4),i.EMUwebAppComment="This could be because you are using Safari (or another webkit based browser) and the audio sample rate is not in the interval >= 44100 and <= 96000 which seem to currently be the only sample rates supported by the webkitOfflineAudioContext (see here https://github.com/WebKit/webkit/blob/29271ffbec500cd9c92050fcc0e613adffd0ce6a/Source/WebCore/Modules/webaudio/AudioContext.cpp#L111)";var a={status:{}};return a.status.message=JSON.stringify(i,null,4),this.defer=this.$q.defer(),this.defer.reject(a),this.defer.promise}},e}();n.module("emuwebApp").service("WavParserService",["$q","$window",Cl]);var $l=function(){function e(e,t,r,n,i,a,o,s,l,c,u,h,p,f,d){this.$q=e,this.$rootScope=t,this.$location=r,this.$timeout=n,this.HistoryService=i,this.SsffParserService=a,this.ConfigProviderService=o,this.ViewStateService=s,this.WavParserService=l,this.SoundHandlerService=c,this.EspsParserService=u,this.UuidService=h,this.BinaryDataManipHelperService=p,this.SsffDataService=f,this.ModalService=d,this.callbacks={},this.conPromise={},this.connected=!1,this.ws={}}return e.prototype.listener=function(e){var t=e;if(this.callbacks.hasOwnProperty(t.callbackID)){switch(t.type){case"getESPSfile":alert("espsfile");break;case"getSSFFfile":alert("ssfffile")}"SUCCESS"===t.status.type?this.$rootScope.$apply(this.callbacks[t.callbackID].cb.resolve(t.data)):(this.closeConnect(),this.$rootScope.$broadcast("resetToInitState"),this.$rootScope.$apply(this.ModalService.open("views/error.html","Communication error with server! Error message is: "+t.status.message))),delete this.callbacks[t.callbackID]}else void 0===t.status?this.ModalService.open("views/error.html","Just got JSON message from server that the EMU-webApp does not know how to deal with! This is not allowed!"):"ERROR:TIMEOUT"===t.status.type||this.ModalService.open("views/error.html","Received invalid messageObj.callbackID that could not be resolved to a request! This should not happen and indicates a bad server response! The invalid callbackID was: "+t.callbackID)},e.prototype.getCallbackId=function(){return this.UuidService.new()},e.prototype.wsonopen=function(e){this.connected=!0,this.$rootScope.$apply(this.conPromise.resolve(e))},e.prototype.wsonmessage=function(e){var t=this;try{var r=n.fromJson(e.data);this.listener(r)}catch(r){this.ModalService.open("views/error.html","Got non-JSON string as message from server! This is not allowed! The message was: "+e.data+" which caused the angular.fromJson error: "+r).then((function(){t.closeConnect(),t.$rootScope.$broadcast("resetToInitState")}))}},e.prototype.wsonerror=function(e){console.error("WEBSOCKET ERROR!!!!!"),this.$rootScope.$apply(this.conPromise.resolve(e))},e.prototype.wsonclose=function(e){var t=this;!e.wasClean&&this.connected&&this.ModalService.open("views/error.html","A non clean disconnect to the server occurred! This probably means that the server is down. Please check the server and reconnect!").then((function(){t.$rootScope.$broadcast("connectionDisrupted")})),this.connected=!1},e.prototype.sendRequest=function(e){var t=this,r=this.$q.defer(),i=this.getCallbackId();return this.callbacks[i]={time:new Date,cb:r},e.callbackID=i,this.ws.send(n.toJson(e)),this.$timeout((function(){var r={callbackID:i,status:{type:"ERROR:TIMEOUT",message:"Sent request of type: "+e.type+" timed out after "+t.ConfigProviderService.vals.main.serverTimeoutInterval+"ms!  Please check the server..."}};t.listener(r)}),this.ConfigProviderService.vals.main.serverTimeoutInterval),r.promise},e.prototype.initConnect=function(e){var t=this.$q.defer();try{this.ws=new WebSocket(e),this.ws.onopen=this.wsonopen.bind(this),this.ws.onmessage=this.wsonmessage.bind(this),this.ws.onerror=this.wsonerror.bind(this),this.ws.onclose=this.wsonclose.bind(this)}catch(e){return this.$q.reject("A malformed websocket URL that does not start with ws:// or wss:// was provided.")}return this.conPromise=t,t.promise},e.prototype.isConnected=function(){return this.connected},e.prototype.closeConnect=function(){this.isConnected()&&(this.ws.onclose=function(){},this.ws.close())},e.prototype.getProtocol=function(){return this.sendRequest({type:"GETPROTOCOL"})},e.prototype.getDoUserManagement=function(){return this.sendRequest({type:"GETDOUSERMANAGEMENT"})},e.prototype.logOnUser=function(e,t){var r={type:"LOGONUSER",userName:e,pwd:t};return this.sendRequest(r)},e.prototype.getDBconfigFile=function(){return this.sendRequest({type:"GETGLOBALDBCONFIG"})},e.prototype.getBundleList=function(){return this.sendRequest({type:"GETBUNDLELIST"})},e.prototype.getBundle=function(e,t){var r={type:"GETBUNDLE",name:e,session:t};return this.sendRequest(r)},e.prototype.saveBundle=function(e){var t={type:"SAVEBUNDLE",data:e};return this.sendRequest(t)},e.prototype.saveConfiguration=function(e){var t={type:"SAVEDBCONFIG",data:e};return this.sendRequest(t)},e.prototype.disconnectWarning=function(){return this.sendRequest({type:"DISCONNECTWARNING"})},e.prototype.getDoEditDBConfig=function(){return this.sendRequest({type:"GETDOEDITDBCONFIG"})},e.prototype.editDBConfig=function(e,t){var r={type:"EDITDBCONFIG",subtype:e,data:t};return this.sendRequest(r)},e}();n.module("emuwebApp").service("WebSocketHandlerService",["$q","$rootScope","$location","$timeout","HistoryService","SsffParserService","ConfigProviderService","ViewStateService","WavParserService","SoundHandlerService","EspsParserService","UuidService","BinaryDataManipHelperService","SsffDataService","ModalService",$l]);r(375),r(377),r(379),r(381),r(383),r(390),r(392),r(394),r(396),r(398),r(400),r(402),r(404),r(406),r(408),r(410),r(412),r(414),r(416),r(418),r(420),r(422),r(424),r(426),r(428)}]);